<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="common/css/sf.css" rel="stylesheet" type="text/css" />
<title>ImpEquiv</title>
<link href="common/jquery-ui/jquery-ui.css" rel="stylesheet">
<script src="common/jquery-ui/external/jquery/jquery.js"></script>
<script src="common/jquery-ui/jquery-ui.js"></script>
<script src="common/toggleproofs.js"></script>
<link href="common/css/rip.css" rel="stylesheet" type="text/css"/>
</head>

<body>

<div id="page">

<div id="header">
<div id='logoinheader'><a href='https://softwarefoundations.cis.upenn.edu'>
<img src='common/media/image/sf_logo_sm.png' alt='Software Foundations Logo'></a></div>
<div class='booktitleinheader'><a href='index.html'>Volume 7: Reasoning about Interactive Programs</a></div>
<ul id='menu'>
   <li class='section_name'><a href='toc.html'>Table of Contents</a></li>
   <li class='section_name'><a href='coqindex.html'>Index</a></li>
</ul>
</div>

<div id="main">

<h1 class="libtitle">ImpEquiv</h1>


<div class="doc">
<a id="lab215"></a><h2 class="section">Equivalence of Imp programs</h2>

<div class="paragraph"> </div>

 Each piece of syntax can be given a meaning in two steps:
<br/>
<span class="inlinecode">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">syntax</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;→            (<span class="id" title="var">representation</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">itree</span> <span class="id" title="var">MemE</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;→            (<span class="id" title="var">interpretation</span>)<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">stateT</span> <span class="id" title="var">mem</span> (<span class="id" title="var">itree</span> ∅)
</span> 
<div class="paragraph"> </div>

    This schema gives naturally rise to three notions of program equality, all defining
    relations on the syntax of programs.
    1. Syntactic equality, the program have equal syntax. One can consider relaxed
    notions, such as equality up-to alpha-renaming.
    2. Representation equality, the program have equivalent representations. Here the
    notion of equivalence is dictated by the monadic structure representations live in:
    they are itrees, we hence work w.r.t. <span class="inlinecode"><span class="id" title="var">eutt</span></span>
    3. Semantic equality, the program have equivalent models. Since our imp programs
    are modelled as computations in <span class="inlinecode"><span class="id" title="var">StateT</span></span> <span class="inlinecode"><span class="id" title="var">mem</span></span> <span class="inlinecode">(<span class="id" title="var">itree</span></span> <span class="inlinecode">∅)</span>, equivalence will be defined
    as point-wise eutt. For simplicity, we will assume functional extensionality when
    working with this equivalence --- we will discuss later how to avoid this problem.

<div class="paragraph"> </div>

    This distinction can be used to defined equivalences of arithmetic expressions, of
    boolean expressions, and of commands.
 <a id="lab216"></a><h3 class="section">Definitions and elementary properties</h3>

</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="aexp_equiv" class="idref" href="#aexp_equiv"><span class="id" title="definition">aexp_equiv</span></a> : <a class="idref" href="Utils.html#:::'rel'_x"><span class="id" title="notation">rel</span></a> <a class="idref" href="Imp.html#aexp"><span class="id" title="inductive">aexp</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="a<sub>1</sub>:1" class="idref" href="#a<sub>1</sub>:1"><span class="id" title="binder">a<sub>1</sub></span></a> <a id="a<sub>2</sub>:2" class="idref" href="#a<sub>2</sub>:2"><span class="id" title="binder">a<sub>2</sub></span></a> ⇒ <span class="id" title="keyword">∀</span> <a id="baa46ab95945e710a86e84e8dbcf8141" class="idref" href="#baa46ab95945e710a86e84e8dbcf8141"><span class="id" title="binder">σ</span></a>, <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">ℑ</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">a<sub>1</sub></span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟧</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">a</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">σ</span></a> <span class="id" title="notation">≈</span> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">ℑ</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">a<sub>2</sub></span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟧</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">a</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">σ</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="bexp_equiv" class="idref" href="#bexp_equiv"><span class="id" title="definition">bexp_equiv</span></a> : <a class="idref" href="Utils.html#:::'rel'_x"><span class="id" title="notation">rel</span></a> <a class="idref" href="Imp.html#bexp"><span class="id" title="inductive">bexp</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="b<sub>1</sub>:4" class="idref" href="#b<sub>1</sub>:4"><span class="id" title="binder">b<sub>1</sub></span></a> <a id="b<sub>2</sub>:5" class="idref" href="#b<sub>2</sub>:5"><span class="id" title="binder">b<sub>2</sub></span></a> ⇒ <span class="id" title="keyword">∀</span> <a id="f0835817faaba90db49f1e400f4a8926" class="idref" href="#f0835817faaba90db49f1e400f4a8926"><span class="id" title="binder">σ</span></a>, <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">ℑ</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">b<sub>1</sub></span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟧</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">b</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">σ</span></a> <span class="id" title="notation">≈</span> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">ℑ</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">b<sub>2</sub></span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟧</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">b</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">σ</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="com_eq" class="idref" href="#com_eq"><span class="id" title="definition">com_eq</span></a> : <a class="idref" href="Utils.html#:::'rel'_x"><span class="id" title="notation">rel</span></a> <a class="idref" href="Imp.html#com"><span class="id" title="inductive">com</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="c<sub>1</sub>:7" class="idref" href="#c<sub>1</sub>:7"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:8" class="idref" href="#c<sub>2</sub>:8"><span class="id" title="binder">c<sub>2</sub></span></a> ⇒ <a class="idref" href="ImpDenotation.html#a28bfd0a35de9a5c69829697b021d0f<sub>5</sub>"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ImpEquiv.html#c<sub>1</sub>:7"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="ImpDenotation.html#a28bfd0a35de9a5c69829697b021d0f<sub>5</sub>"><span class="id" title="notation">⟧</span></a> <span class="id" title="notation">≈</span> <a class="idref" href="ImpDenotation.html#a28bfd0a35de9a5c69829697b021d0f<sub>5</sub>"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ImpEquiv.html#c<sub>2</sub>:8"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="ImpDenotation.html#a28bfd0a35de9a5c69829697b021d0f<sub>5</sub>"><span class="id" title="notation">⟧</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="com_equiv" class="idref" href="#com_equiv"><span class="id" title="definition">com_equiv</span></a> : <a class="idref" href="Utils.html#:::'rel'_x"><span class="id" title="notation">rel</span></a> <a class="idref" href="Imp.html#com"><span class="id" title="inductive">com</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="c<sub>1</sub>:9" class="idref" href="#c<sub>1</sub>:9"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:10" class="idref" href="#c<sub>2</sub>:10"><span class="id" title="binder">c<sub>2</sub></span></a> ⇒ <span class="id" title="keyword">∀</span> <a id="303c62d4b554442e1659318da8f8db<sub>12</sub>" class="idref" href="#303c62d4b554442e1659318da8f8db<sub>12</sub>"><span class="id" title="binder">σ</span></a>, <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">ℑ</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">c<sub>1</sub></span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟧</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">σ</span></a> <span class="id" title="notation">≈</span> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">ℑ</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">c<sub>2</sub></span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟧</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">σ</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Infix</span> <a id="d7106b2ece10b3a82ce9d40f49cb50d<sub>8</sub>" class="idref" href="#d7106b2ece10b3a82ce9d40f49cb50d<sub>8</sub>"><span class="id" title="notation">&quot;</span></a>≈ₐ" := <a class="idref" href="ImpEquiv.html#aexp_equiv"><span class="id" title="definition">aexp_equiv</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20).<br/>
<span class="id" title="keyword">Infix</span> <a id="7190514c39b66a8ebe5baf5b4d4a5b<sub>49</sub>" class="idref" href="#7190514c39b66a8ebe5baf5b4d4a5b<sub>49</sub>"><span class="id" title="notation">&quot;</span></a>≈ᵦ" := <a class="idref" href="ImpEquiv.html#bexp_equiv"><span class="id" title="definition">bexp_equiv</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20).<br/>
<span class="id" title="keyword">Infix</span> <a id="8f9238d4eefe0b5c60a6c98165047666" class="idref" href="#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">&quot;</span></a>≡" := <a class="idref" href="ImpEquiv.html#com_eq"><span class="id" title="definition">com_eq</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20).<br/>
<span class="id" title="keyword">Infix</span> <a id="07441a5b1aff2e95834856beb1cf4a<sub>14</sub>" class="idref" href="#07441a5b1aff2e95834856beb1cf4a<sub>14</sub>"><span class="id" title="notation">&quot;</span></a>≊" := <a class="idref" href="ImpEquiv.html#com_equiv"><span class="id" title="definition">com_equiv</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20).<br/>
</div>

<div class="doc">
<a id="lab217"></a><h2 class="section">Elementary properties of program equivalences</h2>
 We establish the following central properties:
<ul class="doclist">
<li> All equivalences of syntax considered are <i>equivalence relations</i>


</li>
<li> Representation equality is strictly tighter than semantic equality

<div class="paragraph"> </div>


</li>
<li> All equivalences are congruences: they are compatible with every construction of the language

</li>
</ul>
 
</div>

<div class="doc">
<a id="lab219"></a><h3 class="section">Semantically characterizing the MemE events</h3>

<div class="paragraph"> </div>

 We start with two lemmas characterizing the semantics of
    the memory effects after interpretation, and add them to
    our normalization procedure.
 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="interp_state_rd" class="idref" href="#interp_state_rd"><span class="id" title="lemma">interp_state_rd</span></a> : <span class="id" title="keyword">∀</span> <a id="x:27" class="idref" href="#x:27"><span class="id" title="binder">x</span></a> <a id="a495c8a53f846c31d2ded0ea4db1b92c" class="idref" href="#a495c8a53f846c31d2ded0ea4db1b92c"><span class="id" title="binder">σ</span></a>, <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">ℑ</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">(</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">rd</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">x</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">)</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">σ</span></a> <span class="id" title="notation">≈</span> <span class="id" title="abbreviation">Ret</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ImpEquiv.html#a495c8a53f846c31d2ded0ea4db1b92c"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ImpEquiv.html#a495c8a53f846c31d2ded0ea4db1b92c"><span class="id" title="variable">σ</span></a> <a class="idref" href="ImpEquiv.html#x:27"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<div class="togglescript" id="proofcontrol1" onclick="toggleDisplay('proof1');toggleDisplay('proofcontrol1')"><span class="show"></span></div>
<div class="proofscript" id="proof1" onclick="toggleDisplay('proof1');toggleDisplay('proofcontrol1')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ImpDenotation.html#rd"><span class="id" title="definition">rd</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="interp_state_wr" class="idref" href="#interp_state_wr"><span class="id" title="lemma">interp_state_wr</span></a> : <span class="id" title="keyword">∀</span> <a id="x:29" class="idref" href="#x:29"><span class="id" title="binder">x</span></a> <a id="v:30" class="idref" href="#v:30"><span class="id" title="binder">v</span></a> <a id="5df2e7e27fd0e7c499ff2f308d8e465d" class="idref" href="#5df2e7e27fd0e7c499ff2f308d8e465d"><span class="id" title="binder">σ</span></a>, <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">ℑ</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">(</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">wr</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">x</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">v</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">)</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">σ</span></a> <span class="id" title="notation">≈</span> <span class="id" title="abbreviation">Ret</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ImpEquiv.html#x:29"><span class="id" title="variable">x</span></a> <a class="idref" href="Maps.html#630986d105c0f1782d085b9a306379a<sub>7</sub>"><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span></a> <a class="idref" href="ImpEquiv.html#v:30"><span class="id" title="variable">v</span></a> <a class="idref" href="Maps.html#630986d105c0f1782d085b9a306379a<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="ImpEquiv.html#5df2e7e27fd0e7c499ff2f308d8e465d"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<div class="togglescript" id="proofcontrol2" onclick="toggleDisplay('proof2');toggleDisplay('proofcontrol2')"><span class="show"></span></div>
<div class="proofscript" id="proof2" onclick="toggleDisplay('proof2');toggleDisplay('proofcontrol2')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ImpDenotation.html#wr"><span class="id" title="definition">wr</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div class="doc">
<a id="lab220"></a><h2 class="section">Semantically Characterizing Evaluation</h2>

<div class="paragraph"> </div>

 Optimizations are complex, global, functions crawling complete ASTs.
    In order to help us tackle such constructions, we start by building
    tools for ourselves: we collect sets of rewriting rules over
    small, open, pieces of syntax, that we prove to always be equivalent.

<div class="paragraph"> </div>

    Because equivalences are congruences, we will be able to lift for free
    these results and use these elementary rewrite rules in complete programs.

<div class="paragraph"> </div>

    As a first step, we establish that evaluation of arithmetic expressions
    is <i>pure</i>:
 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="aexp_pure_aeval" class="idref" href="#aexp_pure_aeval"><span class="id" title="lemma">aexp_pure_aeval</span></a> : <span class="id" title="keyword">∀</span> <a id="a:32" class="idref" href="#a:32"><span class="id" title="binder">a</span></a> <a id="4c6c5f9d294d87c4d7c3175f2cf027c<sub>5</sub>" class="idref" href="#4c6c5f9d294d87c4d7c3175f2cf027c<sub>5</sub>"><span class="id" title="binder">σ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">interp_state</span> <a class="idref" href="ImpDenotation.html#handle_Mem"><span class="id" title="definition">handle_Mem</span></a> <a class="idref" href="ImpDenotation.html#749971efbb1ba413576bd34b016bb092"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ImpEquiv.html#a:32"><span class="id" title="variable">a</span></a> <a class="idref" href="ImpDenotation.html#749971efbb1ba413576bd34b016bb092"><span class="id" title="notation">⟧</span></a><a class="idref" href="ImpDenotation.html#749971efbb1ba413576bd34b016bb092"><span class="id" title="notation">a</span></a> <a class="idref" href="ImpEquiv.html#4c6c5f9d294d87c4d7c3175f2cf027c<sub>5</sub>"><span class="id" title="variable">σ</span></a> <span class="id" title="notation">≈</span> <span class="id" title="abbreviation">Ret</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ImpEquiv.html#4c6c5f9d294d87c4d7c3175f2cf027c<sub>5</sub>"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Imp.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="ImpEquiv.html#4c6c5f9d294d87c4d7c3175f2cf027c<sub>5</sub>"><span class="id" title="variable">σ</span></a> <a class="idref" href="ImpEquiv.html#a:32"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<div class="togglescript" id="proofcontrol3" onclick="toggleDisplay('proof3');toggleDisplay('proofcontrol3')"><span class="show"></span></div>
<div class="proofscript" id="proof3" onclick="toggleDisplay('proof3');toggleDisplay('proofcontrol3')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">a</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">norm</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHa1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">norm</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHa2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">norm</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHa1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">norm</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHa2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">norm</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHa1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">norm</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHa2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="bexp_pure_beval" class="idref" href="#bexp_pure_beval"><span class="id" title="lemma">bexp_pure_beval</span></a> : <span class="id" title="keyword">∀</span> <a id="b:37" class="idref" href="#b:37"><span class="id" title="binder">b</span></a> <a id="976ecaa1329e69582a26aa858b5e636c" class="idref" href="#976ecaa1329e69582a26aa858b5e636c"><span class="id" title="binder">σ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">interp_state</span> <a class="idref" href="ImpDenotation.html#handle_Mem"><span class="id" title="definition">handle_Mem</span></a> <a class="idref" href="ImpDenotation.html#8a2e87e11d401313a139f46e9659ad<sub>11</sub>"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ImpEquiv.html#b:37"><span class="id" title="variable">b</span></a> <a class="idref" href="ImpDenotation.html#8a2e87e11d401313a139f46e9659ad<sub>11</sub>"><span class="id" title="notation">⟧</span></a><a class="idref" href="ImpDenotation.html#8a2e87e11d401313a139f46e9659ad<sub>11</sub>"><span class="id" title="notation">b</span></a> <a class="idref" href="ImpEquiv.html#976ecaa1329e69582a26aa858b5e636c"><span class="id" title="variable">σ</span></a> <span class="id" title="notation">≈</span> <span class="id" title="abbreviation">Ret</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ImpEquiv.html#976ecaa1329e69582a26aa858b5e636c"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Imp.html#beval"><span class="id" title="definition">beval</span></a> <a class="idref" href="ImpEquiv.html#976ecaa1329e69582a26aa858b5e636c"><span class="id" title="variable">σ</span></a> <a class="idref" href="ImpEquiv.html#b:37"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<div class="togglescript" id="proofcontrol4" onclick="toggleDisplay('proof4');toggleDisplay('proofcontrol4')"><span class="show"></span></div>
<div class="proofscript" id="proof4" onclick="toggleDisplay('proof4');toggleDisplay('proofcontrol4')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">b</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="ImpEquiv.html#aexp_pure_aeval"><span class="id" title="lemma">aexp_pure_aeval</span></a> <span class="id" title="var">a<sub>1</sub></span> σ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="ImpEquiv.html#aexp_pure_aeval"><span class="id" title="lemma">aexp_pure_aeval</span></a> <span class="id" title="var">a<sub>2</sub></span> σ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="ImpEquiv.html#aexp_pure_aeval"><span class="id" title="lemma">aexp_pure_aeval</span></a> <span class="id" title="var">a<sub>1</sub></span> σ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">norm</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="ImpEquiv.html#aexp_pure_aeval"><span class="id" title="lemma">aexp_pure_aeval</span></a> <span class="id" title="var">a<sub>2</sub></span> σ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="ImpEquiv.html#aexp_pure_aeval"><span class="id" title="lemma">aexp_pure_aeval</span></a> <span class="id" title="var">a<sub>1</sub></span> σ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">norm</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="ImpEquiv.html#aexp_pure_aeval"><span class="id" title="lemma">aexp_pure_aeval</span></a> <span class="id" title="var">a<sub>2</sub></span> σ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="ImpEquiv.html#aexp_pure_aeval"><span class="id" title="lemma">aexp_pure_aeval</span></a> <span class="id" title="var">a<sub>1</sub></span> σ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">norm</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="ImpEquiv.html#aexp_pure_aeval"><span class="id" title="lemma">aexp_pure_aeval</span></a> <span class="id" title="var">a<sub>2</sub></span> σ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">norm</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHb1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHb2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div class="doc">
<a id="lab221"></a><h2 class="section">Universally valid static rewrite rules: an inventory</h2>

<div class="paragraph"> </div>


<div class="paragraph"> </div>

    A first series of basic blocks for building verified optimizations are
    rewrite rules that can be applied in all contexts. We accumulate them into
    sets of reduction rules to construct a sort of static calculus.
    Not all interesting program transformations fall into this category of course:
    optimizations often gather specific information on the context before deciding
    whether they can perform an optimization. We will consider this question in
    subsequent chapters and focus for now on rewrite rules that are valid in all
    contexts.

<div class="paragraph"> </div>

    In the case of commands, we inventory these rules into two groups:
<ul class="doclist">
<li> those that are validated by ≡

</li>
<li> and those that are validated only by ≈

</li>
</ul>
 
<div class="paragraph"> </div>

<a id="lab222"></a><h3 class="section">Rules for arithmetic expressions</h3>

</div>
<div class="code">
<span class="id" title="keyword">Variant</span> <a id="red_aexp" class="idref" href="#red_aexp"><span class="id" title="inductive">red_aexp</span></a> : <a class="idref" href="Utils.html#:::'rel'_x"><span class="id" title="notation">rel</span></a> <a class="idref" href="Imp.html#aexp"><span class="id" title="inductive">aexp</span></a> :=<br/>
&nbsp;&nbsp;| <a id="rplus" class="idref" href="#rplus"><span class="id" title="constructor">rplus</span></a> (<a id="n:44" class="idref" href="#n:44"><span class="id" title="binder">n</span></a> <a id="m:45" class="idref" href="#m:45"><span class="id" title="binder">m</span></a> : <a class="idref" href="ImpDenotation.html#val"><span class="id" title="abbreviation">val</span></a>)  : <a class="idref" href="ImpEquiv.html#red_aexp:42"><span class="id" title="inductive">red_aexp</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpEquiv.html#n:44"><span class="id" title="variable">n</span></a> <a class="idref" href="Imp.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> <a class="idref" href="ImpEquiv.html#m:45"><span class="id" title="variable">m</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpDenotation.html#aop_sem"><span class="id" title="definition">aop_sem</span></a> <a class="idref" href="ImpDenotation.html#op_plus"><span class="id" title="constructor">op_plus</span></a> <a class="idref" href="ImpEquiv.html#n:44"><span class="id" title="variable">n</span></a> <a class="idref" href="ImpEquiv.html#m:45"><span class="id" title="variable">m</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="rminus" class="idref" href="#rminus"><span class="id" title="constructor">rminus</span></a> (<a id="n:46" class="idref" href="#n:46"><span class="id" title="binder">n</span></a> <a id="m:47" class="idref" href="#m:47"><span class="id" title="binder">m</span></a> : <a class="idref" href="ImpDenotation.html#val"><span class="id" title="abbreviation">val</span></a>) : <a class="idref" href="ImpEquiv.html#red_aexp:42"><span class="id" title="inductive">red_aexp</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpEquiv.html#n:46"><span class="id" title="variable">n</span></a> <a class="idref" href="Imp.html#:com::x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="ImpEquiv.html#m:47"><span class="id" title="variable">m</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpDenotation.html#aop_sem"><span class="id" title="definition">aop_sem</span></a> <a class="idref" href="ImpDenotation.html#op_minus"><span class="id" title="constructor">op_minus</span></a> <a class="idref" href="ImpEquiv.html#n:46"><span class="id" title="variable">n</span></a> <a class="idref" href="ImpEquiv.html#m:47"><span class="id" title="variable">m</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="rmult" class="idref" href="#rmult"><span class="id" title="constructor">rmult</span></a> (<a id="n:48" class="idref" href="#n:48"><span class="id" title="binder">n</span></a> <a id="m:49" class="idref" href="#m:49"><span class="id" title="binder">m</span></a> : <a class="idref" href="ImpDenotation.html#val"><span class="id" title="abbreviation">val</span></a>)  : <a class="idref" href="ImpEquiv.html#red_aexp:42"><span class="id" title="inductive">red_aexp</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpEquiv.html#n:48"><span class="id" title="variable">n</span></a> <a class="idref" href="Imp.html#a73c7b35e67094dc8ae672f3a93da066"><span class="id" title="notation">×</span></a> <a class="idref" href="ImpEquiv.html#m:49"><span class="id" title="variable">m</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpDenotation.html#aop_sem"><span class="id" title="definition">aop_sem</span></a> <a class="idref" href="ImpDenotation.html#op_mult"><span class="id" title="constructor">op_mult</span></a> <a class="idref" href="ImpEquiv.html#n:48"><span class="id" title="variable">n</span></a> <a class="idref" href="ImpEquiv.html#m:49"><span class="id" title="variable">m</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="minus_inv" class="idref" href="#minus_inv"><span class="id" title="constructor">minus_inv</span></a> <a id="e:50" class="idref" href="#e:50"><span class="id" title="binder">e</span></a>        : <a class="idref" href="ImpEquiv.html#red_aexp:42"><span class="id" title="inductive">red_aexp</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpEquiv.html#e:50"><span class="id" title="variable">e</span></a> <a class="idref" href="Imp.html#:com::x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="ImpEquiv.html#e:50"><span class="id" title="variable">e</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> 0 <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="mult_zero" class="idref" href="#mult_zero"><span class="id" title="constructor">mult_zero</span></a> <a id="e:51" class="idref" href="#e:51"><span class="id" title="binder">e</span></a>        : <a class="idref" href="ImpEquiv.html#red_aexp:42"><span class="id" title="inductive">red_aexp</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> 0 <a class="idref" href="Imp.html#a73c7b35e67094dc8ae672f3a93da066"><span class="id" title="notation">×</span></a> <a class="idref" href="ImpEquiv.html#e:51"><span class="id" title="variable">e</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> 0 <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="mult_one" class="idref" href="#mult_one"><span class="id" title="constructor">mult_one</span></a>  <a id="e:52" class="idref" href="#e:52"><span class="id" title="binder">e</span></a>        : <a class="idref" href="ImpEquiv.html#red_aexp:42"><span class="id" title="inductive">red_aexp</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> 1 <a class="idref" href="Imp.html#a73c7b35e67094dc8ae672f3a93da066"><span class="id" title="notation">×</span></a> <a class="idref" href="ImpEquiv.html#e:52"><span class="id" title="variable">e</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpEquiv.html#e:52"><span class="id" title="variable">e</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="plus_zero" class="idref" href="#plus_zero"><span class="id" title="constructor">plus_zero</span></a> <a id="a:53" class="idref" href="#a:53"><span class="id" title="binder">a</span></a>        : <a class="idref" href="ImpEquiv.html#red_aexp:42"><span class="id" title="inductive">red_aexp</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> 0 <a class="idref" href="Imp.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> <a class="idref" href="ImpEquiv.html#a:53"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpEquiv.html#a:53"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="plus_comm" class="idref" href="#plus_comm"><span class="id" title="constructor">plus_comm</span></a> <a id="a<sub>1</sub>:54" class="idref" href="#a<sub>1</sub>:54"><span class="id" title="binder">a<sub>1</sub></span></a> <a id="a<sub>2</sub>:55" class="idref" href="#a<sub>2</sub>:55"><span class="id" title="binder">a<sub>2</sub></span></a>    : <a class="idref" href="ImpEquiv.html#red_aexp:42"><span class="id" title="inductive">red_aexp</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpEquiv.html#a<sub>1</sub>:54"><span class="id" title="variable">a<sub>1</sub></span></a> <a class="idref" href="Imp.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> <a class="idref" href="ImpEquiv.html#a<sub>2</sub>:55"><span class="id" title="variable">a<sub>2</sub></span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpEquiv.html#a<sub>2</sub>:55"><span class="id" title="variable">a<sub>2</sub></span></a> <a class="idref" href="Imp.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> <a class="idref" href="ImpEquiv.html#a<sub>1</sub>:54"><span class="id" title="variable">a<sub>1</sub></span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="mult_comm" class="idref" href="#mult_comm"><span class="id" title="constructor">mult_comm</span></a> <a id="a<sub>1</sub>:56" class="idref" href="#a<sub>1</sub>:56"><span class="id" title="binder">a<sub>1</sub></span></a> <a id="a<sub>2</sub>:57" class="idref" href="#a<sub>2</sub>:57"><span class="id" title="binder">a<sub>2</sub></span></a>    : <a class="idref" href="ImpEquiv.html#red_aexp:42"><span class="id" title="inductive">red_aexp</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpEquiv.html#a<sub>1</sub>:56"><span class="id" title="variable">a<sub>1</sub></span></a> <a class="idref" href="Imp.html#a73c7b35e67094dc8ae672f3a93da066"><span class="id" title="notation">×</span></a> <a class="idref" href="ImpEquiv.html#a<sub>2</sub>:57"><span class="id" title="variable">a<sub>2</sub></span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpEquiv.html#a<sub>2</sub>:57"><span class="id" title="variable">a<sub>2</sub></span></a> <a class="idref" href="Imp.html#a73c7b35e67094dc8ae672f3a93da066"><span class="id" title="notation">×</span></a> <a class="idref" href="ImpEquiv.html#a<sub>1</sub>:56"><span class="id" title="variable">a<sub>1</sub></span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
.<br/>
</div>

<div class="doc">
<a id="lab223"></a><h3 class="section">Rules on boolean expressions</h3>

</div>
<div class="code">
<span class="id" title="keyword">Variant</span> <a id="red_bexp" class="idref" href="#red_bexp"><span class="id" title="inductive">red_bexp</span></a> : <a class="idref" href="Utils.html#:::'rel'_x"><span class="id" title="notation">rel</span></a> <a class="idref" href="Imp.html#bexp"><span class="id" title="inductive">bexp</span></a> :=<br/>
&nbsp;&nbsp;| <a id="req" class="idref" href="#req"><span class="id" title="constructor">req</span></a> (<a id="n:60" class="idref" href="#n:60"><span class="id" title="binder">n</span></a> <a id="m:61" class="idref" href="#m:61"><span class="id" title="binder">m</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpEquiv.html#red_bexp:58"><span class="id" title="inductive">red_bexp</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a>  <a class="idref" href="ImpEquiv.html#n:60"><span class="id" title="variable">n</span></a> <a class="idref" href="Imp.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> <a class="idref" href="ImpEquiv.html#m:61"><span class="id" title="variable">m</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> (<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#eqb"><span class="id" title="definition">Nat.eqb</span></a> <a class="idref" href="ImpEquiv.html#n:60"><span class="id" title="variable">n</span></a> <a class="idref" href="ImpEquiv.html#m:61"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>)<br/>
<br/>
&nbsp;&nbsp;| <a id="rneq" class="idref" href="#rneq"><span class="id" title="constructor">rneq</span></a> (<a id="n:62" class="idref" href="#n:62"><span class="id" title="binder">n</span></a> <a id="m:63" class="idref" href="#m:63"><span class="id" title="binder">m</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpEquiv.html#red_bexp:58"><span class="id" title="inductive">red_bexp</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpEquiv.html#n:62"><span class="id" title="variable">n</span></a> <a class="idref" href="Imp.html#:com::x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="ImpEquiv.html#m:63"><span class="id" title="variable">m</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> (<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#eqb"><span class="id" title="definition">Nat.eqb</span></a> <a class="idref" href="ImpEquiv.html#n:62"><span class="id" title="variable">n</span></a> <a class="idref" href="ImpEquiv.html#m:63"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>)<br/>
<br/>
&nbsp;&nbsp;| <a id="rle" class="idref" href="#rle"><span class="id" title="constructor">rle</span></a> (<a id="n:64" class="idref" href="#n:64"><span class="id" title="binder">n</span></a> <a id="m:65" class="idref" href="#m:65"><span class="id" title="binder">m</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpEquiv.html#red_bexp:58"><span class="id" title="inductive">red_bexp</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpEquiv.html#n:64"><span class="id" title="variable">n</span></a> <a class="idref" href="Imp.html#d43f15edd52d29ae8e0f90730a25ed5c"><span class="id" title="notation">≤</span></a> <a class="idref" href="ImpEquiv.html#m:65"><span class="id" title="variable">m</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> (<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#leb"><span class="id" title="definition">Nat.leb</span></a> <a class="idref" href="ImpEquiv.html#n:64"><span class="id" title="variable">n</span></a> <a class="idref" href="ImpEquiv.html#m:65"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>)<br/>
<br/>
&nbsp;&nbsp;| <a id="rgt" class="idref" href="#rgt"><span class="id" title="constructor">rgt</span></a> (<a id="n:66" class="idref" href="#n:66"><span class="id" title="binder">n</span></a> <a id="m:67" class="idref" href="#m:67"><span class="id" title="binder">m</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)  :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpEquiv.html#red_bexp:58"><span class="id" title="inductive">red_bexp</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpEquiv.html#n:66"><span class="id" title="variable">n</span></a> <a class="idref" href="Imp.html#:com::x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="ImpEquiv.html#m:67"><span class="id" title="variable">m</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> (<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#leb"><span class="id" title="definition">Nat.leb</span></a> <a class="idref" href="ImpEquiv.html#n:66"><span class="id" title="variable">n</span></a> <a class="idref" href="ImpEquiv.html#m:67"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>)<br/>
<br/>
&nbsp;&nbsp;| <a id="rnegt" class="idref" href="#rnegt"><span class="id" title="constructor">rnegt</span></a>    : <a class="idref" href="ImpEquiv.html#red_bexp:58"><span class="id" title="inductive">red_bexp</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#dfe50505b2b595242030c436d0d7d15f"><span class="id" title="notation">¬</span></a> <a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="rnegf" class="idref" href="#rnegf"><span class="id" title="constructor">rnegf</span></a>    : <a class="idref" href="ImpEquiv.html#red_bexp:58"><span class="id" title="inductive">red_bexp</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#dfe50505b2b595242030c436d0d7d15f"><span class="id" title="notation">¬</span></a> <a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="randtt" class="idref" href="#randtt"><span class="id" title="constructor">randtt</span></a>   : <a class="idref" href="ImpEquiv.html#red_bexp:58"><span class="id" title="inductive">red_bexp</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="Imp.html#:com::x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="randft" class="idref" href="#randft"><span class="id" title="constructor">randft</span></a>   : <a class="idref" href="ImpEquiv.html#red_bexp:58"><span class="id" title="inductive">red_bexp</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="Imp.html#:com::x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="randff" class="idref" href="#randff"><span class="id" title="constructor">randff</span></a>   : <a class="idref" href="ImpEquiv.html#red_bexp:58"><span class="id" title="inductive">red_bexp</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="Imp.html#:com::x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="and_comm" class="idref" href="#and_comm"><span class="id" title="constructor">and_comm</span></a> <a id="b:68" class="idref" href="#b:68"><span class="id" title="binder">b</span></a> <a id="b':69" class="idref" href="#b':69"><span class="id" title="binder">b'</span></a> : <a class="idref" href="ImpEquiv.html#red_bexp:58"><span class="id" title="inductive">red_bexp</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpEquiv.html#b:68"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp.html#:com::x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="ImpEquiv.html#b':69"><span class="id" title="variable">b'</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpEquiv.html#b':69"><span class="id" title="variable">b'</span></a> <a class="idref" href="Imp.html#:com::x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="ImpEquiv.html#b:68"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
.<br/>
</div>

<div class="doc">
<a id="lab224"></a><h3 class="section">Rules on commands (1)</h3>

<div class="paragraph"> </div>

 These are straight-up validated by ≡ (strong equivalence 
</div>
<div class="code">

<span class="id" title="keyword">Variant</span> <a id="red_com1" class="idref" href="#red_com1"><span class="id" title="inductive">red_com1</span></a>   : <a class="idref" href="Utils.html#:::'rel'_x"><span class="id" title="notation">rel</span></a> <a class="idref" href="Imp.html#com"><span class="id" title="inductive">com</span></a> :=<br/>
| <a id="skipL" class="idref" href="#skipL"><span class="id" title="constructor">skipL</span></a> <a id="c:72" class="idref" href="#c:72"><span class="id" title="binder">c</span></a>          : <a class="idref" href="ImpEquiv.html#red_com1:70"><span class="id" title="inductive">red_com1</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="ImpEquiv.html#c:72"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="ImpEquiv.html#c:72"><span class="id" title="variable">c</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
| <a id="skipR" class="idref" href="#skipR"><span class="id" title="constructor">skipR</span></a> <a id="c:73" class="idref" href="#c:73"><span class="id" title="binder">c</span></a>          : <a class="idref" href="ImpEquiv.html#red_com1:70"><span class="id" title="inductive">red_com1</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpEquiv.html#c:73"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="ImpEquiv.html#c:73"><span class="id" title="variable">c</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
| <a id="iftrue" class="idref" href="#iftrue"><span class="id" title="constructor">iftrue</span></a> <a id="c<sub>1</sub>:74" class="idref" href="#c<sub>1</sub>:74"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:75" class="idref" href="#c<sub>2</sub>:75"><span class="id" title="binder">c<sub>2</sub></span></a>     : <a class="idref" href="ImpEquiv.html#red_com1:70"><span class="id" title="inductive">red_com1</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="ImpEquiv.html#c<sub>1</sub>:74"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="ImpEquiv.html#c<sub>2</sub>:75"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#c<sub>1</sub>:74"><span class="id" title="variable">c<sub>1</sub></span></a><br/>
| <a id="iffalse" class="idref" href="#iffalse"><span class="id" title="constructor">iffalse</span></a> <a id="c<sub>1</sub>:76" class="idref" href="#c<sub>1</sub>:76"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:77" class="idref" href="#c<sub>2</sub>:77"><span class="id" title="binder">c<sub>2</sub></span></a>    : <a class="idref" href="ImpEquiv.html#red_com1:70"><span class="id" title="inductive">red_com1</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="ImpEquiv.html#c<sub>1</sub>:76"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="ImpEquiv.html#c<sub>2</sub>:77"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#c<sub>2</sub>:77"><span class="id" title="variable">c<sub>2</sub></span></a><br/>
| <a id="whilefalse" class="idref" href="#whilefalse"><span class="id" title="constructor">whilefalse</span></a> <a id="c:78" class="idref" href="#c:78"><span class="id" title="binder">c</span></a>     : <a class="idref" href="ImpEquiv.html#red_com1:70"><span class="id" title="inductive">red_com1</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="ImpEquiv.html#c:78"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
| <a id="seqA" class="idref" href="#seqA"><span class="id" title="constructor">seqA</span></a> <a id="c<sub>1</sub>:79" class="idref" href="#c<sub>1</sub>:79"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:80" class="idref" href="#c<sub>2</sub>:80"><span class="id" title="binder">c<sub>2</sub></span></a> <a id="c<sub>3</sub>:81" class="idref" href="#c<sub>3</sub>:81"><span class="id" title="binder">c<sub>3</sub></span></a>    : <a class="idref" href="ImpEquiv.html#red_com1:70"><span class="id" title="inductive">red_com1</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="ImpEquiv.html#c<sub>1</sub>:79"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="ImpEquiv.html#c<sub>2</sub>:80"><span class="id" title="variable">c<sub>2</sub></span></a><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="ImpEquiv.html#c<sub>3</sub>:81"><span class="id" title="variable">c<sub>3</sub></span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpEquiv.html#c<sub>1</sub>:79"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="ImpEquiv.html#c<sub>2</sub>:80"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="ImpEquiv.html#c<sub>3</sub>:81"><span class="id" title="variable">c<sub>3</sub></span></a><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
| <a id="ifComm" class="idref" href="#ifComm"><span class="id" title="constructor">ifComm</span></a> <a id="b:82" class="idref" href="#b:82"><span class="id" title="binder">b</span></a> <a id="c<sub>1</sub>:83" class="idref" href="#c<sub>1</sub>:83"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:84" class="idref" href="#c<sub>2</sub>:84"><span class="id" title="binder">c<sub>2</sub></span></a>   : <a class="idref" href="ImpEquiv.html#red_com1:70"><span class="id" title="inductive">red_com1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="ImpEquiv.html#b:82"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="ImpEquiv.html#c<sub>1</sub>:83"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="ImpEquiv.html#c<sub>2</sub>:84"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="Imp.html#dfe50505b2b595242030c436d0d7d15f"><span class="id" title="notation">¬</span></a><a class="idref" href="ImpEquiv.html#b:82"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="ImpEquiv.html#c<sub>2</sub>:84"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="ImpEquiv.html#c<sub>1</sub>:83"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
<br/>
| <a id="ifDist" class="idref" href="#ifDist"><span class="id" title="constructor">ifDist</span></a> <a id="b:85" class="idref" href="#b:85"><span class="id" title="binder">b</span></a> <a id="c<sub>1</sub>:86" class="idref" href="#c<sub>1</sub>:86"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:87" class="idref" href="#c<sub>2</sub>:87"><span class="id" title="binder">c<sub>2</sub></span></a> <a id="c:88" class="idref" href="#c:88"><span class="id" title="binder">c</span></a> : <a class="idref" href="ImpEquiv.html#red_com1:70"><span class="id" title="inductive">red_com1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="ImpEquiv.html#b:85"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="ImpEquiv.html#c<sub>1</sub>:86"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="ImpEquiv.html#c<sub>2</sub>:87"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="ImpEquiv.html#c:88"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="ImpEquiv.html#b:85"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="ImpEquiv.html#c<sub>1</sub>:86"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="ImpEquiv.html#c:88"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="ImpEquiv.html#c<sub>2</sub>:87"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="ImpEquiv.html#c:88"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
<br/>
| <a id="loop_unroll1" class="idref" href="#loop_unroll1"><span class="id" title="constructor">loop_unroll1</span></a> <a id="b:89" class="idref" href="#b:89"><span class="id" title="binder">b</span></a> <a id="c:90" class="idref" href="#c:90"><span class="id" title="binder">c</span></a> : <a class="idref" href="ImpEquiv.html#red_com1:70"><span class="id" title="inductive">red_com1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="ImpEquiv.html#b:89"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="ImpEquiv.html#c:90"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="ImpEquiv.html#b:89"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="ImpEquiv.html#c:90"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="ImpEquiv.html#b:89"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="ImpEquiv.html#c:90"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
</div>

<div class="doc">
<a id="lab225"></a><h3 class="section">Rules on commands (2)</h3>

<div class="paragraph"> </div>

 Rules on commands that are validated only by ≊ (weak equivalence) 
</div>
<div class="code">
<span class="id" title="keyword">Variant</span> <a id="red_com2" class="idref" href="#red_com2"><span class="id" title="inductive">red_com2</span></a> : <a class="idref" href="Imp.html#com"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Imp.html#com"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="whiletrue" class="idref" href="#whiletrue"><span class="id" title="constructor">whiletrue</span></a> <a id="c:93" class="idref" href="#c:93"><span class="id" title="binder">c</span></a>      : <a class="idref" href="ImpEquiv.html#red_com2:91"><span class="id" title="inductive">red_com2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="ImpEquiv.html#c:93"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
<br/>
| <a id="loop_unroll2" class="idref" href="#loop_unroll2"><span class="id" title="constructor">loop_unroll2</span></a> <a id="b:94" class="idref" href="#b:94"><span class="id" title="binder">b</span></a> <a id="c:95" class="idref" href="#c:95"><span class="id" title="binder">c</span></a> : <a class="idref" href="ImpEquiv.html#red_com2:91"><span class="id" title="inductive">red_com2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="ImpEquiv.html#b:94"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="ImpEquiv.html#c:95"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="ImpEquiv.html#b:94"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="ImpEquiv.html#c:95"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="ImpEquiv.html#b:94"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="ImpEquiv.html#c:95"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
</div>

<div class="doc">
<a id="lab226"></a><h2 class="section">Semantic validity of our calculus</h2>

<div class="paragraph"> </div>

 We have written authoritatively a long list of transformations. To back up
    our confidence, we now associate to each of them a Lemma expressing their
    soundness: both sides of the rewrite rule must be equivalent.

<div class="paragraph"> </div>

    This section culminate with the result we seek: each of the four reduction rules of this
    calculus define subrelations of the equivalences of the respective syntactic components.
    Combined with the fact that these relations are equivalence relations and congruence,
    this means that each of these reduction rules can be used to rewrite while proving that
    two programs are equivalent.
 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="minus_inv_sound" class="idref" href="#minus_inv_sound"><span class="id" title="lemma">minus_inv_sound</span></a> : <span class="id" title="keyword">∀</span> <a id="e:96" class="idref" href="#e:96"><span class="id" title="binder">e</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpEquiv.html#e:96"><span class="id" title="variable">e</span></a> <a class="idref" href="Imp.html#:com::x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="ImpEquiv.html#e:96"><span class="id" title="variable">e</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#d7106b2ece10b3a82ce9d40f49cb50d<sub>8</sub>"><span class="id" title="notation">≈ₐ</span></a> 0.<br/>
<div class="togglescript" id="proofcontrol5" onclick="toggleDisplay('proof5');toggleDisplay('proofcontrol5')"><span class="show"></span></div>
<div class="proofscript" id="proof5" onclick="toggleDisplay('proof5');toggleDisplay('proofcontrol5')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> σ.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="ImpEquiv.html#aexp_pure"><span class="id" title="lemma">aexp_pure</span></a> <span class="id" title="var">e</span> σ <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span> <span class="id" title="var">EQ</span>]. <span class="comment">(*&nbsp;Note&nbsp;that&nbsp;if&nbsp;<span class="inlinecode"><span class="id" title="var">e</span></span>&nbsp;was&nbsp;impure&nbsp;(if&nbsp;it&nbsp;diverged&nbsp;for&nbsp;instance),&nbsp;then&nbsp;the&nbsp;equation&nbsp;would&nbsp;be&nbsp;invalid&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">EQ</span>; <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">EQ</span>; <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Arith.PeanoNat.html#Nat.sub_diag"><span class="id" title="lemma">PeanoNat.Nat.sub_diag</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mult_zero_sound" class="idref" href="#mult_zero_sound"><span class="id" title="lemma">mult_zero_sound</span></a> : <span class="id" title="keyword">∀</span> <a id="e:97" class="idref" href="#e:97"><span class="id" title="binder">e</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> 0 <a class="idref" href="Imp.html#a73c7b35e67094dc8ae672f3a93da066"><span class="id" title="notation">×</span></a> <a class="idref" href="ImpEquiv.html#e:97"><span class="id" title="variable">e</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#d7106b2ece10b3a82ce9d40f49cb50d<sub>8</sub>"><span class="id" title="notation">≈ₐ</span></a> 0.<br/>
<div class="togglescript" id="proofcontrol6" onclick="toggleDisplay('proof6');toggleDisplay('proofcontrol6')"><span class="show"></span></div>
<div class="proofscript" id="proof6" onclick="toggleDisplay('proof6');toggleDisplay('proofcontrol6')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> σ.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ImpEquiv.html#aexp_pure_aeval"><span class="id" title="lemma">aexp_pure_aeval</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mult_one_sound" class="idref" href="#mult_one_sound"><span class="id" title="lemma">mult_one_sound</span></a> : <span class="id" title="keyword">∀</span> <a id="e:98" class="idref" href="#e:98"><span class="id" title="binder">e</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> 1 <a class="idref" href="Imp.html#a73c7b35e67094dc8ae672f3a93da066"><span class="id" title="notation">×</span></a> <a class="idref" href="ImpEquiv.html#e:98"><span class="id" title="variable">e</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#d7106b2ece10b3a82ce9d40f49cb50d<sub>8</sub>"><span class="id" title="notation">≈ₐ</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpEquiv.html#e:98"><span class="id" title="variable">e</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> σ.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="ImpEquiv.html#aexp_pure_aeval"><span class="id" title="lemma">aexp_pure_aeval</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">PeanoNat.Nat.add_0_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="add_zero_sound" class="idref" href="#add_zero_sound"><span class="id" title="lemma">add_zero_sound</span></a> : <span class="id" title="keyword">∀</span> <a id="a:99" class="idref" href="#a:99"><span class="id" title="binder">a</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> 0 <a class="idref" href="Imp.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> <a class="idref" href="ImpEquiv.html#a:99"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#d7106b2ece10b3a82ce9d40f49cb50d<sub>8</sub>"><span class="id" title="notation">≈ₐ</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpEquiv.html#a:99"><span class="id" title="variable">a</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> σ.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="ImpEquiv.html#aexp_pure_aeval"><span class="id" title="lemma">aexp_pure_aeval</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="rplus_sound" class="idref" href="#rplus_sound"><span class="id" title="lemma">rplus_sound</span></a> : <span class="id" title="keyword">∀</span> (<a id="n:100" class="idref" href="#n:100"><span class="id" title="binder">n</span></a> <a id="m:101" class="idref" href="#m:101"><span class="id" title="binder">m</span></a> : <a class="idref" href="ImpDenotation.html#val"><span class="id" title="abbreviation">val</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#APlus"><span class="id" title="constructor">APlus</span></a> <a class="idref" href="ImpEquiv.html#n:100"><span class="id" title="variable">n</span></a> <a class="idref" href="ImpEquiv.html#m:101"><span class="id" title="variable">m</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#d7106b2ece10b3a82ce9d40f49cb50d<sub>8</sub>"><span class="id" title="notation">≈ₐ</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpDenotation.html#aop_sem"><span class="id" title="definition">aop_sem</span></a> <a class="idref" href="ImpDenotation.html#op_plus"><span class="id" title="constructor">op_plus</span></a> <a class="idref" href="ImpEquiv.html#n:100"><span class="id" title="variable">n</span></a> <a class="idref" href="ImpEquiv.html#m:101"><span class="id" title="variable">m</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × σ.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="rminus_sound" class="idref" href="#rminus_sound"><span class="id" title="lemma">rminus_sound</span></a> : <span class="id" title="keyword">∀</span> (<a id="n:102" class="idref" href="#n:102"><span class="id" title="binder">n</span></a> <a id="m:103" class="idref" href="#m:103"><span class="id" title="binder">m</span></a> : <a class="idref" href="ImpDenotation.html#val"><span class="id" title="abbreviation">val</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#AMinus"><span class="id" title="constructor">AMinus</span></a> <a class="idref" href="ImpEquiv.html#n:102"><span class="id" title="variable">n</span></a> <a class="idref" href="ImpEquiv.html#m:103"><span class="id" title="variable">m</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#d7106b2ece10b3a82ce9d40f49cb50d<sub>8</sub>"><span class="id" title="notation">≈ₐ</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpDenotation.html#aop_sem"><span class="id" title="definition">aop_sem</span></a> <a class="idref" href="ImpDenotation.html#op_minus"><span class="id" title="constructor">op_minus</span></a> <a class="idref" href="ImpEquiv.html#n:102"><span class="id" title="variable">n</span></a> <a class="idref" href="ImpEquiv.html#m:103"><span class="id" title="variable">m</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × σ.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="rmult_sound" class="idref" href="#rmult_sound"><span class="id" title="lemma">rmult_sound</span></a> : <span class="id" title="keyword">∀</span> (<a id="n:104" class="idref" href="#n:104"><span class="id" title="binder">n</span></a> <a id="m:105" class="idref" href="#m:105"><span class="id" title="binder">m</span></a> : <a class="idref" href="ImpDenotation.html#val"><span class="id" title="abbreviation">val</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#AMult"><span class="id" title="constructor">AMult</span></a> <a class="idref" href="ImpEquiv.html#n:104"><span class="id" title="variable">n</span></a> <a class="idref" href="ImpEquiv.html#m:105"><span class="id" title="variable">m</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#d7106b2ece10b3a82ce9d40f49cb50d<sub>8</sub>"><span class="id" title="notation">≈ₐ</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpDenotation.html#aop_sem"><span class="id" title="definition">aop_sem</span></a> <a class="idref" href="ImpDenotation.html#op_mult"><span class="id" title="constructor">op_mult</span></a> <a class="idref" href="ImpEquiv.html#n:104"><span class="id" title="variable">n</span></a> <a class="idref" href="ImpEquiv.html#m:105"><span class="id" title="variable">m</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × σ.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="plus_comm_sound" class="idref" href="#plus_comm_sound"><span class="id" title="lemma">plus_comm_sound</span></a> : <span class="id" title="keyword">∀</span> <a id="a<sub>1</sub>:106" class="idref" href="#a<sub>1</sub>:106"><span class="id" title="binder">a<sub>1</sub></span></a> <a id="a<sub>2</sub>:107" class="idref" href="#a<sub>2</sub>:107"><span class="id" title="binder">a<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpEquiv.html#a<sub>1</sub>:106"><span class="id" title="variable">a<sub>1</sub></span></a> <a class="idref" href="Imp.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> <a class="idref" href="ImpEquiv.html#a<sub>2</sub>:107"><span class="id" title="variable">a<sub>2</sub></span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#d7106b2ece10b3a82ce9d40f49cb50d<sub>8</sub>"><span class="id" title="notation">≈ₐ</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpEquiv.html#a<sub>2</sub>:107"><span class="id" title="variable">a<sub>2</sub></span></a> <a class="idref" href="Imp.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> <a class="idref" href="ImpEquiv.html#a<sub>1</sub>:106"><span class="id" title="variable">a<sub>1</sub></span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × σ.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="ImpEquiv.html#aexp_pure"><span class="id" title="lemma">aexp_pure</span></a> <span class="id" title="var">a<sub>1</sub></span> σ <span class="id" title="keyword">as</span> [<span class="id" title="var">v<sub>1</sub></span> <span class="id" title="var">EQ<sub>1</sub></span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="ImpEquiv.html#aexp_pure"><span class="id" title="lemma">aexp_pure</span></a> <span class="id" title="var">a<sub>2</sub></span> σ <span class="id" title="keyword">as</span> [<span class="id" title="var">v<sub>2</sub></span> <span class="id" title="var">EQ<sub>2</sub></span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">EQ<sub>1</sub></span>, <span class="id" title="var">EQ<sub>2</sub></span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">EQ<sub>1</sub></span>, <span class="id" title="var">EQ<sub>2</sub></span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="var">ret</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="mult_comm_sound" class="idref" href="#mult_comm_sound"><span class="id" title="lemma">mult_comm_sound</span></a> : <span class="id" title="keyword">∀</span> <a id="a<sub>1</sub>:108" class="idref" href="#a<sub>1</sub>:108"><span class="id" title="binder">a<sub>1</sub></span></a> <a id="a<sub>2</sub>:109" class="idref" href="#a<sub>2</sub>:109"><span class="id" title="binder">a<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpEquiv.html#a<sub>1</sub>:108"><span class="id" title="variable">a<sub>1</sub></span></a> <a class="idref" href="Imp.html#a73c7b35e67094dc8ae672f3a93da066"><span class="id" title="notation">×</span></a> <a class="idref" href="ImpEquiv.html#a<sub>2</sub>:109"><span class="id" title="variable">a<sub>2</sub></span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#d7106b2ece10b3a82ce9d40f49cb50d<sub>8</sub>"><span class="id" title="notation">≈ₐ</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpEquiv.html#a<sub>2</sub>:109"><span class="id" title="variable">a<sub>2</sub></span></a> <a class="idref" href="Imp.html#a73c7b35e67094dc8ae672f3a93da066"><span class="id" title="notation">×</span></a> <a class="idref" href="ImpEquiv.html#a<sub>1</sub>:108"><span class="id" title="variable">a<sub>1</sub></span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × σ.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="ImpEquiv.html#aexp_pure"><span class="id" title="lemma">aexp_pure</span></a> <span class="id" title="var">a<sub>1</sub></span> σ <span class="id" title="keyword">as</span> [<span class="id" title="var">v<sub>1</sub></span> <span class="id" title="var">EQ<sub>1</sub></span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="ImpEquiv.html#aexp_pure"><span class="id" title="lemma">aexp_pure</span></a> <span class="id" title="var">a<sub>2</sub></span> σ <span class="id" title="keyword">as</span> [<span class="id" title="var">v<sub>2</sub></span> <span class="id" title="var">EQ<sub>2</sub></span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">EQ<sub>1</sub></span>, <span class="id" title="var">EQ<sub>2</sub></span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">EQ<sub>1</sub></span>, <span class="id" title="var">EQ<sub>2</sub></span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="var">ret</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">mult_zero_sound</span> <span class="id" title="var">mult_one_sound</span> <span class="id" title="var">add_zero_sound</span> <span class="id" title="var">rplus_sound</span> <span class="id" title="var">rminus_sound</span> <span class="id" title="var">rmult_sound</span> <span class="id" title="var">minus_inv_sound</span> <span class="id" title="var">plus_comm_sound</span> <span class="id" title="var">mult_comm_sound</span> : <span class="id" title="var">opt</span>.<br/>
</div>

<div class="doc">
Validity of <span class="inlinecode"><span class="id" title="var">opt_red_bexp</span></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="req_sound" class="idref" href="#req_sound"><span class="id" title="lemma">req_sound</span></a> : <span class="id" title="keyword">∀</span> (<a id="n:110" class="idref" href="#n:110"><span class="id" title="binder">n</span></a> <a id="m:111" class="idref" href="#m:111"><span class="id" title="binder">m</span></a> : <a class="idref" href="ImpDenotation.html#val"><span class="id" title="abbreviation">val</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#BEq"><span class="id" title="constructor">BEq</span></a> <a class="idref" href="Imp.html#:com:com_scope:x_x_'..'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#ANum"><span class="id" title="constructor">ANum</span></a> <a class="idref" href="ImpEquiv.html#n:110"><span class="id" title="variable">n</span></a><a class="idref" href="Imp.html#:com:com_scope:x_x_'..'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#:com:com_scope:x_x_'..'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#ANum"><span class="id" title="constructor">ANum</span></a> <a class="idref" href="ImpEquiv.html#m:111"><span class="id" title="variable">m</span></a><a class="idref" href="Imp.html#:com:com_scope:x_x_'..'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#7190514c39b66a8ebe5baf5b4d4a5b<sub>49</sub>"><span class="id" title="notation">≈ᵦ</span></a> <span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#eqb"><span class="id" title="definition">Nat.eqb</span></a> <a class="idref" href="ImpEquiv.html#n:110"><span class="id" title="variable">n</span></a> <a class="idref" href="ImpEquiv.html#m:111"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × σ.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Arith.PeanoNat.html#Nat.eqb_spec"><span class="id" title="lemma">PeanoNat.Nat.eqb_spec</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="rneq_sound" class="idref" href="#rneq_sound"><span class="id" title="lemma">rneq_sound</span></a> : <span class="id" title="keyword">∀</span> (<a id="n:112" class="idref" href="#n:112"><span class="id" title="binder">n</span></a> <a id="m:113" class="idref" href="#m:113"><span class="id" title="binder">m</span></a> : <a class="idref" href="ImpDenotation.html#val"><span class="id" title="abbreviation">val</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#BNeq"><span class="id" title="constructor">BNeq</span></a> <a class="idref" href="Imp.html#:com:com_scope:x_x_'..'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#ANum"><span class="id" title="constructor">ANum</span></a> <a class="idref" href="ImpEquiv.html#n:112"><span class="id" title="variable">n</span></a><a class="idref" href="Imp.html#:com:com_scope:x_x_'..'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#:com:com_scope:x_x_'..'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#ANum"><span class="id" title="constructor">ANum</span></a> <a class="idref" href="ImpEquiv.html#m:113"><span class="id" title="variable">m</span></a><a class="idref" href="Imp.html#:com:com_scope:x_x_'..'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#7190514c39b66a8ebe5baf5b4d4a5b<sub>49</sub>"><span class="id" title="notation">≈ᵦ</span></a> <span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#eqb"><span class="id" title="definition">Nat.eqb</span></a> <a class="idref" href="ImpEquiv.html#n:112"><span class="id" title="variable">n</span></a> <a class="idref" href="ImpEquiv.html#m:113"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × σ.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Arith.PeanoNat.html#Nat.eqb_spec"><span class="id" title="lemma">PeanoNat.Nat.eqb_spec</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="rle_sound" class="idref" href="#rle_sound"><span class="id" title="lemma">rle_sound</span></a> : <span class="id" title="keyword">∀</span> (<a id="n:114" class="idref" href="#n:114"><span class="id" title="binder">n</span></a> <a id="m:115" class="idref" href="#m:115"><span class="id" title="binder">m</span></a> : <a class="idref" href="ImpDenotation.html#val"><span class="id" title="abbreviation">val</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#BLe"><span class="id" title="constructor">BLe</span></a> <a class="idref" href="Imp.html#:com:com_scope:x_x_'..'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#ANum"><span class="id" title="constructor">ANum</span></a> <a class="idref" href="ImpEquiv.html#n:114"><span class="id" title="variable">n</span></a><a class="idref" href="Imp.html#:com:com_scope:x_x_'..'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#:com:com_scope:x_x_'..'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#ANum"><span class="id" title="constructor">ANum</span></a> <a class="idref" href="ImpEquiv.html#m:115"><span class="id" title="variable">m</span></a><a class="idref" href="Imp.html#:com:com_scope:x_x_'..'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#7190514c39b66a8ebe5baf5b4d4a5b<sub>49</sub>"><span class="id" title="notation">≈ᵦ</span></a> <span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#leb"><span class="id" title="definition">Nat.leb</span></a> <a class="idref" href="ImpEquiv.html#n:114"><span class="id" title="variable">n</span></a> <a class="idref" href="ImpEquiv.html#m:115"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × σ.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Arith.PeanoNat.html#Nat.leb_spec"><span class="id" title="lemma">PeanoNat.Nat.leb_spec</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="rgt_sound" class="idref" href="#rgt_sound"><span class="id" title="lemma">rgt_sound</span></a> : <span class="id" title="keyword">∀</span> (<a id="n:116" class="idref" href="#n:116"><span class="id" title="binder">n</span></a> <a id="m:117" class="idref" href="#m:117"><span class="id" title="binder">m</span></a> : <a class="idref" href="ImpDenotation.html#val"><span class="id" title="abbreviation">val</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#BGt"><span class="id" title="constructor">BGt</span></a> <a class="idref" href="Imp.html#:com:com_scope:x_x_'..'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#ANum"><span class="id" title="constructor">ANum</span></a> <a class="idref" href="ImpEquiv.html#n:116"><span class="id" title="variable">n</span></a><a class="idref" href="Imp.html#:com:com_scope:x_x_'..'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#:com:com_scope:x_x_'..'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#ANum"><span class="id" title="constructor">ANum</span></a> <a class="idref" href="ImpEquiv.html#m:117"><span class="id" title="variable">m</span></a><a class="idref" href="Imp.html#:com:com_scope:x_x_'..'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#7190514c39b66a8ebe5baf5b4d4a5b<sub>49</sub>"><span class="id" title="notation">≈ᵦ</span></a> <span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#leb"><span class="id" title="definition">Nat.leb</span></a> <a class="idref" href="ImpEquiv.html#n:116"><span class="id" title="variable">n</span></a> <a class="idref" href="ImpEquiv.html#m:117"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × σ.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Arith.PeanoNat.html#Nat.leb_spec"><span class="id" title="lemma">PeanoNat.Nat.leb_spec</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="rnegt_sound" class="idref" href="#rnegt_sound"><span class="id" title="lemma">rnegt_sound</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#dfe50505b2b595242030c436d0d7d15f"><span class="id" title="notation">¬</span></a> <a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#7190514c39b66a8ebe5baf5b4d4a5b<sub>49</sub>"><span class="id" title="notation">≈ᵦ</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> σ; <span class="id" title="var">now</span> <span class="id" title="var">cbn</span>; <span class="id" title="var">norm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="rnegf_sound" class="idref" href="#rnegf_sound"><span class="id" title="lemma">rnegf_sound</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#dfe50505b2b595242030c436d0d7d15f"><span class="id" title="notation">¬</span></a> <a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#7190514c39b66a8ebe5baf5b4d4a5b<sub>49</sub>"><span class="id" title="notation">≈ᵦ</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> σ; <span class="id" title="var">now</span> <span class="id" title="var">cbn</span>; <span class="id" title="var">norm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="randtt_sound" class="idref" href="#randtt_sound"><span class="id" title="lemma">randtt_sound</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="Imp.html#:com::x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#7190514c39b66a8ebe5baf5b4d4a5b<sub>49</sub>"><span class="id" title="notation">≈ᵦ</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × σ.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="randft_sound" class="idref" href="#randft_sound"><span class="id" title="lemma">randft_sound</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="Imp.html#:com::x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#7190514c39b66a8ebe5baf5b4d4a5b<sub>49</sub>"><span class="id" title="notation">≈ᵦ</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × σ.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="randff_sound" class="idref" href="#randff_sound"><span class="id" title="lemma">randff_sound</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="Imp.html#:com::x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#7190514c39b66a8ebe5baf5b4d4a5b<sub>49</sub>"><span class="id" title="notation">≈ᵦ</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × σ.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="and_comm_sound" class="idref" href="#and_comm_sound"><span class="id" title="lemma">and_comm_sound</span></a> : <span class="id" title="keyword">∀</span> (<a id="b:118" class="idref" href="#b:118"><span class="id" title="binder">b</span></a> <a id="b':119" class="idref" href="#b':119"><span class="id" title="binder">b'</span></a> : <a class="idref" href="Imp.html#bexp"><span class="id" title="inductive">bexp</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpEquiv.html#b:118"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp.html#:com::x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="ImpEquiv.html#b':119"><span class="id" title="variable">b'</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#7190514c39b66a8ebe5baf5b4d4a5b<sub>49</sub>"><span class="id" title="notation">≈ᵦ</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpEquiv.html#b':119"><span class="id" title="variable">b'</span></a> <a class="idref" href="Imp.html#:com::x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="ImpEquiv.html#b:118"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × σ.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="ImpEquiv.html#bexp_pure"><span class="id" title="lemma">bexp_pure</span></a> <span class="id" title="var">b</span> σ <span class="id" title="keyword">as</span> [<span class="id" title="var">v<sub>1</sub></span> <span class="id" title="var">eq<sub>1</sub></span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="ImpEquiv.html#bexp_pure"><span class="id" title="lemma">bexp_pure</span></a> <span class="id" title="var">b'</span> σ <span class="id" title="keyword">as</span> [<span class="id" title="var">v<sub>2</sub></span> <span class="id" title="var">eq<sub>2</sub></span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq<sub>1</sub></span>, <span class="id" title="var">eq<sub>2</sub></span>; <span class="id" title="var">norm</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">ret</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Bool.Bool.html#andb_comm"><span class="id" title="lemma">Bool.andb_comm</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">and_comm_sound</span> <span class="id" title="var">randft_sound</span> <span class="id" title="var">randtt_sound</span> <span class="id" title="var">randff_sound</span> <span class="id" title="var">rnegt_sound</span> <span class="id" title="var">rnegf_sound</span> <span class="id" title="var">rle_sound</span> <span class="id" title="var">rgt_sound</span> <span class="id" title="var">req_sound</span> <span class="id" title="var">rneq_sound</span>: <span class="id" title="var">opt</span>.<br/>
</div>

<div class="doc">
<a id="lab227"></a><h3 class="section">Proofs of equivalences of commands</h3>

<div class="paragraph"> </div>

 And we can prove interesting semantic equivalenes of Imp programs.  
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="skipL_sound" class="idref" href="#skipL_sound"><span class="id" title="lemma">skipL_sound</span></a> : <span class="id" title="keyword">∀</span> <a id="c:120" class="idref" href="#c:120"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="ImpEquiv.html#c:120"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="ImpEquiv.html#c:120"><span class="id" title="variable">c</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<div class="togglescript" id="proofcontrol7" onclick="toggleDisplay('proof7');toggleDisplay('proofcontrol7')"><span class="show"></span></div>
<div class="proofscript" id="proof7" onclick="toggleDisplay('proof7');toggleDisplay('proofcontrol7')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">red</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="skipR_sound" class="idref" href="#skipR_sound"><span class="id" title="lemma">skipR_sound</span></a> : <span class="id" title="keyword">∀</span> <a id="c:121" class="idref" href="#c:121"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpEquiv.html#c:121"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="ImpEquiv.html#c:121"><span class="id" title="variable">c</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">red</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="lemma">bind_ret_r</span> <a class="idref" href="ImpDenotation.html#a28bfd0a35de9a5c69829697b021d0f<sub>5</sub>"><span class="id" title="notation">⟦</span></a> <span class="id" title="var">c</span> <a class="idref" href="ImpDenotation.html#a28bfd0a35de9a5c69829697b021d0f<sub>5</sub>"><span class="id" title="notation">⟧</span></a>) <span class="id" title="tactic">at</span> 2.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cut</span>; <span class="id" title="var">now</span> <span class="id" title="var">break</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="iftrue_sound" class="idref" href="#iftrue_sound"><span class="id" title="lemma">iftrue_sound</span></a> : <span class="id" title="keyword">∀</span> <a id="c<sub>1</sub>:122" class="idref" href="#c<sub>1</sub>:122"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:123" class="idref" href="#c<sub>2</sub>:123"><span class="id" title="binder">c<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="ImpEquiv.html#c<sub>1</sub>:122"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="ImpEquiv.html#c<sub>2</sub>:123"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a> <a class="idref" href="ImpEquiv.html#c<sub>1</sub>:122"><span class="id" title="variable">c<sub>1</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">red</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="iffalse_sound" class="idref" href="#iffalse_sound"><span class="id" title="lemma">iffalse_sound</span></a> : <span class="id" title="keyword">∀</span> <a id="c<sub>1</sub>:124" class="idref" href="#c<sub>1</sub>:124"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:125" class="idref" href="#c<sub>2</sub>:125"><span class="id" title="binder">c<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="ImpEquiv.html#c<sub>1</sub>:124"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="ImpEquiv.html#c<sub>2</sub>:125"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a> <a class="idref" href="ImpEquiv.html#c<sub>2</sub>:125"><span class="id" title="variable">c<sub>2</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">red</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="whilefalse_sound" class="idref" href="#whilefalse_sound"><span class="id" title="lemma">whilefalse_sound</span></a> : <span class="id" title="keyword">∀</span> <a id="c:126" class="idref" href="#c:126"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="ImpEquiv.html#c:126"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Utils.html#unfold_repeat"><span class="id" title="lemma">unfold_repeat</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="comment">(*&nbsp;TODO&nbsp;:<br/>
&nbsp;&nbsp;-&nbsp;Some&nbsp;notation&nbsp;formatting&nbsp;to&nbsp;better&nbsp;display&nbsp;equations.&nbsp;Notably<br/>
&nbsp;&nbsp;&nbsp;&nbsp;t<br/>
&nbsp;&nbsp;&nbsp;&nbsp;≈<br/>
&nbsp;&nbsp;&nbsp;&nbsp;u<br/>
&nbsp;&nbsp;&nbsp;&nbsp;rather&nbsp;than&nbsp;t&nbsp;≈&nbsp;u<br/>
&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="ifComm_sound" class="idref" href="#ifComm_sound"><span class="id" title="lemma">ifComm_sound</span></a> : <span class="id" title="keyword">∀</span> <a id="b:127" class="idref" href="#b:127"><span class="id" title="binder">b</span></a> <a id="c<sub>1</sub>:128" class="idref" href="#c<sub>1</sub>:128"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:129" class="idref" href="#c<sub>2</sub>:129"><span class="id" title="binder">c<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="ImpEquiv.html#b:127"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="ImpEquiv.html#c<sub>1</sub>:128"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="ImpEquiv.html#c<sub>2</sub>:129"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="Imp.html#dfe50505b2b595242030c436d0d7d15f"><span class="id" title="notation">¬</span></a><a class="idref" href="ImpEquiv.html#b:127"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="ImpEquiv.html#c<sub>2</sub>:129"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="ImpEquiv.html#c<sub>1</sub>:128"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cut</span> <span class="id" title="keyword">with</span> (<span class="id" title="keyword">fun</span> <a id="b<sub>1</sub>:130" class="idref" href="#b<sub>1</sub>:130"><span class="id" title="binder"><span id="b<sub>1</sub>:132" class="id">b<sub>1</sub></span></span></a> <a id="b<sub>2</sub>:131" class="idref" href="#b<sub>2</sub>:131"><span class="id" title="binder"><span id="b<sub>2</sub>:133" class="id">b<sub>2</sub></span></span></a> ⇒ <a class="idref" href="ImpEquiv.html#b<sub>1</sub>:130"><span class="id" title="variable">b<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> <a class="idref" href="ImpEquiv.html#b<sub>2</sub>:131"><span class="id" title="variable">b<sub>2</sub></span></a>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="lemma">bind_ret_r</span> <a class="idref" href="ImpDenotation.html#8a2e87e11d401313a139f46e9659ad<sub>11</sub>"><span class="id" title="notation">⟦</span></a> <span class="id" title="var">b</span> <a class="idref" href="ImpDenotation.html#8a2e87e11d401313a139f46e9659ad<sub>11</sub>"><span class="id" title="notation">⟧</span></a><a class="idref" href="ImpDenotation.html#8a2e87e11d401313a139f46e9659ad<sub>11</sub>"><span class="id" title="notation">b</span></a>) <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ret</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Bool.Bool.html#negb_involutive"><span class="id" title="lemma">Bool.negb_involutive</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> ? [] →.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="ifDist_sound" class="idref" href="#ifDist_sound"><span class="id" title="lemma">ifDist_sound</span></a> : <span class="id" title="keyword">∀</span> <a id="b:134" class="idref" href="#b:134"><span class="id" title="binder">b</span></a> <a id="c<sub>1</sub>:135" class="idref" href="#c<sub>1</sub>:135"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:136" class="idref" href="#c<sub>2</sub>:136"><span class="id" title="binder">c<sub>2</sub></span></a> <a id="c:137" class="idref" href="#c:137"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="ImpEquiv.html#b:134"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="ImpEquiv.html#c<sub>1</sub>:135"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="ImpEquiv.html#c<sub>2</sub>:136"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="ImpEquiv.html#c:137"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="ImpEquiv.html#b:134"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="ImpEquiv.html#c<sub>1</sub>:135"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="ImpEquiv.html#c:137"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="ImpEquiv.html#c<sub>2</sub>:136"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="ImpEquiv.html#c:137"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cut</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">break</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="seqA_sound" class="idref" href="#seqA_sound"><span class="id" title="lemma">seqA_sound</span></a> : <span class="id" title="keyword">∀</span> <a id="c<sub>1</sub>:138" class="idref" href="#c<sub>1</sub>:138"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:139" class="idref" href="#c<sub>2</sub>:139"><span class="id" title="binder">c<sub>2</sub></span></a> <a id="c<sub>3</sub>:140" class="idref" href="#c<sub>3</sub>:140"><span class="id" title="binder">c<sub>3</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="ImpEquiv.html#c<sub>1</sub>:138"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="ImpEquiv.html#c<sub>2</sub>:139"><span class="id" title="variable">c<sub>2</sub></span></a><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="ImpEquiv.html#c<sub>3</sub>:140"><span class="id" title="variable">c<sub>3</sub></span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpEquiv.html#c<sub>1</sub>:138"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="ImpEquiv.html#c<sub>2</sub>:139"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="ImpEquiv.html#c<sub>3</sub>:140"><span class="id" title="variable">c<sub>3</sub></span></a><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="loop_unroll1_sound_strong" class="idref" href="#loop_unroll1_sound_strong"><span class="id" title="lemma">loop_unroll1_sound_strong</span></a> : <span class="id" title="keyword">∀</span> <a id="b:141" class="idref" href="#b:141"><span class="id" title="binder">b</span></a> <a id="c:142" class="idref" href="#c:142"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="ImpEquiv.html#b:141"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="ImpEquiv.html#c:142"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="ImpEquiv.html#b:141"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="ImpEquiv.html#c:142"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="ImpEquiv.html#b:141"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="ImpEquiv.html#c:142"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<div class="togglescript" id="proofcontrol8" onclick="toggleDisplay('proof8');toggleDisplay('proofcontrol8')"><span class="show"></span></div>
<div class="proofscript" id="proof8" onclick="toggleDisplay('proof8');toggleDisplay('proofcontrol8')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Utils.html#unfold_repeat"><span class="id" title="lemma">unfold_repeat</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cut</span>; <span class="id" title="var">break</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">tau_eutt</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="loop_unroll1_sound" class="idref" href="#loop_unroll1_sound"><span class="id" title="lemma">loop_unroll1_sound</span></a> : <span class="id" title="keyword">∀</span> <a id="b:143" class="idref" href="#b:143"><span class="id" title="binder">b</span></a> <a id="c:144" class="idref" href="#c:144"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="ImpEquiv.html#b:143"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="ImpEquiv.html#c:144"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#07441a5b1aff2e95834856beb1cf4a<sub>14</sub>"><span class="id" title="notation">≊</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="ImpEquiv.html#b:143"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="ImpEquiv.html#c:144"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="ImpEquiv.html#b:143"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="ImpEquiv.html#c:144"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<div class="togglescript" id="proofcontrol9" onclick="toggleDisplay('proof9');toggleDisplay('proofcontrol9')"><span class="show"></span></div>
<div class="proofscript" id="proof9" onclick="toggleDisplay('proof9');toggleDisplay('proofcontrol9')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ImpEquiv.html#com_eq_subrel_equiv"><span class="id" title="instance">com_eq_subrel_equiv</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ImpEquiv.html#loop_unroll1_sound_strong"><span class="id" title="lemma">loop_unroll1_sound_strong</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div class="doc">
<a id="lab228"></a><h3 class="section">(Harder) Loop Equivalences</h3>
 <span class="inlinecode"><span class="id" title="var">loop_unroll2_sound</span></span> turns out to be more interesting that it may seem.
First in terms of bisimulation:
   1. it cannot be proved equationally using the <span class="inlinecode"><span class="id" title="var">Iterative</span></span> laws
   2. it does not fit the restricted bisimulation schema that <span class="inlinecode"><span class="id" title="var">eutt_iter_gen</span></span> provides as it only covers lock-step bisimulation at the granularity of the bodies.
   Two solutions:
<ul class="doclist">
<li> do a proof by coinduction locally (as done crudely below)

</li>
<li> introduce an additional result about <span class="inlinecode"><span class="id" title="var">iter</span></span> (or even better here, <span class="inlinecode"><span class="id" title="tactic">repeat</span></span>)

</li>
</ul>
Second in terms of effects:
   3. it is true if and only if <span class="inlinecode"><span class="id" title="var">bexp</span></span> are mostly pure: divergence is fine, but no other effect.
   Indeed, the right handside might evaluate a failing boolean expression an
   extra time compared to the left handside.
   This means that we can only prove the equation for <span class="inlinecode">≈</span>. Furthermore, it turns
   out to be quite cumbersome to exploit the purity argument: I do it in the
   simpler case where boolean expressions are <i>really</i> pure, i.e. also
   terminating. The tangent at the end of this file essentially proves why it
   also works with divergent computations, but I'm not sure I'd know how to
   incorporate this argument in the coinductive proof.
 
<div class="paragraph"> </div>

 This equivalence is <i>not</i> directly provable from the iter laws. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="loop_unroll2_sound" class="idref" href="#loop_unroll2_sound"><span class="id" title="lemma">loop_unroll2_sound</span></a> : <span class="id" title="keyword">∀</span> <a id="b:145" class="idref" href="#b:145"><span class="id" title="binder">b</span></a> <a id="c:146" class="idref" href="#c:146"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="ImpEquiv.html#b:145"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="ImpEquiv.html#c:146"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#07441a5b1aff2e95834856beb1cf4a<sub>14</sub>"><span class="id" title="notation">≊</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="ImpEquiv.html#b:145"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="ImpEquiv.html#c:146"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="ImpEquiv.html#b:145"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="ImpEquiv.html#c:146"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<div class="togglescript" id="proofcontrol10" onclick="toggleDisplay('proof10');toggleDisplay('proofcontrol10')"><span class="show"></span></div>
<div class="proofscript" id="proof10" onclick="toggleDisplay('proof10');toggleDisplay('proofcontrol10')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">einit</span>. <span class="id" title="var">ecofix</span> <span class="id" title="var">CIH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> σ.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ImpDenotation.html#model_com"><span class="id" title="definition">model_com</span></a>,<a class="idref" href="http://coq.inria.fr/library//Coq.Program.Basics.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="Utils.html#interp_state_repeat"><span class="id" title="lemma">interp_state_repeat</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="Utils.html#unfold_repeat_state"><span class="id" title="lemma">unfold_repeat_state</span></a>.<br/><hr class='doublespaceincode'/>
&nbsp;<span class="comment">(*&nbsp;The&nbsp;system&nbsp;can&nbsp;synch&nbsp;in&nbsp;three&nbsp;ways<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(1)&nbsp;<span class="inlinecode"><span class="id" title="var">b</span></span>&nbsp;is&nbsp;immediately&nbsp;false,&nbsp;it&nbsp;exits&nbsp;on&nbsp;both&nbsp;side&nbsp;immediately<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(2)&nbsp;<span class="inlinecode"><span class="id" title="var">b</span></span>&nbsp;is&nbsp;first&nbsp;true,&nbsp;then&nbsp;false,&nbsp;it&nbsp;exits&nbsp;on&nbsp;both&nbsp;side&nbsp;after&nbsp;one&nbsp;iteration<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;However&nbsp;there&nbsp;is&nbsp;one&nbsp;tricky&nbsp;part&nbsp;to&nbsp;this:&nbsp;on&nbsp;the&nbsp;right&nbsp;hand-side,&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;failing&nbsp;<span class="inlinecode"><span class="id" title="var">b</span></span>&nbsp;expression&nbsp;will&nbsp;be&nbsp;evaluated&nbsp;twice&nbsp;in&nbsp;a&nbsp;row,&nbsp;we&nbsp;need&nbsp;to<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;remember&nbsp;that&nbsp;it&nbsp;was&nbsp;evaluating&nbsp;to&nbsp;false.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Furthermore,&nbsp;since&nbsp;we&nbsp;evaluate&nbsp;b&nbsp;twice,&nbsp;it's&nbsp;only&nbsp;sound&nbsp;if&nbsp;b&nbsp;is&nbsp;pure,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;which&nbsp;it&nbsp;isn't&nbsp;at&nbsp;this&nbsp;level:&nbsp;we&nbsp;need&nbsp;to&nbsp;move&nbsp;this&nbsp;in&nbsp;opt_red2!<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(3)&nbsp;<span class="inlinecode"><span class="id" title="var">b</span></span>&nbsp;is&nbsp;true&nbsp;at&nbsp;least&nbsp;twice,&nbsp;both&nbsp;system&nbsp;synch&nbsp;under&nbsp;a&nbsp;Tau,&nbsp;and&nbsp;conclude&nbsp;coinductively&nbsp;(the&nbsp;system&nbsp;on&nbsp;the&nbsp;left&nbsp;has&nbsp;dismissed&nbsp;a&nbsp;first&nbsp;tau&nbsp;earlier)<br/>
&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ebind</span>; <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">tmp</span> ? &lt;-; <span class="id" title="tactic">destruct</span> <span class="id" title="var">tmp</span> <span class="id" title="keyword">as</span> [? []]; <span class="id" title="var">cycle</span> -1.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;(1)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ebind</span>. <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? &lt;-; <span class="id" title="var">break</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">tau_euttge</span>. <span class="comment">(*&nbsp;The&nbsp;system&nbsp;on&nbsp;the&nbsp;left&nbsp;passes&nbsp;a&nbsp;lonely&nbsp;guard&nbsp;after&nbsp;one&nbsp;iteration,&nbsp;we&nbsp;dismiss&nbsp;it&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Utils.html#unfold_repeat_state"><span class="id" title="lemma">unfold_repeat_state</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;There&nbsp;is&nbsp;something&nbsp;slightly&nbsp;interesting&nbsp;here:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;what&nbsp;is&nbsp;the&nbsp;best&nbsp;way&nbsp;to&nbsp;exploit&nbsp;the&nbsp;purity&nbsp;of&nbsp;<span class="inlinecode"><span class="id" title="var">b</span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;so&nbsp;that&nbsp;we&nbsp;can&nbsp;process&nbsp;its&nbsp;second&nbsp;evaluation&nbsp;in&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;right&nbsp;hand-side?<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="ImpEquiv.html#bexp_pure"><span class="id" title="lemma">bexp_pure</span></a> <span class="id" title="var">b</span> <span class="id" title="var">m<sub>0</sub></span> <span class="id" title="keyword">as</span> [<span class="id" title="var">vb</span> <span class="id" title="var">eqb</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ebind</span>. <span class="id" title="var">unshelve</span> <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> '<a id="pat:149" class="idref" href="#pat:149"><span class="id" title="binder"><span id="pat:155" class="id">(</span></span></a><a id="m<sub>1</sub>:148" class="idref" href="#m<sub>1</sub>:148"><span class="id" title="binder"><span id="pat:149" class="id"><span id="m<sub>1</sub>:154" class="id"><span id="pat:155" class="id">m<sub>1</sub></span></span></span></span></a><a id="pat:149" class="idref" href="#pat:149"><span class="id" title="binder"><span id="pat:155" class="id">,</span></span></a><a id="b<sub>1</sub>:147" class="idref" href="#b<sub>1</sub>:147"><span class="id" title="binder"><span id="pat:149" class="id"><span id="b<sub>1</sub>:153" class="id"><span id="pat:155" class="id">b<sub>1</sub></span></span></span></span></a><a id="pat:149" class="idref" href="#pat:149"><span class="id" title="binder"><span id="pat:155" class="id">)</span></span></a> '<a id="pat:152" class="idref" href="#pat:152"><span class="id" title="binder"><span id="pat:158" class="id">(</span></span></a><a id="m<sub>2</sub>:151" class="idref" href="#m<sub>2</sub>:151"><span class="id" title="binder"><span id="pat:152" class="id"><span id="m<sub>2</sub>:157" class="id"><span id="pat:158" class="id">m<sub>2</sub></span></span></span></span></a><a id="pat:152" class="idref" href="#pat:152"><span class="id" title="binder"><span id="pat:158" class="id">,</span></span></a><a id="b<sub>2</sub>:150" class="idref" href="#b<sub>2</sub>:150"><span class="id" title="binder"><span id="pat:152" class="id"><span id="b<sub>2</sub>:156" class="id"><span id="pat:158" class="id">b<sub>2</sub></span></span></span></span></a><a id="pat:152" class="idref" href="#pat:152"><span class="id" title="binder"><span id="pat:158" class="id">)</span></span></a> ⇒ <a class="idref" href="ImpEquiv.html#m<sub>1</sub>:148"><span class="id" title="variable">m<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ImpEquiv.html#m<sub>2</sub>:151"><span class="id" title="variable">m<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="ImpEquiv.html#m<sub>1</sub>:148"><span class="id" title="variable">m<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">m<sub>0</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="ImpEquiv.html#b<sub>1</sub>:147"><span class="id" title="variable">b<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ImpEquiv.html#b<sub>2</sub>:150"><span class="id" title="variable">b<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="ImpEquiv.html#b<sub>1</sub>:147"><span class="id" title="variable">b<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">vb</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eqb</span>; <span class="id" title="var">ret</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [? ?] [? ?] ?; <span class="id" title="tactic">intuition</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">vb</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">cycle</span> -1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;(2)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">tau_euttge</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Utils.html#unfold_repeat_state"><span class="id" title="lemma">unfold_repeat_state</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (@<span class="id" title="lemma">bind_ret_l</span> <span class="id" title="inductive">void1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">m<sub>0</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="Imp.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="abbreviation">Ret</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">m<sub>0</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">EQ</span>; <span class="id" title="var">cbn</span> <span class="id" title="keyword">in</span> <span class="id" title="var">EQ</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EQ</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ebind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unshelve</span> <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> '<a id="pat:161" class="idref" href="#pat:161"><span class="id" title="binder"><span id="pat:167" class="id">(</span></span></a><a id="m<sub>1</sub>:160" class="idref" href="#m<sub>1</sub>:160"><span class="id" title="binder"><span id="pat:161" class="id"><span id="m<sub>1</sub>:166" class="id"><span id="pat:167" class="id">m<sub>1</sub></span></span></span></span></a><a id="pat:161" class="idref" href="#pat:161"><span class="id" title="binder"><span id="pat:167" class="id">,</span></span></a><a id="b<sub>1</sub>:159" class="idref" href="#b<sub>1</sub>:159"><span class="id" title="binder"><span id="pat:161" class="id"><span id="b<sub>1</sub>:165" class="id"><span id="pat:167" class="id">b<sub>1</sub></span></span></span></span></a><a id="pat:161" class="idref" href="#pat:161"><span class="id" title="binder"><span id="pat:167" class="id">)</span></span></a> '<a id="pat:164" class="idref" href="#pat:164"><span class="id" title="binder"><span id="pat:170" class="id">(</span></span></a><a id="m<sub>2</sub>:163" class="idref" href="#m<sub>2</sub>:163"><span class="id" title="binder"><span id="pat:164" class="id"><span id="m<sub>2</sub>:169" class="id"><span id="pat:170" class="id">m<sub>2</sub></span></span></span></span></a><a id="pat:164" class="idref" href="#pat:164"><span class="id" title="binder"><span id="pat:170" class="id">,</span></span></a><a id="b<sub>2</sub>:162" class="idref" href="#b<sub>2</sub>:162"><span class="id" title="binder"><span id="pat:164" class="id"><span id="b<sub>2</sub>:168" class="id"><span id="pat:170" class="id">b<sub>2</sub></span></span></span></span></a><a id="pat:164" class="idref" href="#pat:164"><span class="id" title="binder"><span id="pat:170" class="id">)</span></span></a> ⇒ <a class="idref" href="ImpEquiv.html#m<sub>1</sub>:160"><span class="id" title="variable">m<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ImpEquiv.html#m<sub>2</sub>:163"><span class="id" title="variable">m<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="ImpEquiv.html#m<sub>1</sub>:160"><span class="id" title="variable">m<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">m<sub>0</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="ImpEquiv.html#b<sub>1</sub>:159"><span class="id" title="variable">b<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ImpEquiv.html#b<sub>2</sub>:162"><span class="id" title="variable">b<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="ImpEquiv.html#b<sub>1</sub>:159"><span class="id" title="variable">b<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp.html#:::'false'"><span class="id" title="notation">false</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eqb</span>; <span class="id" title="var">ret</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [? ?] [? ?] ?; <span class="id" title="tactic">intuition</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">cbn</span>; <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>; <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ebind</span>. <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? &lt;-; <span class="id" title="var">break</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- 2 <a class="idref" href="Utils.html#interp_state_repeat"><span class="id" title="lemma">interp_state_repeat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etau</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<br/>
<span class="comment">(*&nbsp;Amusing,&nbsp;<span class="inlinecode"><span class="id" title="var">whiletrue_sound</span></span>&nbsp;is&nbsp;also&nbsp;a&nbsp;bit&nbsp;tricky&nbsp;to&nbsp;prove&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="loop_unroll1_strong" class="idref" href="#loop_unroll1_strong"><span class="id" title="lemma">loop_unroll1_strong</span></a> : <span class="id" title="keyword">∀</span> <a id="c:171" class="idref" href="#c:171"><span class="id" title="binder">c</span></a>, <a class="idref" href="ImpDenotation.html#a28bfd0a35de9a5c69829697b021d0f<sub>5</sub>"><span class="id" title="notation">⟦</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="ImpEquiv.html#c:171"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpDenotation.html#a28bfd0a35de9a5c69829697b021d0f<sub>5</sub>"><span class="id" title="notation">⟧</span></a> <span class="id" title="notation">≅</span> <a class="idref" href="ImpDenotation.html#a28bfd0a35de9a5c69829697b021d0f<sub>5</sub>"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ImpEquiv.html#c:171"><span class="id" title="variable">c</span></a> <a class="idref" href="ImpDenotation.html#a28bfd0a35de9a5c69829697b021d0f<sub>5</sub>"><span class="id" title="notation">⟧</span></a><span class="id" title="notation">;;</span> <span class="id" title="abbreviation">Tau</span> <a class="idref" href="ImpDenotation.html#a28bfd0a35de9a5c69829697b021d0f<sub>5</sub>"><span class="id" title="notation">⟦</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="ImpEquiv.html#c:171"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpDenotation.html#a28bfd0a35de9a5c69829697b021d0f<sub>5</sub>"><span class="id" title="notation">⟧</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">c</span>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Utils.html#unfold_repeat"><span class="id" title="lemma">unfold_repeat</span></a>; <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">eq_itree_clo_bind</span>; [<span class="id" title="tactic">reflexivity</span> | <span class="id" title="tactic">intros</span> ? ? &lt;-; <span class="id" title="var">break</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">bind_ret_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">eqitree_Tau</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="whiletrue_sound_aux" class="idref" href="#whiletrue_sound_aux"><span class="id" title="lemma">whiletrue_sound_aux</span></a> : <span class="id" title="keyword">∀</span> (<a id="t:172" class="idref" href="#t:172"><span class="id" title="binder">t</span></a> : <span class="id" title="record">itree</span> <span class="id" title="var">_</span> (<a class="idref" href="ImpDenotation.html#mem"><span class="id" title="definition">mem</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac<sub>4</sub>"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>)) <a id="c:173" class="idref" href="#c:173"><span class="id" title="binder">c</span></a>, <a id="st:174" class="idref" href="#st:174"><span class="id" title="binder">st</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ImpEquiv.html#t:172"><span class="id" title="variable">t</span></a><span class="id" title="notation">;;</span> <span class="id" title="abbreviation">Tau</span> (<a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">ℑ</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟦&lt;{</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">while</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">true</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">do</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">c</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">end</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">}&gt;⟧</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">(</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">fst</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">st</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">)</span></a>) <span class="id" title="notation">≈</span> <span class="id" title="definition">ITree.spin</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">einit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ecofix</span> <span class="id" title="var">CIH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">CIHH</span> <span class="id" title="var">INCL</span> <span class="id" title="var">INCH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <span class="id" title="var">c</span> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">itree_eta</span> <span class="id" title="definition">ITree.spin</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">itree_eta</span> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">desobs</span> <span class="id" title="var">t</span> <span class="id" title="var">ot</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">bind_ret_l</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">r</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">c<sub>0</sub></span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="ImpEquiv.html#loop_unroll1_strong"><span class="id" title="lemma">loop_unroll1_strong</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">interp_state_bind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="lemma">interp_state_tau</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etau</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">bind_tau</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etau</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="while_true_skip_spin" class="idref" href="#while_true_skip_spin"><span class="id" title="lemma">while_true_skip_spin</span></a> <a id="25ee8af828a70e12a74c7e9eeced2efb" class="idref" href="#25ee8af828a70e12a74c7e9eeced2efb"><span class="id" title="binder">σ</span></a> : <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">ℑ</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟦&lt;{</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">while</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">true</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">do</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">skip</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">end</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">}&gt;⟧</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">σ</span></a> <span class="id" title="notation">≈</span> <span class="id" title="definition">ITree.spin</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">einit</span>; <span class="id" title="var">ecofix</span> <span class="id" title="var">CIH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ImpEquiv.html#loop_unroll1_strong"><span class="id" title="lemma">loop_unroll1_strong</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">interp_state_bind</span>, <span class="id" title="lemma">interp_state_ret</span>, <span class="id" title="lemma">bind_ret_l</span>, <span class="id" title="lemma">interp_state_tau</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">itree_eta</span> <span class="id" title="definition">ITree.spin</span>); <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etau</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="whiletrue_sound" class="idref" href="#whiletrue_sound"><span class="id" title="lemma">whiletrue_sound</span></a> <a id="c:176" class="idref" href="#c:176"><span class="id" title="binder">c</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="ImpEquiv.html#c:176"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#07441a5b1aff2e95834856beb1cf4a<sub>14</sub>"><span class="id" title="notation">≊</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<div class="togglescript" id="proofcontrol11" onclick="toggleDisplay('proof11');toggleDisplay('proofcontrol11')"><span class="show"></span></div>
<div class="proofscript" id="proof11" onclick="toggleDisplay('proof11');toggleDisplay('proofcontrol11')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> σ.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ImpDenotation.html#model_com"><span class="id" title="definition">model_com</span></a>, <a class="idref" href="http://coq.inria.fr/library//Coq.Program.Basics.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ImpEquiv.html#while_true_skip_spin"><span class="id" title="lemma">while_true_skip_spin</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ImpEquiv.html#loop_unroll1_strong"><span class="id" title="lemma">loop_unroll1_strong</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">interp_state_bind</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="lemma">interp_state_tau</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ImpEquiv.html#whiletrue_sound_aux"><span class="id" title="lemma">whiletrue_sound_aux</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div class="doc">
<a id="lab229"></a><h2 class="section">A sound static calculus</h2>

<div class="paragraph"> </div>

 The elementary soundness lemmas characterizes that each set of reduction
    rule is a subrelation of the corresponding semantic equivalence.

</div>
<div class="code">

<span class="id" title="keyword">Theorem</span> <a id="red_aexp_sound" class="idref" href="#red_aexp_sound"><span class="id" title="lemma">red_aexp_sound</span></a> : <span class="id" title="keyword">∀</span> <a id="a<sub>1</sub>:177" class="idref" href="#a<sub>1</sub>:177"><span class="id" title="binder">a<sub>1</sub></span></a> <a id="a<sub>2</sub>:178" class="idref" href="#a<sub>2</sub>:178"><span class="id" title="binder">a<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpEquiv.html#red_aexp"><span class="id" title="inductive">red_aexp</span></a> <a class="idref" href="ImpEquiv.html#a<sub>1</sub>:177"><span class="id" title="variable">a<sub>1</sub></span></a> <a class="idref" href="ImpEquiv.html#a<sub>2</sub>:178"><span class="id" title="variable">a<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpEquiv.html#a<sub>1</sub>:177"><span class="id" title="variable">a<sub>1</sub></span></a> <a class="idref" href="ImpEquiv.html#d7106b2ece10b3a82ce9d40f49cb50d<sub>8</sub>"><span class="id" title="notation">≈ₐ</span></a> <a class="idref" href="ImpEquiv.html#a<sub>2</sub>:178"><span class="id" title="variable">a<sub>2</sub></span></a>.<br/>
<div class="togglescript" id="proofcontrol12" onclick="toggleDisplay('proof12');toggleDisplay('proofcontrol12')"><span class="show"></span></div>
<div class="proofscript" id="proof12" onclick="toggleDisplay('proof12');toggleDisplay('proofcontrol12')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × <span class="id" title="var">RED</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">RED</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">opt</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Theorem</span> <a id="red_bexp_sound" class="idref" href="#red_bexp_sound"><span class="id" title="lemma">red_bexp_sound</span></a> : <span class="id" title="keyword">∀</span> <a id="b<sub>1</sub>:179" class="idref" href="#b<sub>1</sub>:179"><span class="id" title="binder">b<sub>1</sub></span></a> <a id="b<sub>2</sub>:180" class="idref" href="#b<sub>2</sub>:180"><span class="id" title="binder">b<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpEquiv.html#red_bexp"><span class="id" title="inductive">red_bexp</span></a> <a class="idref" href="ImpEquiv.html#b<sub>1</sub>:179"><span class="id" title="variable">b<sub>1</sub></span></a> <a class="idref" href="ImpEquiv.html#b<sub>2</sub>:180"><span class="id" title="variable">b<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpEquiv.html#b<sub>1</sub>:179"><span class="id" title="variable">b<sub>1</sub></span></a> <a class="idref" href="ImpEquiv.html#7190514c39b66a8ebe5baf5b4d4a5b<sub>49</sub>"><span class="id" title="notation">≈ᵦ</span></a> <a class="idref" href="ImpEquiv.html#b<sub>2</sub>:180"><span class="id" title="variable">b<sub>2</sub></span></a>.<br/>
<div class="togglescript" id="proofcontrol13" onclick="toggleDisplay('proof13');toggleDisplay('proofcontrol13')"><span class="show"></span></div>
<div class="proofscript" id="proof13" onclick="toggleDisplay('proof13');toggleDisplay('proofcontrol13')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × <span class="id" title="var">RED</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">RED</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">opt</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Theorem</span> <a id="red_com1_sound" class="idref" href="#red_com1_sound"><span class="id" title="lemma">red_com1_sound</span></a> : <span class="id" title="keyword">∀</span> <a id="c<sub>1</sub>:181" class="idref" href="#c<sub>1</sub>:181"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:182" class="idref" href="#c<sub>2</sub>:182"><span class="id" title="binder">c<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpEquiv.html#red_com1"><span class="id" title="inductive">red_com1</span></a> <a class="idref" href="ImpEquiv.html#c<sub>1</sub>:181"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="ImpEquiv.html#c<sub>2</sub>:182"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpEquiv.html#c<sub>1</sub>:181"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="ImpEquiv.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a> <a class="idref" href="ImpEquiv.html#c<sub>2</sub>:182"><span class="id" title="variable">c<sub>2</sub></span></a>.<br/>
<div class="togglescript" id="proofcontrol14" onclick="toggleDisplay('proof14');toggleDisplay('proofcontrol14')"><span class="show"></span></div>
<div class="proofscript" id="proof14" onclick="toggleDisplay('proof14');toggleDisplay('proofcontrol14')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × <span class="id" title="var">RED</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">RED</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">opt</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="red_com2_sound" class="idref" href="#red_com2_sound"><span class="id" title="lemma">red_com2_sound</span></a> : <span class="id" title="keyword">∀</span> <a id="c<sub>1</sub>:183" class="idref" href="#c<sub>1</sub>:183"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:184" class="idref" href="#c<sub>2</sub>:184"><span class="id" title="binder">c<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpEquiv.html#red_com2"><span class="id" title="inductive">red_com2</span></a> <a class="idref" href="ImpEquiv.html#c<sub>1</sub>:183"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="ImpEquiv.html#c<sub>2</sub>:184"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpEquiv.html#c<sub>1</sub>:183"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="ImpEquiv.html#07441a5b1aff2e95834856beb1cf4a<sub>14</sub>"><span class="id" title="notation">≊</span></a> <a class="idref" href="ImpEquiv.html#c<sub>2</sub>:184"><span class="id" title="variable">c<sub>2</sub></span></a>.<br/>
<div class="togglescript" id="proofcontrol15" onclick="toggleDisplay('proof15');toggleDisplay('proofcontrol15')"><span class="show"></span></div>
<div class="proofscript" id="proof15" onclick="toggleDisplay('proof15');toggleDisplay('proofcontrol15')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> × <span class="id" title="var">RED</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">RED</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">opt</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<br/><hr class='doublespaceincode'/>
</div>

<div class="doc">
<a id="lab231"></a><h2 class="section">Proving program equivalences</h2>

<div class="paragraph"> </div>

 We can use our static calculus to prove program equivalences.
 
<div class="paragraph"> </div>

 Note what happens to justify this rewrite:
<ul class="doclist">
<li>  red_aexp is a subrelation to ≈ₐ

</li>
<li>  ≈ₐ is compatible with <span class="inlinecode"><span class="id" title="var">Asgn</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span>, leading to a ≈ relation

</li>
<li>  ≈ is a congruence, hence being lifted to all the surrounding contexts

</li>
<li>  ≈ is transitive, hence allowing the rewrite of the substituted program

</li>
</ul>
   
</div>
<div class="code">
<span class="id" title="keyword">Example</span> <a id="congruence_example" class="idref" href="#congruence_example"><span class="id" title="definition">congruence_example</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Program&nbsp;1:&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 0<a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> 0<a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 42<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#07441a5b1aff2e95834856beb1cf4a<sub>14</sub>"><span class="id" title="notation">≊</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Program&nbsp;2:&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 0<a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> 0<a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#:com::x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <span class="comment">(*&nbsp;&lt;---&nbsp;Changed&nbsp;here&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 42<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ImpEquiv.html#minus_inv"><span class="id" title="constructor">minus_inv</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab232"></a><h2 class="section">Constant folding as a tactic</h2>

<div class="paragraph"> </div>

 Our set of rules can be used to define "proof-level optimizations".
    We can "run" constant folding in proofs of equivalences
    by picking out a set of rewrite rules to use.
 
</div>
<div class="code">
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;these&nbsp;compute&nbsp;variable-free&nbsp;aexps:&nbsp;*)</span><br/>
&nbsp;&nbsp;<a class="idref" href="ImpEquiv.html#rplus"><span class="id" title="constructor">rplus</span></a> <a class="idref" href="ImpEquiv.html#rminus"><span class="id" title="constructor">rminus</span></a> <a class="idref" href="ImpEquiv.html#rmult"><span class="id" title="constructor">rmult</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Arith.PeanoNat.html#Nat.eqb_refl"><span class="id" title="lemma">PeanoNat.Nat.eqb_refl</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;these&nbsp;compute&nbsp;variable-free&nbsp;bexps:&nbsp;*)</span><br/>
&nbsp;&nbsp;<a class="idref" href="ImpEquiv.html#req"><span class="id" title="constructor">req</span></a> <a class="idref" href="ImpEquiv.html#rle"><span class="id" title="constructor">rle</span></a> <a class="idref" href="ImpEquiv.html#randft"><span class="id" title="constructor">randft</span></a> <a class="idref" href="ImpEquiv.html#randtt"><span class="id" title="constructor">randtt</span></a> <a class="idref" href="ImpEquiv.html#randff"><span class="id" title="constructor">randff</span></a> <a class="idref" href="ImpEquiv.html#rnegt"><span class="id" title="constructor">rnegt</span></a> <a class="idref" href="ImpEquiv.html#rnegf"><span class="id" title="constructor">rnegf</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;these&nbsp;collapse&nbsp;trivial&nbsp;control&nbsp;flow:&nbsp;*)</span><br/>
&nbsp;&nbsp;<a class="idref" href="ImpEquiv.html#iftrue"><span class="id" title="constructor">iftrue</span></a> <a class="idref" href="ImpEquiv.html#iffalse"><span class="id" title="constructor">iffalse</span></a> <a class="idref" href="ImpEquiv.html#whiletrue"><span class="id" title="constructor">whiletrue</span></a> <a class="idref" href="ImpEquiv.html#whilefalse"><span class="id" title="constructor">whilefalse</span></a> <br/>
&nbsp;&nbsp;: <span class="id" title="var">cst_folding</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">cst_fold</span> := <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">cst_folding</span>; <span class="id" title="var">cbn</span>.<br/>
</div>

<div class="doc">
<a id="lab233"></a><h3 class="section">Example</h3>
 And we can run it in proofs to simplify programs  Examples from plf 
</div>
<div class="code">
<span class="id" title="keyword">Example</span> <a id="fold_aexp_ex<sub>1</sub>" class="idref" href="#fold_aexp_ex<sub>1</sub>"><span class="id" title="definition">fold_aexp_ex<sub>1</sub></span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a>1 <a class="idref" href="Imp.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> 2<a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#a73c7b35e67094dc8ae672f3a93da066"><span class="id" title="notation">×</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#d7106b2ece10b3a82ce9d40f49cb50d<sub>8</sub>"><span class="id" title="notation">≈ₐ</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> 3 <a class="idref" href="Imp.html#a73c7b35e67094dc8ae672f3a93da066"><span class="id" title="notation">×</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cst_fold</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Example</span> <a id="fold_aexp_ex<sub>2</sub>" class="idref" href="#fold_aexp_ex<sub>2</sub>"><span class="id" title="definition">fold_aexp_ex<sub>2</sub></span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#:com::x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">((</span></a>0 <a class="idref" href="Imp.html#a73c7b35e67094dc8ae672f3a93da066"><span class="id" title="notation">×</span></a> 6<a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> <a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#d7106b2ece10b3a82ce9d40f49cb50d<sub>8</sub>"><span class="id" title="notation">≈ₐ</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#:com::x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a>0 <a class="idref" href="Imp.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> <a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cst_fold</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Example</span> <a id="fold_bexp_ex<sub>1</sub>" class="idref" href="#fold_bexp_ex<sub>1</sub>"><span class="id" title="definition">fold_bexp_ex<sub>1</sub></span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="Imp.html#:com::x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Imp.html#dfe50505b2b595242030c436d0d7d15f"><span class="id" title="notation">¬</span></a><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="Imp.html#:com::x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#7190514c39b66a8ebe5baf5b4d4a5b<sub>49</sub>"><span class="id" title="notation">≈ᵦ</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cst_fold</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Example</span> <a id="fold_bexp_ex<sub>2</sub>" class="idref" href="#fold_bexp_ex<sub>2</sub>"><span class="id" title="definition">fold_bexp_ex<sub>2</sub></span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#:com::x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a>0 <a class="idref" href="Imp.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a>2 <a class="idref" href="Imp.html#:com::x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a>1 <a class="idref" href="Imp.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> 1<a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)))</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#7190514c39b66a8ebe5baf5b4d4a5b<sub>49</sub>"><span class="id" title="notation">≈ᵦ</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#:com::x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cst_fold</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab234"></a><h3 class="section">More interesting example</h3>

</div>
<div class="code">

<span class="id" title="keyword">Example</span> <a id="fold_com_ex<sub>1</sub>" class="idref" href="#fold_com_ex<sub>1</sub>"><span class="id" title="definition">fold_com_ex<sub>1</sub></span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Original&nbsp;program:&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 4 <a class="idref" href="Imp.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> 5<a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#:com::x_'-'_x"><span class="id" title="notation">-</span></a> 3<a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">((</span></a><a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#:com::x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a>2 <a class="idref" href="Imp.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> 4<a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">))</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 0 <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a>0 <a class="idref" href="Imp.html#d43f15edd52d29ae8e0f90730a25ed5c"><span class="id" title="notation">≤</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a>4 <a class="idref" href="Imp.html#:com::x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a>2 <a class="idref" href="Imp.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> 1<a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)))</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> 0<a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ImpEquiv.html#07441a5b1aff2e95834856beb1cf4a<sub>14</sub>"><span class="id" title="notation">≊</span></a> <span class="comment">(*&nbsp;After&nbsp;constant&nbsp;folding:&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 9<a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#:com::x_'-'_x"><span class="id" title="notation">-</span></a> 3<a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">((</span></a><a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#:com::x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> 6<a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 0 <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 0<a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> 0<a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cst_fold</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab235"></a><h2 class="section">Constant folding as a sound optimization</h2>

<div class="paragraph"> </div>

 How does this tactic-based, semantic, constant folding relates to
    constant-folding as a syntactic optimization?
    The tactic relies on a set of rewriting rules satisfying a certain semantic
    equivalence, and this equivalence being a congruence.

<div class="paragraph"> </div>

    If we write the optimization, we will use exactly those facts to justify its correctness.
    The optimization on <span class="inlinecode"><span class="id" title="var">aexp</span></span>...

</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a id="fold_constants_aexp" class="idref" href="#fold_constants_aexp"><span class="id" title="definition">fold_constants_aexp</span></a> (<a id="a:217" class="idref" href="#a:217"><span class="id" title="binder">a</span></a> : <a class="idref" href="Imp.html#aexp"><span class="id" title="inductive">aexp</span></a>) : <a class="idref" href="Imp.html#aexp"><span class="id" title="inductive">aexp</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ImpEquiv.html#a:217"><span class="id" title="variable">a</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#ANum"><span class="id" title="constructor">ANum</span></a> <span class="id" title="var">n</span> ⇒ <a class="idref" href="Imp.html#ANum"><span class="id" title="constructor">ANum</span></a> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#AId"><span class="id" title="constructor">AId</span></a> <span class="id" title="var">x</span> ⇒ <a class="idref" href="Imp.html#AId"><span class="id" title="constructor">AId</span></a> <span class="id" title="var">x</span><br/>
<br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#APlus"><span class="id" title="constructor">APlus</span></a> <span class="id" title="var">a<sub>1</sub></span> <span class="id" title="var">a<sub>2</sub></span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ImpEquiv.html#fold_constants_aexp:218"><span class="id" title="definition">fold_constants_aexp</span></a> <span class="id" title="var">a<sub>1</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ImpEquiv.html#fold_constants_aexp:218"><span class="id" title="definition">fold_constants_aexp</span></a> <span class="id" title="var">a<sub>2</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#ANum"><span class="id" title="constructor">ANum</span></a> <span class="id" title="var">n<sub>1</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Imp.html#ANum"><span class="id" title="constructor">ANum</span></a> <span class="id" title="var">n<sub>2</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="Imp.html#ANum"><span class="id" title="constructor">ANum</span></a> (<a class="idref" href="ImpDenotation.html#aop_sem"><span class="id" title="definition">aop_sem</span></a> <a class="idref" href="ImpDenotation.html#op_plus"><span class="id" title="constructor">op_plus</span></a> <span class="id" title="var">n<sub>1</sub></span> <span class="id" title="var">n<sub>2</sub></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a<sub>1</sub>'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a<sub>2</sub>'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#APlus"><span class="id" title="constructor">APlus</span></a> <span class="id" title="var">a<sub>1</sub>'</span> <span class="id" title="var">a<sub>2</sub>'</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
<br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#AMinus"><span class="id" title="constructor">AMinus</span></a> <span class="id" title="var">a<sub>1</sub></span> <span class="id" title="var">a<sub>2</sub></span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ImpEquiv.html#fold_constants_aexp:218"><span class="id" title="definition">fold_constants_aexp</span></a> <span class="id" title="var">a<sub>1</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ImpEquiv.html#fold_constants_aexp:218"><span class="id" title="definition">fold_constants_aexp</span></a> <span class="id" title="var">a<sub>2</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#ANum"><span class="id" title="constructor">ANum</span></a> <span class="id" title="var">n<sub>1</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Imp.html#ANum"><span class="id" title="constructor">ANum</span></a> <span class="id" title="var">n<sub>2</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="Imp.html#ANum"><span class="id" title="constructor">ANum</span></a> (<a class="idref" href="ImpDenotation.html#aop_sem"><span class="id" title="definition">aop_sem</span></a> <a class="idref" href="ImpDenotation.html#op_minus"><span class="id" title="constructor">op_minus</span></a> <span class="id" title="var">n<sub>1</sub></span> <span class="id" title="var">n<sub>2</sub></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a<sub>1</sub>'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a<sub>2</sub>'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#AMinus"><span class="id" title="constructor">AMinus</span></a> <span class="id" title="var">a<sub>1</sub>'</span> <span class="id" title="var">a<sub>2</sub>'</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
<br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#AMult"><span class="id" title="constructor">AMult</span></a> <span class="id" title="var">a<sub>1</sub></span> <span class="id" title="var">a<sub>2</sub></span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ImpEquiv.html#fold_constants_aexp:218"><span class="id" title="definition">fold_constants_aexp</span></a> <span class="id" title="var">a<sub>1</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ImpEquiv.html#fold_constants_aexp:218"><span class="id" title="definition">fold_constants_aexp</span></a> <span class="id" title="var">a<sub>2</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#ANum"><span class="id" title="constructor">ANum</span></a> <span class="id" title="var">n<sub>1</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Imp.html#ANum"><span class="id" title="constructor">ANum</span></a> <span class="id" title="var">n<sub>2</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="Imp.html#ANum"><span class="id" title="constructor">ANum</span></a> (<a class="idref" href="ImpDenotation.html#aop_sem"><span class="id" title="definition">aop_sem</span></a> <a class="idref" href="ImpDenotation.html#op_mult"><span class="id" title="constructor">op_mult</span></a> <span class="id" title="var">n<sub>1</sub></span> <span class="id" title="var">n<sub>2</sub></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a<sub>1</sub>'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a<sub>2</sub>'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#AMult"><span class="id" title="constructor">AMult</span></a> <span class="id" title="var">a<sub>1</sub>'</span> <span class="id" title="var">a<sub>2</sub>'</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
</div>

<div class="doc">
And its proof of correctness 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="fold_constants_aexp_sound" class="idref" href="#fold_constants_aexp_sound"><span class="id" title="lemma">fold_constants_aexp_sound</span></a> <a id="a:220" class="idref" href="#a:220"><span class="id" title="binder">a</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="ImpEquiv.html#fold_constants_aexp"><span class="id" title="definition">fold_constants_aexp</span></a> <a class="idref" href="ImpEquiv.html#a:220"><span class="id" title="variable">a</span></a> <a class="idref" href="ImpEquiv.html#d7106b2ece10b3a82ce9d40f49cb50d<sub>8</sub>"><span class="id" title="notation">≈ₐ</span></a> <a class="idref" href="ImpEquiv.html#a:220"><span class="id" title="variable">a</span></a>.<br/>
<div class="togglescript" id="proofcontrol16" onclick="toggleDisplay('proof16');toggleDisplay('proofcontrol16')"><span class="show"></span></div>
<div class="proofscript" id="proof16" onclick="toggleDisplay('proof16');toggleDisplay('proofcontrol16')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHa1</span>, &lt;- <span class="id" title="var">IHa2</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ImpEquiv.html#fold_constants_aexp"><span class="id" title="definition">fold_constants_aexp</span></a> <span class="id" title="var">a<sub>1</sub></span>).<br/>
&nbsp;&nbsp;2,3,4,5: <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHa1</span>, <span class="id" title="var">IHa2</span>. <span class="comment">(*&nbsp;These&nbsp;rewrites&nbsp;rely&nbsp;on&nbsp;≈ₐ&nbsp;being&nbsp;a&nbsp;congruence&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ImpEquiv.html#fold_constants_aexp"><span class="id" title="definition">fold_constants_aexp</span></a> <span class="id" title="var">a<sub>2</sub></span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHa1</span>, &lt;- <span class="id" title="var">IHa2</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ImpEquiv.html#rplus"><span class="id" title="constructor">rplus</span></a>. <span class="comment">(*&nbsp;The&nbsp;optimization&nbsp;in&nbsp;this&nbsp;case&nbsp;corresponds&nbsp;exactly&nbsp;to&nbsp;<span class="inlinecode"><span class="id" title="var">raop</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/><hr class='doublespaceincode'/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ImpEquiv.html#fold_constants_aexp"><span class="id" title="definition">fold_constants_aexp</span></a> <span class="id" title="var">a<sub>1</sub></span>).<br/>
&nbsp;&nbsp;2,3,4,5: <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHa1</span>, <span class="id" title="var">IHa2</span>. <span class="comment">(*&nbsp;These&nbsp;rewrites&nbsp;rely&nbsp;on&nbsp;≈ₐ&nbsp;being&nbsp;a&nbsp;congruence&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ImpEquiv.html#fold_constants_aexp"><span class="id" title="definition">fold_constants_aexp</span></a> <span class="id" title="var">a<sub>2</sub></span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHa1</span>, &lt;- <span class="id" title="var">IHa2</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ImpEquiv.html#rminus"><span class="id" title="constructor">rminus</span></a>. <span class="comment">(*&nbsp;The&nbsp;optimization&nbsp;in&nbsp;this&nbsp;case&nbsp;corresponds&nbsp;exactly&nbsp;to&nbsp;<span class="inlinecode"><span class="id" title="var">raop</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/><hr class='doublespaceincode'/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ImpEquiv.html#fold_constants_aexp"><span class="id" title="definition">fold_constants_aexp</span></a> <span class="id" title="var">a<sub>1</sub></span>).<br/>
&nbsp;&nbsp;2,3,4,5: <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHa1</span>, <span class="id" title="var">IHa2</span>. <span class="comment">(*&nbsp;These&nbsp;rewrites&nbsp;rely&nbsp;on&nbsp;≈ₐ&nbsp;being&nbsp;a&nbsp;congruence&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ImpEquiv.html#fold_constants_aexp"><span class="id" title="definition">fold_constants_aexp</span></a> <span class="id" title="var">a<sub>2</sub></span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHa1</span>, &lt;- <span class="id" title="var">IHa2</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ImpEquiv.html#rmult"><span class="id" title="constructor">rmult</span></a>. <span class="comment">(*&nbsp;The&nbsp;optimization&nbsp;in&nbsp;this&nbsp;case&nbsp;corresponds&nbsp;exactly&nbsp;to&nbsp;<span class="inlinecode"><span class="id" title="var">raop</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="fold_constants_bexp" class="idref" href="#fold_constants_bexp"><span class="id" title="definition">fold_constants_bexp</span></a> (<a id="b:221" class="idref" href="#b:221"><span class="id" title="binder">b</span></a> : <a class="idref" href="Imp.html#bexp"><span class="id" title="inductive">bexp</span></a>) : <a class="idref" href="Imp.html#bexp"><span class="id" title="inductive">bexp</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ImpEquiv.html#b:221"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒ <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒ <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">a<sub>1</sub></span> <a class="idref" href="Imp.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a<sub>2</sub></span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ImpEquiv.html#fold_constants_aexp"><span class="id" title="definition">fold_constants_aexp</span></a> <span class="id" title="var">a<sub>1</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpEquiv.html#fold_constants_aexp"><span class="id" title="definition">fold_constants_aexp</span></a> <span class="id" title="var">a<sub>2</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#ANum"><span class="id" title="constructor">ANum</span></a> <span class="id" title="var">n<sub>1</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Imp.html#ANum"><span class="id" title="constructor">ANum</span></a> <span class="id" title="var">n<sub>2</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="var">n<sub>1</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#ad2ec4e405f68c46c0a176e3e94ae2e<sub>3</sub>"><span class="id" title="notation">=?</span></a> <span class="id" title="var">n<sub>2</sub></span> <span class="id" title="keyword">then</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a<sub>1</sub>'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a<sub>2</sub>'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">a<sub>1</sub>'</span> <a class="idref" href="Imp.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a<sub>2</sub>'</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">a<sub>1</sub></span> <a class="idref" href="Imp.html#:com::x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <span class="id" title="var">a<sub>2</sub></span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ImpEquiv.html#fold_constants_aexp"><span class="id" title="definition">fold_constants_aexp</span></a> <span class="id" title="var">a<sub>1</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpEquiv.html#fold_constants_aexp"><span class="id" title="definition">fold_constants_aexp</span></a> <span class="id" title="var">a<sub>2</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#ANum"><span class="id" title="constructor">ANum</span></a> <span class="id" title="var">n<sub>1</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Imp.html#ANum"><span class="id" title="constructor">ANum</span></a> <span class="id" title="var">n<sub>2</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="var">n<sub>1</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#ad2ec4e405f68c46c0a176e3e94ae2e<sub>3</sub>"><span class="id" title="notation">=?</span></a> <span class="id" title="var">n<sub>2</sub></span> <span class="id" title="keyword">then</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a<sub>1</sub>'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a<sub>2</sub>'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">a<sub>1</sub>'</span> <a class="idref" href="Imp.html#:com::x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <span class="id" title="var">a<sub>2</sub>'</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
<br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">a<sub>1</sub></span> <a class="idref" href="Imp.html#d43f15edd52d29ae8e0f90730a25ed5c"><span class="id" title="notation">≤</span></a> <span class="id" title="var">a<sub>2</sub></span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ImpEquiv.html#fold_constants_aexp"><span class="id" title="definition">fold_constants_aexp</span></a> <span class="id" title="var">a<sub>1</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpEquiv.html#fold_constants_aexp"><span class="id" title="definition">fold_constants_aexp</span></a> <span class="id" title="var">a<sub>2</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#ANum"><span class="id" title="constructor">ANum</span></a> <span class="id" title="var">n<sub>1</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Imp.html#ANum"><span class="id" title="constructor">ANum</span></a> <span class="id" title="var">n<sub>2</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="var">n<sub>1</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#0f31f5c1c6b6a21a3a187247222bc9e<sub>4</sub>"><span class="id" title="notation">&lt;=?</span></a> <span class="id" title="var">n<sub>2</sub></span> <span class="id" title="keyword">then</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a<sub>1</sub>'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a<sub>2</sub>'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">a<sub>1</sub>'</span> <a class="idref" href="Imp.html#d43f15edd52d29ae8e0f90730a25ed5c"><span class="id" title="notation">≤</span></a> <span class="id" title="var">a<sub>2</sub>'</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
<br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">a<sub>1</sub></span> <a class="idref" href="Imp.html#:com::x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> <span class="id" title="var">a<sub>2</sub></span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ImpEquiv.html#fold_constants_aexp"><span class="id" title="definition">fold_constants_aexp</span></a> <span class="id" title="var">a<sub>1</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpEquiv.html#fold_constants_aexp"><span class="id" title="definition">fold_constants_aexp</span></a> <span class="id" title="var">a<sub>2</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#ANum"><span class="id" title="constructor">ANum</span></a> <span class="id" title="var">n<sub>1</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Imp.html#ANum"><span class="id" title="constructor">ANum</span></a> <span class="id" title="var">n<sub>2</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="var">n<sub>1</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#0f31f5c1c6b6a21a3a187247222bc9e<sub>4</sub>"><span class="id" title="notation">&lt;=?</span></a> <span class="id" title="var">n<sub>2</sub></span> <span class="id" title="keyword">then</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a<sub>1</sub>'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a<sub>2</sub>'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">a<sub>1</sub>'</span> <a class="idref" href="Imp.html#:com::x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> <span class="id" title="var">a<sub>2</sub>'</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
<br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#dfe50505b2b595242030c436d0d7d15f"><span class="id" title="notation">¬</span></a> <span class="id" title="var">b<sub>1</sub></span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="ImpEquiv.html#fold_constants_bexp:222"><span class="id" title="definition">fold_constants_bexp</span></a> <span class="id" title="var">b<sub>1</sub></span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒ <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒ <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">b<sub>1</sub>'</span> ⇒ <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#dfe50505b2b595242030c436d0d7d15f"><span class="id" title="notation">¬</span></a> <span class="id" title="var">b<sub>1</sub>'</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">b<sub>1</sub></span> <a class="idref" href="Imp.html#:com::x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <span class="id" title="var">b<sub>2</sub></span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ImpEquiv.html#fold_constants_bexp:222"><span class="id" title="definition">fold_constants_bexp</span></a> <span class="id" title="var">b<sub>1</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpEquiv.html#fold_constants_bexp:222"><span class="id" title="definition">fold_constants_bexp</span></a> <span class="id" title="var">b<sub>2</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">b<sub>1</sub>'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b<sub>2</sub>'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">b<sub>1</sub>'</span> <a class="idref" href="Imp.html#:com::x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <span class="id" title="var">b<sub>2</sub>'</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="fold_constants_bexp_sound" class="idref" href="#fold_constants_bexp_sound"><span class="id" title="lemma">fold_constants_bexp_sound</span></a> <a id="b:224" class="idref" href="#b:224"><span class="id" title="binder">b</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="ImpEquiv.html#fold_constants_bexp"><span class="id" title="definition">fold_constants_bexp</span></a> <a class="idref" href="ImpEquiv.html#b:224"><span class="id" title="variable">b</span></a> <a class="idref" href="ImpEquiv.html#7190514c39b66a8ebe5baf5b4d4a5b<sub>49</sub>"><span class="id" title="notation">≈ᵦ</span></a> <a class="idref" href="ImpEquiv.html#b:224"><span class="id" title="variable">b</span></a>.<br/>
<div class="togglescript" id="proofcontrol17" onclick="toggleDisplay('proof17');toggleDisplay('proofcontrol17')"><span class="show"></span></div>
<div class="proofscript" id="proof17" onclick="toggleDisplay('proof17');toggleDisplay('proofcontrol17')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="ImpEquiv.html#fold_constants_aexp"><span class="id" title="definition">fold_constants_aexp</span></a> <span class="id" title="var">a<sub>1</sub></span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">EQ<sub>1</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2,3,4,5: <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EQ<sub>1</sub></span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> ? <a class="idref" href="ImpEquiv.html#fold_constants_aexp_sound"><span class="id" title="lemma">fold_constants_aexp_sound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ImpEquiv.html#fold_constants_aexp"><span class="id" title="definition">fold_constants_aexp</span></a> <span class="id" title="var">a<sub>2</sub></span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">EQ<sub>2</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EQ<sub>2</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2,3,4,5: <span class="id" title="tactic">rewrite</span> &lt;- ?<span class="id" title="var">EQ<sub>1</sub></span>, &lt;- ?<span class="id" title="var">EQ<sub>2</sub></span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> ? <a class="idref" href="ImpEquiv.html#fold_constants_aexp_sound"><span class="id" title="lemma">fold_constants_aexp_sound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ImpEquiv.html#req"><span class="id" title="constructor">req</span></a>. <span class="comment">(*&nbsp;The&nbsp;optimization&nbsp;in&nbsp;this&nbsp;case&nbsp;corresponds&nbsp;exactly&nbsp;to&nbsp;<span class="inlinecode"><span class="id" title="var">req</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EQ<sub>1</sub></span>, <a class="idref" href="ImpEquiv.html#fold_constants_aexp_sound"><span class="id" title="lemma">fold_constants_aexp_sound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EQ<sub>2</sub></span>, <a class="idref" href="ImpEquiv.html#fold_constants_aexp_sound"><span class="id" title="lemma">fold_constants_aexp_sound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/><hr class='doublespaceincode'/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="ImpEquiv.html#fold_constants_aexp"><span class="id" title="definition">fold_constants_aexp</span></a> <span class="id" title="var">a<sub>1</sub></span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">EQ<sub>1</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2,3,4,5: <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EQ<sub>1</sub></span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> ? <a class="idref" href="ImpEquiv.html#fold_constants_aexp_sound"><span class="id" title="lemma">fold_constants_aexp_sound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ImpEquiv.html#fold_constants_aexp"><span class="id" title="definition">fold_constants_aexp</span></a> <span class="id" title="var">a<sub>2</sub></span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">EQ<sub>2</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EQ<sub>2</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2,3,4,5: <span class="id" title="tactic">rewrite</span> &lt;- ?<span class="id" title="var">EQ<sub>1</sub></span>, &lt;- ?<span class="id" title="var">EQ<sub>2</sub></span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> ? <a class="idref" href="ImpEquiv.html#fold_constants_aexp_sound"><span class="id" title="lemma">fold_constants_aexp_sound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ImpEquiv.html#rneq"><span class="id" title="constructor">rneq</span></a>. <span class="comment">(*&nbsp;The&nbsp;optimization&nbsp;in&nbsp;this&nbsp;case&nbsp;corresponds&nbsp;exactly&nbsp;to&nbsp;<span class="inlinecode"><span class="id" title="var">req</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EQ<sub>1</sub></span>, <a class="idref" href="ImpEquiv.html#fold_constants_aexp_sound"><span class="id" title="lemma">fold_constants_aexp_sound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EQ<sub>2</sub></span>, <a class="idref" href="ImpEquiv.html#fold_constants_aexp_sound"><span class="id" title="lemma">fold_constants_aexp_sound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/><hr class='doublespaceincode'/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="ImpEquiv.html#fold_constants_aexp"><span class="id" title="definition">fold_constants_aexp</span></a> <span class="id" title="var">a<sub>1</sub></span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">EQ<sub>1</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2,3,4,5: <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EQ<sub>1</sub></span>, ? <a class="idref" href="ImpEquiv.html#fold_constants_aexp_sound"><span class="id" title="lemma">fold_constants_aexp_sound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ImpEquiv.html#fold_constants_aexp"><span class="id" title="definition">fold_constants_aexp</span></a> <span class="id" title="var">a<sub>2</sub></span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">EQ<sub>2</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EQ<sub>2</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2,3,4,5: <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EQ<sub>1</sub></span>, ? <a class="idref" href="ImpEquiv.html#fold_constants_aexp_sound"><span class="id" title="lemma">fold_constants_aexp_sound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ImpEquiv.html#rle"><span class="id" title="constructor">rle</span></a>. <span class="comment">(*&nbsp;The&nbsp;optimization&nbsp;in&nbsp;this&nbsp;case&nbsp;corresponds&nbsp;exactly&nbsp;to&nbsp;<span class="inlinecode"><span class="id" title="var">rle</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EQ<sub>1</sub></span>, <a class="idref" href="ImpEquiv.html#fold_constants_aexp_sound"><span class="id" title="lemma">fold_constants_aexp_sound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EQ<sub>2</sub></span>, <a class="idref" href="ImpEquiv.html#fold_constants_aexp_sound"><span class="id" title="lemma">fold_constants_aexp_sound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/><hr class='doublespaceincode'/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="ImpEquiv.html#fold_constants_aexp"><span class="id" title="definition">fold_constants_aexp</span></a> <span class="id" title="var">a<sub>1</sub></span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">EQ<sub>1</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2,3,4,5: <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EQ<sub>1</sub></span>, ? <a class="idref" href="ImpEquiv.html#fold_constants_aexp_sound"><span class="id" title="lemma">fold_constants_aexp_sound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ImpEquiv.html#fold_constants_aexp"><span class="id" title="definition">fold_constants_aexp</span></a> <span class="id" title="var">a<sub>2</sub></span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">EQ<sub>2</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EQ<sub>2</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2,3,4,5: <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EQ<sub>1</sub></span>, ? <a class="idref" href="ImpEquiv.html#fold_constants_aexp_sound"><span class="id" title="lemma">fold_constants_aexp_sound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ImpEquiv.html#rgt"><span class="id" title="constructor">rgt</span></a>. <span class="comment">(*&nbsp;The&nbsp;optimization&nbsp;in&nbsp;this&nbsp;case&nbsp;corresponds&nbsp;exactly&nbsp;to&nbsp;<span class="inlinecode"><span class="id" title="var">rle</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EQ<sub>1</sub></span>, <a class="idref" href="ImpEquiv.html#fold_constants_aexp_sound"><span class="id" title="lemma">fold_constants_aexp_sound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EQ<sub>2</sub></span>, <a class="idref" href="ImpEquiv.html#fold_constants_aexp_sound"><span class="id" title="lemma">fold_constants_aexp_sound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/><hr class='doublespaceincode'/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="ImpEquiv.html#fold_constants_bexp"><span class="id" title="definition">fold_constants_bexp</span></a> <span class="id" title="var">b</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHb</span>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ImpEquiv.html#rnegt"><span class="id" title="constructor">rnegt</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ImpEquiv.html#rnegf"><span class="id" title="constructor">rnegf</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/><hr class='doublespaceincode'/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="ImpEquiv.html#fold_constants_bexp"><span class="id" title="definition">fold_constants_bexp</span></a> <span class="id" title="var">b<sub>1</sub></span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">EQ<sub>1</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHb1</span>, <span class="id" title="var">IHb2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">destruct</span> (<a class="idref" href="ImpEquiv.html#fold_constants_bexp"><span class="id" title="definition">fold_constants_bexp</span></a> <span class="id" title="var">b<sub>2</sub></span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">EQ<sub>2</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHb1</span>, <span class="id" title="var">IHb2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>:<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHb1</span>, &lt;- <span class="id" title="var">IHb2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="ImpEquiv.html#randtt"><span class="id" title="constructor">randtt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ImpEquiv.html#and_comm"><span class="id" title="constructor">and_comm</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="ImpEquiv.html#randft"><span class="id" title="constructor">randft</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="ImpEquiv.html#randft"><span class="id" title="constructor">randft</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="ImpEquiv.html#randff"><span class="id" title="constructor">randff</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div class="doc">
<a id="lab236"></a><h3 class="section">Constant folding over commands</h3>

</div>
<div class="code">

<span class="id" title="keyword">Fixpoint</span> <a id="fold_constants_com" class="idref" href="#fold_constants_com"><span class="id" title="definition">fold_constants_com</span></a> (<a id="c:225" class="idref" href="#c:225"><span class="id" title="binder">c</span></a> : <a class="idref" href="Imp.html#com"><span class="id" title="inductive">com</span></a>) : <a class="idref" href="Imp.html#com"><span class="id" title="inductive">com</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ImpEquiv.html#c:225"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">x</span> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">a</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">x</span> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="ImpEquiv.html#fold_constants_aexp"><span class="id" title="definition">fold_constants_aexp</span></a> <span class="id" title="var">a</span><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">c<sub>1</sub></span> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <span class="id" title="var">c<sub>2</sub></span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpEquiv.html#fold_constants_com:226"><span class="id" title="definition">fold_constants_com</span></a> <span class="id" title="var">c<sub>1</sub></span> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="ImpEquiv.html#fold_constants_com:226"><span class="id" title="definition">fold_constants_com</span></a> <span class="id" title="var">c<sub>2</sub></span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <span class="id" title="var">b</span> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <span class="id" title="var">c<sub>1</sub></span> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <span class="id" title="var">c<sub>2</sub></span> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ImpEquiv.html#fold_constants_bexp"><span class="id" title="definition">fold_constants_bexp</span></a> <span class="id" title="var">b</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒ <a class="idref" href="ImpEquiv.html#fold_constants_com:226"><span class="id" title="definition">fold_constants_com</span></a> <span class="id" title="var">c<sub>1</sub></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒ <a class="idref" href="ImpEquiv.html#fold_constants_com:226"><span class="id" title="definition">fold_constants_com</span></a> <span class="id" title="var">c<sub>2</sub></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">b'</span> ⇒ <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <span class="id" title="var">b'</span> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="ImpEquiv.html#fold_constants_com:226"><span class="id" title="definition">fold_constants_com</span></a> <span class="id" title="var">c<sub>1</sub></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="ImpEquiv.html#fold_constants_com:226"><span class="id" title="definition">fold_constants_com</span></a> <span class="id" title="var">c<sub>2</sub></span> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <span class="id" title="var">b</span> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <span class="id" title="var">c<sub>1</sub></span> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ImpEquiv.html#fold_constants_bexp"><span class="id" title="definition">fold_constants_bexp</span></a> <span class="id" title="var">b</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒ <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒ <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">b'</span> ⇒ <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <span class="id" title="var">b'</span> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="ImpEquiv.html#fold_constants_com:226"><span class="id" title="definition">fold_constants_com</span></a> <span class="id" title="var">c<sub>1</sub></span><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="fold_constants_com_sound" class="idref" href="#fold_constants_com_sound"><span class="id" title="lemma">fold_constants_com_sound</span></a> <a id="c:228" class="idref" href="#c:228"><span class="id" title="binder">c</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="ImpEquiv.html#fold_constants_com"><span class="id" title="definition">fold_constants_com</span></a> <a class="idref" href="ImpEquiv.html#c:228"><span class="id" title="variable">c</span></a> <a class="idref" href="ImpEquiv.html#07441a5b1aff2e95834856beb1cf4a<sub>14</sub>"><span class="id" title="notation">≊</span></a> <a class="idref" href="ImpEquiv.html#c:228"><span class="id" title="variable">c</span></a>.<br/>
<div class="togglescript" id="proofcontrol18" onclick="toggleDisplay('proof18');toggleDisplay('proofcontrol18')"><span class="show"></span></div>
<div class="proofscript" id="proof18" onclick="toggleDisplay('proof18');toggleDisplay('proofcontrol18')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="ImpEquiv.html#fold_constants_aexp_sound"><span class="id" title="lemma">fold_constants_aexp_sound</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc1</span>,<span class="id" title="var">IHc2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">break_match</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">rewrite</span> ?<span class="id" title="var">IHc1</span>, ?<span class="id" title="var">IHc2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="ImpEquiv.html#fold_constants_bexp_sound"><span class="id" title="lemma">fold_constants_bexp_sound</span></a> <span class="id" title="var">b</span>), <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="ImpEquiv.html#iftrue"><span class="id" title="constructor">iftrue</span></a>. <span class="comment">(*&nbsp;The&nbsp;optimization&nbsp;in&nbsp;this&nbsp;case&nbsp;corresponds&nbsp;exactly&nbsp;to&nbsp;<span class="inlinecode"><span class="id" title="var">iftrue</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="ImpEquiv.html#iffalse"><span class="id" title="constructor">iffalse</span></a>. <span class="comment">(*&nbsp;The&nbsp;optimization&nbsp;in&nbsp;this&nbsp;case&nbsp;corresponds&nbsp;exactly&nbsp;to&nbsp;<span class="inlinecode"><span class="id" title="var">iffalse</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">break_match</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="ImpEquiv.html#fold_constants_bexp_sound"><span class="id" title="lemma">fold_constants_bexp_sound</span></a> <span class="id" title="var">b</span>), <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ImpEquiv.html#whiletrue"><span class="id" title="constructor">whiletrue</span></a>. <span class="comment">(*&nbsp;The&nbsp;optimization&nbsp;in&nbsp;this&nbsp;case&nbsp;corresponds&nbsp;exactly&nbsp;to&nbsp;<span class="inlinecode"><span class="id" title="var">whiletrue</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ImpEquiv.html#whilefalse"><span class="id" title="constructor">whilefalse</span></a>. <span class="comment">(*&nbsp;The&nbsp;optimization&nbsp;in&nbsp;this&nbsp;case&nbsp;corresponds&nbsp;exactly&nbsp;to&nbsp;<span class="inlinecode"><span class="id" title="var">whilefalse</span></span>&nbsp;*)</span><br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div class="doc">
<a id="lab237"></a><h3 class="section">Example of optimizing Commands</h3>
 Of course now that we have a sound syntactic level transformation,
    we can use this instead of our tactic for better efficiency.

</div>
<div class="code">
<span class="id" title="keyword">Example</span> <a id="fold_com_ex1_revisited" class="idref" href="#fold_com_ex1_revisited"><span class="id" title="definition">fold_com_ex1_revisited</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Original&nbsp;program:&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 4 <a class="idref" href="Imp.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> 5<a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#:com::x_'-'_x"><span class="id" title="notation">-</span></a> 3<a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">((</span></a><a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#:com::x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a>2 <a class="idref" href="Imp.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> 4<a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">))</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 0 <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a>0 <a class="idref" href="Imp.html#d43f15edd52d29ae8e0f90730a25ed5c"><span class="id" title="notation">≤</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a>4 <a class="idref" href="Imp.html#:com::x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a>2 <a class="idref" href="Imp.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> 1<a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)))</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> 0<a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ImpEquiv.html#07441a5b1aff2e95834856beb1cf4a<sub>14</sub>"><span class="id" title="notation">≊</span></a> <span class="comment">(*&nbsp;After&nbsp;constant&nbsp;folding:&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 9<a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#:com::x_'-'_x"><span class="id" title="notation">-</span></a> 3<a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">((</span></a><a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#:com::x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> 6<a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 0 <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 0<a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> 0<a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ImpEquiv.html#fold_constants_com_sound"><span class="id" title="lemma">fold_constants_com_sound</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>

<br/>
<span class="comment">(*&nbsp;2024-06-10&nbsp;14:53&nbsp;*)</span><br/>
</div>
</div>

<div id="footer">
<hr/><a href="coqindex.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>