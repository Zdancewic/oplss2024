<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="common/css/sf.css" rel="stylesheet" type="text/css" />
<title>Hoare3</title>
<link href="common/jquery-ui/jquery-ui.css" rel="stylesheet">
<script src="common/jquery-ui/external/jquery/jquery.js"></script>
<script src="common/jquery-ui/jquery-ui.js"></script>
<script src="common/toggleproofs.js"></script>
<link href="common/css/rip.css" rel="stylesheet" type="text/css"/>
</head>

<body>

<div id="page">

<div id="header">
<div id='logoinheader'><a href='https://softwarefoundations.cis.upenn.edu'>
<img src='common/media/image/sf_logo_sm.png' alt='Software Foundations Logo'></a></div>
<div class='booktitleinheader'><a href='index.html'>Volume 7: Reasoning about Interactive Programs</a></div>
<ul id='menu'>
   <li class='section_name'><a href='toc.html'>Table of Contents</a></li>
   <li class='section_name'><a href='coqindex.html'>Index</a></li>
</ul>
</div>

<div id="main">

<h1 class="libtitle">Hoare3</h1>


<div class="doc">
<a id="lab241"></a><h3 class="section">Reasoning About Imp programs</h3>

<div class="paragraph"> </div>

 We saw that we can use the equational theory of the monad laws, along with
  some monad-specific properties to prove program transformations.

<div class="paragraph"> </div>

  What if we want to prove other things about our programs?

</div>

<div class="doc">
<a id="lab242"></a><h3 class="section">Generalizing <span class="inlinecode"><span class="id" title="var">EqM</span></span></h3>

<div class="paragraph"> </div>

 Recall  <span class="inlinecode"><span class="id" title="var">eqM</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="keyword">∀</span></span> <span class="inlinecode"><span class="id" title="var">A</span>,</span> <span class="inlinecode"><span class="id" title="var">M</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="var">M</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="keyword">Prop</span></span> , in particular our insistance
   that bind be <span class="inlinecode"><span class="id" title="var">Proper</span></span>.
  
<div class="paragraph"> </div>

 Idea: generalize to a binary, heterogeneous relation:
      <span class="inlinecode"><span class="id" title="var">eqMR</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="keyword">∀</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode"><span class="id" title="var">B</span>,</span> <span class="inlinecode"><span class="id" title="var">M</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="var">M</span></span> <span class="inlinecode"><span class="id" title="var">B</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="keyword">Prop</span></span>
  
<div class="paragraph"> </div>

<a id="lab243"></a><h3 class="section">More General Typeclass</h3>

<div class="paragraph"> </div>

<br/>
<span class="inlinecode"><span class="id" title="keyword">Definition</span> <span class="id" title="var">relationH</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> := <span class="id" title="var">A</span> → <span class="id" title="var">B</span> → <span class="id" title="keyword">Prop</span>
</span>
</div>
<div class="code">

&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="EqMR" class="idref" href="#EqMR"><span class="id" title="record">EqMR</span></a> (<a id="M:1" class="idref" href="#M:1"><span class="id" title="binder">M</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) : <span class="id" title="keyword">Type</span> :=  {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqMR" class="idref" href="#eqMR"><span class="id" title="projection">eqMR</span></a> : <span class="id" title="keyword">∀</span> {<a id="A:3" class="idref" href="#A:3"><span class="id" title="binder">A</span></a> <a id="B:4" class="idref" href="#B:4"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>} (<a id="R:5" class="idref" href="#R:5"><span class="id" title="binder">R</span></a> : <span class="id" title="definition">relationH</span> <a class="idref" href="Hoare3.html#A:3"><span class="id" title="variable">A</span></a> <a class="idref" href="Hoare3.html#B:4"><span class="id" title="variable">B</span></a>), <span class="id" title="definition">relationH</span> (<a class="idref" href="Hoare3.html#M:1"><span class="id" title="variable">M</span></a> <a class="idref" href="Hoare3.html#A:3"><span class="id" title="variable">A</span></a>) (<a class="idref" href="Hoare3.html#M:1"><span class="id" title="variable">M</span></a> <a class="idref" href="Hoare3.html#B:4"><span class="id" title="variable">B</span></a>)<br/>
&nbsp;&nbsp;}.<br/><hr class='doublespaceincode'/>
</div>

<div class="doc">
Assuming <span class="inlinecode"><span class="id" title="var">R</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">relationH</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode"><span class="id" title="var">B</span></span> 
</div>
<div class="code">

<span class="id" title="keyword">Notation</span> <a id="3f0c94acfe04426056fe6b3701f613a<sub>2</sub>" class="idref" href="#3f0c94acfe04426056fe6b3701f613a<sub>2</sub>"><span class="id" title="notation">&quot;</span></a>t<sub>1</sub> ≈[ R ] t<sub>2</sub>" := (<span class="id" title="definition">eutt</span> <span class="id" title="var">R</span> <span class="id" title="var">t<sub>1</sub></span> <span class="id" title="var">t<sub>2</sub></span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20).<br/>
</div>

<div class="doc">
Note: we can <i>recover</i> the ordinary <span class="inlinecode"><span class="id" title="var">eqM</span></span> by instantiating <span class="inlinecode"><span class="id" title="var">R</span></span> with <span class="inlinecode">=</span> :
<br/>
<span class="inlinecode"><span class="id" title="var">eqM</span> := <span class="id" title="var">eqMR</span> <span class="id" title="var">eq</span>
</span>
<div class="paragraph"> </div>

<a id="lab244"></a><h3 class="section">Logical relation for (itree) <span class="inlinecode"><span class="id" title="var">ret</span></span></h3>

</div>

<div class="doc">
For <span class="inlinecode"><span class="id" title="var">eqM</span></span>, we didn't have to justify that <span class="inlinecode"><span class="id" title="var">ret</span></span> was <span class="inlinecode"><span class="id" title="var">Proper</span></span>. But
for this version, we have to show that it is.
<br/>
<span class="inlinecode">&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eqMR_Ret</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">∀</span> (<span class="id" title="var">E</span> : <span class="id" title="keyword">Type</span> → <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R<sub>1</sub></span> <span class="id" title="var">R<sub>2</sub></span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">RR</span> : <span class="id" title="var">relH</span> <span class="id" title="var">R<sub>1</sub></span> <span class="id" title="var">R<sub>2</sub></span>) (<span class="id" title="var">r<sub>1</sub></span> : <span class="id" title="var">R<sub>1</sub></span>) (<span class="id" title="var">r<sub>2</sub></span> : <span class="id" title="var">R<sub>2</sub></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">RR</span> <span class="id" title="var">r<sub>1</sub></span> <span class="id" title="var">r<sub>2</sub></span> ↔ <span class="id" title="var">Ret</span> <span class="id" title="var">r<sub>1</sub></span> ≈[ <span class="id" title="var">RR</span>] <span class="id" title="var">Ret</span> <span class="id" title="var">r<sub>2</sub></span>
</span>
<div class="paragraph"> </div>

<a id="lab245"></a><h3 class="section">Logical relation for <span class="inlinecode"><span class="id" title="var">bind</span></span></h3>

</div>

<div class="doc">
The generalization of <span class="inlinecode"><span class="id" title="var">Proper</span></span> for <span class="inlinecode"><span class="id" title="var">bind</span></span> looks like this:
<br/>
<span class="inlinecode"><span class="id" title="var">eqMR_bind</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="keyword">∀</span> (<span class="id" title="var">E</span> : <span class="id" title="keyword">Type</span> → <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R<sub>1</sub></span> <span class="id" title="var">R<sub>2</sub></span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">RR</span> : <span class="id" title="var">relH</span> <span class="id" title="var">R<sub>1</sub></span> <span class="id" title="var">R<sub>2</sub></span>) (<span class="id" title="var">U<sub>1</sub></span> <span class="id" title="var">U<sub>2</sub></span> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">UU</span> : <span class="id" title="var">relH</span> <span class="id" title="var">U<sub>1</sub></span> <span class="id" title="var">U<sub>2</sub></span>) (<span class="id" title="var">t<sub>1</sub></span> : <span class="id" title="var">itree</span> <span class="id" title="var">E</span> <span class="id" title="var">U<sub>1</sub></span>) (<span class="id" title="var">t<sub>2</sub></span> : <span class="id" title="var">itree</span> <span class="id" title="var">E</span> <span class="id" title="var">U<sub>2</sub></span>) (<span class="id" title="var">k<sub>1</sub></span> : <span class="id" title="var">U<sub>1</sub></span> → <span class="id" title="var">itree</span> <span class="id" title="var">E</span> <span class="id" title="var">R<sub>1</sub></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">k<sub>2</sub></span> : <span class="id" title="var">U<sub>2</sub></span> → <span class="id" title="var">itree</span> <span class="id" title="var">E</span> <span class="id" title="var">R<sub>2</sub></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">t<sub>1</sub></span> ≈[ <span class="id" title="var">UU</span>] <span class="id" title="var">t<sub>2</sub></span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">∀</span> (<span class="id" title="var">u<sub>1</sub></span> : <span class="id" title="var">U<sub>1</sub></span>) (<span class="id" title="var">u<sub>2</sub></span> : <span class="id" title="var">U<sub>2</sub></span>), <span class="id" title="var">UU</span> <span class="id" title="var">u<sub>1</sub></span> <span class="id" title="var">u<sub>2</sub></span> → <span class="id" title="var">k<sub>1</sub></span> <span class="id" title="var">u<sub>1</sub></span> ≈[ <span class="id" title="var">RR</span>] <span class="id" title="var">k<sub>2</sub></span> <span class="id" title="var">u<sub>2</sub></span>) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">x</span> &lt;- <span class="id" title="var">t<sub>1</sub></span>;; <span class="id" title="var">k<sub>1</sub></span> <span class="id" title="var">x</span>) ≈[ <span class="id" title="var">RR</span>] (<span class="id" title="var">x</span> &lt;- <span class="id" title="var">t<sub>2</sub></span>;; <span class="id" title="var">k<sub>2</sub></span> <span class="id" title="var">x</span>)
</span>
<div class="paragraph"> </div>

<a id="lab246"></a><h3 class="section">Expected Properties Of <span class="inlinecode"><span class="id" title="var">EqMR</span></span></h3>

<div class="paragraph"> </div>

 <span class="inlinecode"><span class="id" title="var">EqMR</span></span>

<div class="paragraph"> </div>

<ul class="doclist">
<li> If <span class="inlinecode"><span class="id" title="var">R</span></span> is a an equivalence then so is <span class="inlinecode">≈[<span class="id" title="var">RR</span>]</span>

<div class="paragraph"> </div>


</li>
<li> Monotonicity: if <span class="inlinecode"><span class="id" title="var">R<sub>1</sub></span></span> <span class="inlinecode">⊆</span> <span class="inlinecode"><span class="id" title="var">R<sub>2</sub></span></span> then <span class="inlinecode">≈[<span class="id" title="var">R<sub>1</sub></span>]</span> <span class="inlinecode">⊆</span> <span class="inlinecode">≈[<span class="id" title="var">R<sub>2</sub></span>]</span>

<div class="paragraph"> </div>


</li>
<li> General notion of the "image" of a monadic computation (useful for inversion principles).

</li>
</ul>

<div class="paragraph"> </div>

<br/>
<span class="inlinecode"><span class="id" title="keyword">Definition</span> <span class="id" title="var">imageH</span> <span class="id" title="var">m</span> <span class="id" title="var">a<sub>1</sub></span> <span class="id" title="var">a<sub>2</sub></span> := <span class="id" title="keyword">∀</span> <span class="id" title="var">R</span>, <span class="id" title="var">PER</span> <span class="id" title="var">R</span> → <span class="id" title="var">m</span> ≈[<span class="id" title="var">R</span>] <span class="id" title="var">m</span> → <span class="id" title="var">R</span> <span class="id" title="var">a<sub>1</sub></span> <span class="id" title="var">a<sub>2</sub></span>.<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">image</span> <span class="id" title="var">m</span> <span class="id" title="var">a</span> := <span class="id" title="var">imageH</span> <span class="id" title="var">m</span> <span class="id" title="var">a</span> <span class="id" title="var">a</span>.<br/>
<span class="id" title="keyword">Notation</span> "a ∈ m" := (<span class="id" title="var">image</span> <span class="id" title="var">m</span> <span class="id" title="var">a</span>)
</span>
<div class="paragraph"> </div>

<a id="lab247"></a><h3 class="section">Semantic Definition of Hoare Triples</h3>

</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="hoare_itree_triple" class="idref" href="#hoare_itree_triple"><span class="id" title="definition">hoare_itree_triple</span></a> (<a id="P:7" class="idref" href="#P:7"><span class="id" title="binder">P</span></a>:<a class="idref" href="Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a>) (<a id="c:8" class="idref" href="#c:8"><span class="id" title="binder">c</span></a>:<a class="idref" href="Imp.html#com"><span class="id" title="inductive">com</span></a>) (<a id="Q:9" class="idref" href="#Q:9"><span class="id" title="binder">Q</span></a>:<a class="idref" href="Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="962aaeeff05b6bd0df6153509c8e8505" class="idref" href="#962aaeeff05b6bd0df6153509c8e8505"><span class="id" title="binder">σ</span></a>, <a class="idref" href="Hoare3.html#P:7"><span class="id" title="variable">P</span></a> <a class="idref" href="Hoare3.html#962aaeeff05b6bd0df6153509c8e8505"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="definition">eutt</span> (<span class="id" title="keyword">fun</span> '<a id="pat:12" class="idref" href="#pat:12"><span class="id" title="binder">(</span></a><a id="29034467562075a0bba50dd57cb27984" class="idref" href="#29034467562075a0bba50dd57cb27984"><span class="id" title="binder"><span id="pat:12" class="id">σ1</span></span></a><a id="pat:12" class="idref" href="#pat:12"><span class="id" title="binder">,</span></a><a id="pat:12" class="idref" href="#pat:12"><span class="id" title="binder">_</span></a><a id="pat:12" class="idref" href="#pat:12"><span class="id" title="binder">)</span></a> '<a id="pat:14" class="idref" href="#pat:14"><span class="id" title="binder">(</span></a><a id="c65a89aa865349df91b63136a77641d<sub>6</sub>" class="idref" href="#c65a89aa865349df91b63136a77641d<sub>6</sub>"><span class="id" title="binder"><span id="pat:14" class="id">σ2</span></span></a><a id="pat:14" class="idref" href="#pat:14"><span class="id" title="binder">,</span></a><a id="pat:14" class="idref" href="#pat:14"><span class="id" title="binder">_</span></a><a id="pat:14" class="idref" href="#pat:14"><span class="id" title="binder">)</span></a> ⇒ <a class="idref" href="Hoare3.html#29034467562075a0bba50dd57cb27984"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Hoare3.html#c65a89aa865349df91b63136a77641d<sub>6</sub>"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="Hoare3.html#Q:9"><span class="id" title="variable">Q</span></a> <a class="idref" href="Hoare3.html#29034467562075a0bba50dd57cb27984"><span class="id" title="variable">σ1</span></a>) (<a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">ℑ</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟦</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">c</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟧</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">σ</span></a>) (<a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">ℑ</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟦</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">c</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟧</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">σ</span></a>).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Notation</span> <a id="d14d6a94ef424fa020b7dfc61d76d9ee" class="idref" href="#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">&quot;</span></a>⦃ P ⦄  c  ⦃ Q ⦄" :=<br/>
&nbsp;&nbsp;(<a class="idref" href="Hoare3.html#hoare_itree_triple"><span class="id" title="definition">hoare_itree_triple</span></a> <span class="id" title="var">P</span> <span class="id" title="var">c</span> <span class="id" title="var">Q</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 90, <span class="id" title="var">c</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99)<br/>
&nbsp;&nbsp;: <span class="id" title="var">hoare_spec_scope</span>.<br/>
</div>

<div class="doc">
<a id="lab248"></a><h3 class="section">Proofs of Hoare Inference Rules</h3>

</div>
<div class="code">

<span class="id" title="keyword">Theorem</span> <a id="hoare_itree_skip" class="idref" href="#hoare_itree_skip"><span class="id" title="lemma">hoare_itree_skip</span></a> : <span class="id" title="keyword">∀</span> <a id="P:15" class="idref" href="#P:15"><span class="id" title="binder">P</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#P:15"><span class="id" title="variable">P</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#P:15"><span class="id" title="variable">P</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a>.<br/>
<div class="togglescript" id="proofcontrol1" onclick="toggleDisplay('proof1');toggleDisplay('proofcontrol1')"><span class="show"></span></div>
<div class="proofscript" id="proof1" onclick="toggleDisplay('proof1');toggleDisplay('proofcontrol1')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Hoare3.html#hoare_itree_triple"><span class="id" title="definition">hoare_itree_triple</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">interp_state_ret</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">eutt_Ret</span>. <span class="id" title="tactic">intuition</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="hoare_itree_seq" class="idref" href="#hoare_itree_seq"><span class="id" title="lemma">hoare_itree_seq</span></a> : <span class="id" title="keyword">∀</span> <a id="P:16" class="idref" href="#P:16"><span class="id" title="binder">P</span></a> <a id="Q:17" class="idref" href="#Q:17"><span class="id" title="binder">Q</span></a> <a id="R:18" class="idref" href="#R:18"><span class="id" title="binder">R</span></a> <a id="c<sub>1</sub>:19" class="idref" href="#c<sub>1</sub>:19"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:20" class="idref" href="#c<sub>2</sub>:20"><span class="id" title="binder">c<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#Q:17"><span class="id" title="variable">Q</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a> <a class="idref" href="Hoare3.html#c<sub>2</sub>:20"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#R:18"><span class="id" title="variable">R</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#P:16"><span class="id" title="variable">P</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a> <a class="idref" href="Hoare3.html#c<sub>1</sub>:19"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#Q:17"><span class="id" title="variable">Q</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#P:16"><span class="id" title="variable">P</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a> <a class="idref" href="Hoare3.html#c<sub>1</sub>:19"><span class="id" title="variable">c<sub>1</sub></span></a><a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Hoare3.html#c<sub>2</sub>:20"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#R:18"><span class="id" title="variable">R</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a>.<br/>
<div class="togglescript" id="proofcontrol2" onclick="toggleDisplay('proof2');toggleDisplay('proofcontrol2')"><span class="show"></span></div>
<div class="proofscript" id="proof2" onclick="toggleDisplay('proof2');toggleDisplay('proofcontrol2')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Hoare3.html#hoare_itree_triple"><span class="id" title="definition">hoare_itree_triple</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> <span class="id" title="var">R</span> <span class="id" title="var">c<sub>1</sub></span> <span class="id" title="var">c<sub>2</sub></span> <span class="id" title="var">H<sub>1</sub></span> <span class="id" title="var">H<sub>2</sub></span> <span class="id" title="var">st</span> <span class="id" title="var">PRE</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">eutt_clo_bind</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H<sub>2</sub></span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">u<sub>1</sub></span>, <span class="id" title="var">u<sub>2</sub></span>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">MEQ</span> <span class="id" title="var">QM</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="hoare_itree_asgn" class="idref" href="#hoare_itree_asgn"><span class="id" title="lemma">hoare_itree_asgn</span></a> : <span class="id" title="keyword">∀</span> <a id="Q:21" class="idref" href="#Q:21"><span class="id" title="binder">Q</span></a> <a id="X:22" class="idref" href="#X:22"><span class="id" title="binder">X</span></a> <a id="a:23" class="idref" href="#a:23"><span class="id" title="binder">a</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#Q:21"><span class="id" title="variable">Q</span></a> <a class="idref" href="Hoare.html#510fc37417e4aa55210e4cfe35fb96ae"><span class="id" title="notation">[</span></a><a class="idref" href="Hoare3.html#X:22"><span class="id" title="variable">X</span></a> <a class="idref" href="Hoare.html#510fc37417e4aa55210e4cfe35fb96ae"><span class="id" title="notation"><span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>&#x22A2;</span><span style='font-size:90%;'>&gt;</span></span></span></span></span></a> <a class="idref" href="Hoare3.html#a:23"><span class="id" title="variable">a</span></a><a class="idref" href="Hoare.html#510fc37417e4aa55210e4cfe35fb96ae"><span class="id" title="notation">]</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a> <a class="idref" href="Hoare3.html#X:22"><span class="id" title="variable">X</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="Hoare3.html#a:23"><span class="id" title="variable">a</span></a> <a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#Q:21"><span class="id" title="variable">Q</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a>.<br/>
<div class="togglescript" id="proofcontrol3" onclick="toggleDisplay('proof3');toggleDisplay('proofcontrol3')"><span class="show"></span></div>
<div class="proofscript" id="proof3" onclick="toggleDisplay('proof3');toggleDisplay('proofcontrol3')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Hoare3.html#hoare_itree_triple"><span class="id" title="definition">hoare_itree_triple</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Q</span> <span class="id" title="var">X</span> <span class="id" title="var">a</span> σ <span class="id" title="var">HQ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">norm</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">eutt_Ret</span>. <span class="id" title="tactic">intuition</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div class="doc">
An alternative formulation that works better for forward reasoning. 
</div>
<div class="code">

<span class="id" title="keyword">Theorem</span> <a id="hoare_itree_asgn'" class="idref" href="#hoare_itree_asgn'"><span class="id" title="lemma">hoare_itree_asgn'</span></a> : <span class="id" title="keyword">∀</span> <a id="P:24" class="idref" href="#P:24"><span class="id" title="binder">P</span></a> <a id="X:25" class="idref" href="#X:25"><span class="id" title="binder">X</span></a> <a id="a:26" class="idref" href="#a:26"><span class="id" title="binder">a</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#P:24"><span class="id" title="variable">P</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a> <a class="idref" href="Hoare3.html#X:25"><span class="id" title="variable">X</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="Hoare3.html#a:26"><span class="id" title="variable">a</span></a> <a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a> <span class="id" title="keyword">fun</span> (<a id="51578e5097ca1e0a116e50ad4dce93c<sub>4</sub>" class="idref" href="#51578e5097ca1e0a116e50ad4dce93c<sub>4</sub>"><span class="id" title="binder">σ</span></a>:<a class="idref" href="ImpDenotation.html#mem"><span class="id" title="definition">mem</span></a>) ⇒ <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="484c89dfbc240d857fa3ce5af49ab07f" class="idref" href="#484c89dfbc240d857fa3ce5af49ab07f"><span class="id" title="binder">σ'</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Hoare3.html#51578e5097ca1e0a116e50ad4dce93c<sub>4</sub>"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="Hoare3.html#X:25"><span class="id" title="variable">X</span></a> <a class="idref" href="Maps.html#630986d105c0f1782d085b9a306379a<sub>7</sub>"><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span></a> <a class="idref" href="Maps.html#630986d105c0f1782d085b9a306379a<sub>7</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="Hoare3.html#484c89dfbc240d857fa3ce5af49ab07f"><span class="id" title="variable">σ'</span></a> <a class="idref" href="Hoare3.html#a:26"><span class="id" title="variable">a</span></a><a class="idref" href="Maps.html#630986d105c0f1782d085b9a306379a<sub>7</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Maps.html#630986d105c0f1782d085b9a306379a<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Hoare3.html#484c89dfbc240d857fa3ce5af49ab07f"><span class="id" title="variable">σ'</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="Hoare3.html#P:24"><span class="id" title="variable">P</span></a> <a class="idref" href="Hoare3.html#484c89dfbc240d857fa3ce5af49ab07f"><span class="id" title="variable">σ'</span></a> <a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a>.<br/>
<div class="togglescript" id="proofcontrol4" onclick="toggleDisplay('proof4');toggleDisplay('proofcontrol4')"><span class="show"></span></div>
<div class="proofscript" id="proof4" onclick="toggleDisplay('proof4');toggleDisplay('proofcontrol4')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Hoare3.html#hoare_itree_triple"><span class="id" title="definition">hoare_itree_triple</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">X</span> <span class="id" title="var">a</span> σ <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">eutt_Ret</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> σ. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="hoare_itree_if" class="idref" href="#hoare_itree_if"><span class="id" title="lemma">hoare_itree_if</span></a> : <span class="id" title="keyword">∀</span> <a id="P:29" class="idref" href="#P:29"><span class="id" title="binder">P</span></a> <a id="Q:30" class="idref" href="#Q:30"><span class="id" title="binder">Q</span></a> (<a id="b:31" class="idref" href="#b:31"><span class="id" title="binder">b</span></a>:<a class="idref" href="Imp.html#bexp"><span class="id" title="inductive">bexp</span></a>) <a id="c<sub>1</sub>:32" class="idref" href="#c<sub>1</sub>:32"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:33" class="idref" href="#c<sub>2</sub>:33"><span class="id" title="binder">c<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a> <a class="idref" href="Hoare3.html#P:29"><span class="id" title="variable">P</span></a> <a class="idref" href="Hoare.html#cce4ad113420d0c25c6ce4891bbe5028"><span class="id" title="notation">∧</span></a> <a class="idref" href="Hoare3.html#b:31"><span class="id" title="variable">b</span></a> <a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a> <a class="idref" href="Hoare3.html#c<sub>1</sub>:32"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#Q:30"><span class="id" title="variable">Q</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a> <a class="idref" href="Hoare3.html#P:29"><span class="id" title="variable">P</span></a> <a class="idref" href="Hoare.html#cce4ad113420d0c25c6ce4891bbe5028"><span class="id" title="notation">∧</span></a> <a class="idref" href="Hoare.html#90b84b70bae2a0cf52991d884e146143"><span class="id" title="notation">¬</span></a> <a class="idref" href="Hoare3.html#b:31"><span class="id" title="variable">b</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a> <a class="idref" href="Hoare3.html#c<sub>2</sub>:33"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#Q:30"><span class="id" title="variable">Q</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#P:29"><span class="id" title="variable">P</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="Hoare3.html#b:31"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="Hoare3.html#c<sub>1</sub>:32"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="Hoare3.html#c<sub>2</sub>:33"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#Q:30"><span class="id" title="variable">Q</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a>.<br/>
<div class="togglescript" id="proofcontrol5" onclick="toggleDisplay('proof5');toggleDisplay('proofcontrol5')"><span class="show"></span></div>
<div class="proofscript" id="proof5" onclick="toggleDisplay('proof5');toggleDisplay('proofcontrol5')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> <span class="id" title="var">b</span> <span class="id" title="var">c<sub>1</sub></span> <span class="id" title="var">c<sub>2</sub></span> <span class="id" title="var">H</span> <span class="id" title="var">H<sub>0</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Hoare3.html#hoare_itree_triple"><span class="id" title="definition">hoare_itree_triple</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> σ <span class="id" title="var">HS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Imp.html#beval"><span class="id" title="definition">beval</span></a> σ <span class="id" title="var">b</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">HB</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">H<sub>0</sub></span>. <span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>1</sub></span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HB</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>1</sub></span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>1</sub></span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="hoare_itree_while" class="idref" href="#hoare_itree_while"><span class="id" title="lemma">hoare_itree_while</span></a> : <span class="id" title="keyword">∀</span> <a id="P:34" class="idref" href="#P:34"><span class="id" title="binder">P</span></a> (<a id="b:35" class="idref" href="#b:35"><span class="id" title="binder">b</span></a>:<a class="idref" href="Imp.html#bexp"><span class="id" title="inductive">bexp</span></a>) <a id="c:36" class="idref" href="#c:36"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#P:34"><span class="id" title="variable">P</span></a> <a class="idref" href="Hoare.html#cce4ad113420d0c25c6ce4891bbe5028"><span class="id" title="notation">∧</span></a> <a class="idref" href="Hoare3.html#b:35"><span class="id" title="variable">b</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a> <a class="idref" href="Hoare3.html#c:36"><span class="id" title="variable">c</span></a> <a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#P:34"><span class="id" title="variable">P</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#P:34"><span class="id" title="variable">P</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="Hoare3.html#b:35"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="Hoare3.html#c:36"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#P:34"><span class="id" title="variable">P</span></a> <a class="idref" href="Hoare.html#cce4ad113420d0c25c6ce4891bbe5028"><span class="id" title="notation">∧</span></a> <a class="idref" href="Hoare.html#90b84b70bae2a0cf52991d884e146143"><span class="id" title="notation">¬</span></a> <a class="idref" href="Hoare3.html#b:35"><span class="id" title="variable">b</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a>.<br/>
<div class="togglescript" id="proofcontrol6" onclick="toggleDisplay('proof6');toggleDisplay('proofcontrol6')"><span class="show"></span></div>
<div class="proofscript" id="proof6" onclick="toggleDisplay('proof6');toggleDisplay('proofcontrol6')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Hoare3.html#hoare_itree_triple"><span class="id" title="definition">hoare_itree_triple</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">einit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ecofix</span> <span class="id" title="var">CIH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> σ <span class="id" title="var">HS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Utils.html#unfold_repeat"><span class="id" title="lemma">unfold_repeat</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">bind_bind</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO&nbsp;SAZ:&nbsp;<span class="inlinecode"><span class="id" title="var">norm</span></span>&nbsp;loops&nbsp;here&nbsp;for&nbsp;some&nbsp;reason.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">interp_state_bind</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ebind</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="constructor">pbc_intro_h</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">RU</span> := <span class="id" title="keyword">fun</span> '<a id="pat:39" class="idref" href="#pat:39"><span class="id" title="binder"><span id="pat:45" class="id">(</span></span></a><a id="st<sub>1</sub>:38" class="idref" href="#st<sub>1</sub>:38"><span class="id" title="binder"><span id="pat:39" class="id"><span id="st<sub>1</sub>:44" class="id"><span id="pat:45" class="id">st<sub>1</sub></span></span></span></span></a><a id="pat:39" class="idref" href="#pat:39"><span class="id" title="binder"><span id="pat:45" class="id">,</span></span></a> <a id="b<sub>1</sub>:37" class="idref" href="#b<sub>1</sub>:37"><span class="id" title="binder"><span id="pat:39" class="id"><span id="b<sub>1</sub>:43" class="id"><span id="pat:45" class="id">b<sub>1</sub></span></span></span></span></a><a id="pat:39" class="idref" href="#pat:39"><span class="id" title="binder"><span id="pat:45" class="id">)</span></span></a> '<a id="pat:42" class="idref" href="#pat:42"><span class="id" title="binder"><span id="pat:48" class="id">(</span></span></a><a id="st<sub>2</sub>:41" class="idref" href="#st<sub>2</sub>:41"><span class="id" title="binder"><span id="pat:42" class="id"><span id="st<sub>2</sub>:47" class="id"><span id="pat:48" class="id">st<sub>2</sub></span></span></span></span></a><a id="pat:42" class="idref" href="#pat:42"><span class="id" title="binder"><span id="pat:48" class="id">,</span></span></a> <a id="b<sub>2</sub>:40" class="idref" href="#b<sub>2</sub>:40"><span class="id" title="binder"><span id="pat:42" class="id"><span id="b<sub>2</sub>:46" class="id"><span id="pat:48" class="id">b<sub>2</sub></span></span></span></span></a><a id="pat:42" class="idref" href="#pat:42"><span class="id" title="binder"><span id="pat:48" class="id">)</span></span></a> ⇒ <a class="idref" href="Hoare3.html#st<sub>1</sub>:38"><span class="id" title="variable">st<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Hoare3.html#st<sub>2</sub>:41"><span class="id" title="variable">st<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="Hoare3.html#st<sub>1</sub>:38"><span class="id" title="variable">st<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> σ <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="Hoare3.html#b<sub>1</sub>:37"><span class="id" title="variable">b<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Hoare3.html#b<sub>2</sub>:40"><span class="id" title="variable">b<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="Hoare3.html#b<sub>1</sub>:37"><span class="id" title="variable">b<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp.html#beval"><span class="id" title="definition">beval</span></a> σ <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">eqit_Ret</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">u<sub>1</sub></span>, <span class="id" title="var">u<sub>2</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H<sub>0</sub></span> <span class="id" title="keyword">as</span> [? [? [? ?]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Imp.html#beval"><span class="id" title="definition">beval</span></a> σ <span class="id" title="var">b</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">HB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Hoare3.html#hoare_itree_triple"><span class="id" title="definition">hoare_itree_triple</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> σ (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> <span class="id" title="var">HS</span>  <span class="id" title="var">HB</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ebind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">u<sub>1</sub></span>, <span class="id" title="var">u<sub>2</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">interp_state_tau</span>. <span class="id" title="var">estep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">estep</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HB</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>0</sub></span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>0</sub></span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="hoare_itree_consequence_pre" class="idref" href="#hoare_itree_consequence_pre"><span class="id" title="lemma">hoare_itree_consequence_pre</span></a> : <span class="id" title="keyword">∀</span> (<a id="P:49" class="idref" href="#P:49"><span class="id" title="binder">P</span></a> <a id="P':50" class="idref" href="#P':50"><span class="id" title="binder">P'</span></a> <a id="Q:51" class="idref" href="#Q:51"><span class="id" title="binder">Q</span></a> : <a class="idref" href="Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a>) <a id="c:52" class="idref" href="#c:52"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#P':50"><span class="id" title="variable">P'</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a> <a class="idref" href="Hoare3.html#c:52"><span class="id" title="variable">c</span></a> <a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#Q:51"><span class="id" title="variable">Q</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Hoare3.html#P:49"><span class="id" title="variable">P</span></a> <a class="idref" href="Hoare.html#::hoare_spec_scope:x_'-&gt;&gt;'_x"><span class="id" title="notation"><span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span><span style='letter-spacing:-.2em;'>></span>></span></span></span></a> <a class="idref" href="Hoare3.html#P':50"><span class="id" title="variable">P'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#P:49"><span class="id" title="variable">P</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a> <a class="idref" href="Hoare3.html#c:52"><span class="id" title="variable">c</span></a> <a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#Q:51"><span class="id" title="variable">Q</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a>.<br/>
<div class="togglescript" id="proofcontrol7" onclick="toggleDisplay('proof7');toggleDisplay('proofcontrol7')"><span class="show"></span></div>
<div class="proofscript" id="proof7" onclick="toggleDisplay('proof7');toggleDisplay('proofcontrol7')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">P'</span> <span class="id" title="var">Q</span> <span class="id" title="var">c</span> <span class="id" title="var">Htriple</span> <span class="id" title="var">Hpre</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Hoare3.html#hoare_itree_triple"><span class="id" title="definition">hoare_itree_triple</span></a> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> σ <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Htriple</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hpre</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="hoare_itree_consequence_conj" class="idref" href="#hoare_itree_consequence_conj"><span class="id" title="lemma">hoare_itree_consequence_conj</span></a> : <span class="id" title="keyword">∀</span> (<a id="P:53" class="idref" href="#P:53"><span class="id" title="binder">P</span></a> <a id="Q:54" class="idref" href="#Q:54"><span class="id" title="binder">Q</span></a> <a id="Q':55" class="idref" href="#Q':55"><span class="id" title="binder">Q'</span></a> : <a class="idref" href="Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a>) <a id="c:56" class="idref" href="#c:56"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#P:53"><span class="id" title="variable">P</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a> <a class="idref" href="Hoare3.html#c:56"><span class="id" title="variable">c</span></a> <a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#Q:54"><span class="id" title="variable">Q</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#P:53"><span class="id" title="variable">P</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a> <a class="idref" href="Hoare3.html#c:56"><span class="id" title="variable">c</span></a> <a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#Q':55"><span class="id" title="variable">Q'</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#P:53"><span class="id" title="variable">P</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a> <a class="idref" href="Hoare3.html#c:56"><span class="id" title="variable">c</span></a> <a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#Q:54"><span class="id" title="variable">Q</span></a> <a class="idref" href="Hoare.html#cce4ad113420d0c25c6ce4891bbe5028"><span class="id" title="notation">∧</span></a> <a class="idref" href="Hoare3.html#Q':55"><span class="id" title="variable">Q'</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a>.<br/>
<div class="togglescript" id="proofcontrol8" onclick="toggleDisplay('proof8');toggleDisplay('proofcontrol8')"><span class="show"></span></div>
<div class="proofscript" id="proof8" onclick="toggleDisplay('proof8');toggleDisplay('proofcontrol8')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> <span class="id" title="var">Q'</span> <span class="id" title="var">c</span> <span class="id" title="var">H<sub>1</sub></span> <span class="id" title="var">H<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Hoare3.html#hoare_itree_triple"><span class="id" title="definition">hoare_itree_triple</span></a> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> σ <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H<sub>1</sub></span> σ <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H<sub>2</sub></span> σ <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="lemma">eutt_conj</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H<sub>1</sub></span> <span class="id" title="var">H<sub>2</sub></span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">eqit_mon</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x<sub>0</sub></span>, <span class="id" title="var">x<sub>1</sub></span>. <span class="id" title="tactic">intuition</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="hoare_itree_consequence_post" class="idref" href="#hoare_itree_consequence_post"><span class="id" title="lemma">hoare_itree_consequence_post</span></a> : <span class="id" title="keyword">∀</span> (<a id="P:57" class="idref" href="#P:57"><span class="id" title="binder">P</span></a> <a id="Q:58" class="idref" href="#Q:58"><span class="id" title="binder">Q</span></a> <a id="Q':59" class="idref" href="#Q':59"><span class="id" title="binder">Q'</span></a> : <a class="idref" href="Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a>) <a id="c:60" class="idref" href="#c:60"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#P:57"><span class="id" title="variable">P</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a> <a class="idref" href="Hoare3.html#c:60"><span class="id" title="variable">c</span></a> <a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#Q':59"><span class="id" title="variable">Q'</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Hoare3.html#Q':59"><span class="id" title="variable">Q'</span></a> <a class="idref" href="Hoare.html#::hoare_spec_scope:x_'-&gt;&gt;'_x"><span class="id" title="notation"><span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span><span style='letter-spacing:-.2em;'>></span>></span></span></span></a> <a class="idref" href="Hoare3.html#Q:58"><span class="id" title="variable">Q</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#P:57"><span class="id" title="variable">P</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a> <a class="idref" href="Hoare3.html#c:60"><span class="id" title="variable">c</span></a> <a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#Q:58"><span class="id" title="variable">Q</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a>.<br/>
<div class="togglescript" id="proofcontrol9" onclick="toggleDisplay('proof9');toggleDisplay('proofcontrol9')"><span class="show"></span></div>
<div class="proofscript" id="proof9" onclick="toggleDisplay('proof9');toggleDisplay('proofcontrol9')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">P'</span> <span class="id" title="var">Q</span> <span class="id" title="var">Q'</span> <span class="id" title="var">c</span> <span class="id" title="var">Htriple</span> <span class="id" title="var">Hpre</span> <span class="id" title="var">Hpost</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Hoare3.html#hoare_itree_triple"><span class="id" title="definition">hoare_itree_triple</span></a> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">eqit_mon</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">RR</span> := (<span class="id" title="keyword">fun</span> '<a id="pat:62" class="idref" href="#pat:62"><span class="id" title="binder"><span id="pat:66" class="id">(</span></span></a><a id="fb5cc86c2fa8b5f8d2dbdbfc96f7ba<sub>83</sub>" class="idref" href="#fb5cc86c2fa8b5f8d2dbdbfc96f7ba<sub>83</sub>"><span class="id" title="binder"><span id="pat:62" class="id"><span id="2edfc28aaf6cd6f54b65b67b0e3cf1a<sub>9</sub>" class="id"><span id="pat:66" class="id">σ1</span></span></span></span></a><a id="pat:62" class="idref" href="#pat:62"><span class="id" title="binder"><span id="pat:66" class="id">,</span></span></a> <a id="pat:62" class="idref" href="#pat:62"><span class="id" title="binder"><span id="pat:66" class="id">_</span></span></a><a id="pat:62" class="idref" href="#pat:62"><span class="id" title="binder"><span id="pat:66" class="id">)</span></span></a> '<a id="pat:64" class="idref" href="#pat:64"><span class="id" title="binder"><span id="pat:68" class="id">(</span></span></a><a id="b4fddedc413aec4eb7205ed502d59725" class="idref" href="#b4fddedc413aec4eb7205ed502d59725"><span class="id" title="binder"><span id="pat:64" class="id"><span id="cc1fbac3f2d21817d2eef50dd36314c<sub>5</sub>" class="id"><span id="pat:68" class="id">σ2</span></span></span></span></a><a id="pat:64" class="idref" href="#pat:64"><span class="id" title="binder"><span id="pat:68" class="id">,</span></span></a> <a id="pat:64" class="idref" href="#pat:64"><span class="id" title="binder"><span id="pat:68" class="id">_</span></span></a><a id="pat:64" class="idref" href="#pat:64"><span class="id" title="binder"><span id="pat:68" class="id">)</span></span></a> ⇒ <a class="idref" href="Hoare3.html#fb5cc86c2fa8b5f8d2dbdbfc96f7ba<sub>83</sub>"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Hoare3.html#b4fddedc413aec4eb7205ed502d59725"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <span class="id" title="var">Q</span> <a class="idref" href="Hoare3.html#fb5cc86c2fa8b5f8d2dbdbfc96f7ba<sub>83</sub>"><span class="id" title="variable">σ1</span></a>) ); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x<sub>0</sub></span>, <span class="id" title="var">x<sub>1</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">c</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="hoare_itree_consequence" class="idref" href="#hoare_itree_consequence"><span class="id" title="lemma">hoare_itree_consequence</span></a> : <span class="id" title="keyword">∀</span> (<a id="P:69" class="idref" href="#P:69"><span class="id" title="binder">P</span></a> <a id="P':70" class="idref" href="#P':70"><span class="id" title="binder">P'</span></a> <a id="Q:71" class="idref" href="#Q:71"><span class="id" title="binder">Q</span></a> <a id="Q':72" class="idref" href="#Q':72"><span class="id" title="binder">Q'</span></a> : <a class="idref" href="Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a>) <a id="c:73" class="idref" href="#c:73"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#P':70"><span class="id" title="variable">P'</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a> <a class="idref" href="Hoare3.html#c:73"><span class="id" title="variable">c</span></a> <a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#Q':72"><span class="id" title="variable">Q'</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Hoare3.html#P:69"><span class="id" title="variable">P</span></a> <a class="idref" href="Hoare.html#::hoare_spec_scope:x_'-&gt;&gt;'_x"><span class="id" title="notation"><span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span><span style='letter-spacing:-.2em;'>></span>></span></span></span></a> <a class="idref" href="Hoare3.html#P':70"><span class="id" title="variable">P'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Hoare3.html#Q':72"><span class="id" title="variable">Q'</span></a> <a class="idref" href="Hoare.html#::hoare_spec_scope:x_'-&gt;&gt;'_x"><span class="id" title="notation"><span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span><span style='letter-spacing:-.2em;'>></span>></span></span></span></a> <a class="idref" href="Hoare3.html#Q:71"><span class="id" title="variable">Q</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#P:69"><span class="id" title="variable">P</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a> <a class="idref" href="Hoare3.html#c:73"><span class="id" title="variable">c</span></a> <a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#Q:71"><span class="id" title="variable">Q</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a>.<br/>
<div class="togglescript" id="proofcontrol10" onclick="toggleDisplay('proof10');toggleDisplay('proofcontrol10')"><span class="show"></span></div>
<div class="proofscript" id="proof10" onclick="toggleDisplay('proof10');toggleDisplay('proofcontrol10')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">P'</span> <span class="id" title="var">Q</span> <span class="id" title="var">Q'</span> <span class="id" title="var">c</span> <span class="id" title="var">Htriple</span> <span class="id" title="var">Hpre</span> <span class="id" title="var">Hpost</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Hoare3.html#hoare_itree_consequence_pre"><span class="id" title="lemma">hoare_itree_consequence_pre</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">P'</span> := <span class="id" title="var">P'</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Hoare3.html#hoare_itree_consequence_post"><span class="id" title="lemma">hoare_itree_consequence_post</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Q'</span> := <span class="id" title="var">Q'</span>); <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="hoare_itree_post_true" class="idref" href="#hoare_itree_post_true"><span class="id" title="lemma">hoare_itree_post_true</span></a> : <span class="id" title="keyword">∀</span> (<a id="P:74" class="idref" href="#P:74"><span class="id" title="binder">P</span></a> <a id="Q:75" class="idref" href="#Q:75"><span class="id" title="binder">Q</span></a> : <a class="idref" href="Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a>) <a id="c:76" class="idref" href="#c:76"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="st:77" class="idref" href="#st:77"><span class="id" title="binder">st</span></a>, <a class="idref" href="Hoare3.html#Q:75"><span class="id" title="variable">Q</span></a> <a class="idref" href="Hoare3.html#st:77"><span class="id" title="variable">st</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#P:74"><span class="id" title="variable">P</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a> <a class="idref" href="Hoare3.html#c:76"><span class="id" title="variable">c</span></a> <a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#Q:75"><span class="id" title="variable">Q</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a>.<br/>
<div class="togglescript" id="proofcontrol11" onclick="toggleDisplay('proof11');toggleDisplay('proofcontrol11')"><span class="show"></span></div>
<div class="proofscript" id="proof11" onclick="toggleDisplay('proof11');toggleDisplay('proofcontrol11')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> <span class="id" title="var">c</span> <span class="id" title="var">HQ</span>. <span class="id" title="var">revert</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">P</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Hoare3.html#hoare_itree_consequence_post"><span class="id" title="lemma">hoare_itree_consequence_post</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="Hoare3.html#hoare_itree_skip"><span class="id" title="lemma">hoare_itree_skip</span></a>. <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">HQ</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Hoare3.html#hoare_itree_triple"><span class="id" title="definition">hoare_itree_triple</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">eutt_Ret</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Hoare3.html#hoare_itree_seq"><span class="id" title="lemma">hoare_itree_seq</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHc1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Hoare3.html#hoare_itree_if"><span class="id" title="lemma">hoare_itree_if</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHc1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHc2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Hoare3.html#hoare_itree_consequence_pre"><span class="id" title="lemma">hoare_itree_consequence_pre</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">P'</span> := <span class="id" title="var">Q</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Hoare3.html#hoare_itree_consequence_post"><span class="id" title="lemma">hoare_itree_consequence_post</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Hoare3.html#hoare_itree_while"><span class="id" title="lemma">hoare_itree_while</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div class="doc">
Prove that if <span class="inlinecode"><span class="id" title="var">P</span></span> holds in no state, then any triple with <span class="inlinecode"><span class="id" title="var">P</span></span> as
    its precondition is valid. 
</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="hoare_itree_pre_false" class="idref" href="#hoare_itree_pre_false"><span class="id" title="lemma">hoare_itree_pre_false</span></a> : <span class="id" title="keyword">∀</span> (<a id="P:78" class="idref" href="#P:78"><span class="id" title="binder">P</span></a> <a id="Q:79" class="idref" href="#Q:79"><span class="id" title="binder">Q</span></a> : <a class="idref" href="Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a>) <a id="c:80" class="idref" href="#c:80"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="st:81" class="idref" href="#st:81"><span class="id" title="binder">st</span></a>, <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="Hoare3.html#P:78"><span class="id" title="variable">P</span></a> <a class="idref" href="Hoare3.html#st:81"><span class="id" title="variable">st</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#P:78"><span class="id" title="variable">P</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a> <a class="idref" href="Hoare3.html#c:80"><span class="id" title="variable">c</span></a> <a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#Q:79"><span class="id" title="variable">Q</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a>.<br/>
<div class="togglescript" id="proofcontrol12" onclick="toggleDisplay('proof12');toggleDisplay('proofcontrol12')"><span class="show"></span></div>
<div class="proofscript" id="proof12" onclick="toggleDisplay('proof12');toggleDisplay('proofcontrol12')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> <span class="id" title="var">c</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Hoare3.html#hoare_itree_triple"><span class="id" title="definition">hoare_itree_triple</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">st</span> <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#not"><span class="id" title="definition">not</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">contradiction</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="semantic_preservation" class="idref" href="#semantic_preservation"><span class="id" title="lemma">semantic_preservation</span></a> : <span class="id" title="keyword">∀</span> (<a id="P:82" class="idref" href="#P:82"><span class="id" title="binder">P</span></a> <a id="Q:83" class="idref" href="#Q:83"><span class="id" title="binder">Q</span></a> : <a class="idref" href="Hoare.html#Assertion"><span class="id" title="definition">Assertion</span></a>) (<a id="c<sub>1</sub>:84" class="idref" href="#c<sub>1</sub>:84"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:85" class="idref" href="#c<sub>2</sub>:85"><span class="id" title="binder">c<sub>2</sub></span></a> : <a class="idref" href="Imp.html#com"><span class="id" title="inductive">com</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="fe2b596e2bfb6e5a10b504397c4bc4c<sub>9</sub>" class="idref" href="#fe2b596e2bfb6e5a10b504397c4bc4c<sub>9</sub>"><span class="id" title="binder">σ</span></a>, <a class="idref" href="Hoare3.html#P:82"><span class="id" title="variable">P</span></a> <a class="idref" href="Hoare3.html#fe2b596e2bfb6e5a10b504397c4bc4c<sub>9</sub>"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">ℑ</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟦</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">c<sub>1</sub></span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟧σ</span></a> <span class="id" title="notation">≈</span> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">ℑ</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟦</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">c<sub>2</sub></span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟧σ</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#P:82"><span class="id" title="variable">P</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a> <a class="idref" href="Hoare3.html#c<sub>1</sub>:84"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#Q:83"><span class="id" title="variable">Q</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#P:82"><span class="id" title="variable">P</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a> <a class="idref" href="Hoare3.html#c<sub>2</sub>:85"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Hoare3.html#Q:83"><span class="id" title="variable">Q</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a>.<br/>
<div class="togglescript" id="proofcontrol13" onclick="toggleDisplay('proof13');toggleDisplay('proofcontrol13')"><span class="show"></span></div>
<div class="proofscript" id="proof13" onclick="toggleDisplay('proof13');toggleDisplay('proofcontrol13')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> <span class="id" title="var">c<sub>1</sub></span> <span class="id" title="var">c<sub>2</sub></span> <span class="id" title="var">EQ</span> <span class="id" title="var">HC<sub>1</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Hoare3.html#hoare_itree_triple"><span class="id" title="definition">hoare_itree_triple</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">HC<sub>1</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> σ <span class="id" title="var">HS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">EQ</span> σ <span class="id" title="var">HS</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HC<sub>1</sub></span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Example</span> <a id="hoare_itree_if_example" class="idref" href="#hoare_itree_if_example"><span class="id" title="definition">hoare_itree_if_example</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 2<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦃</span></a><a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Hoare.html#154e85acf24eb57aa8f8a0156c0ba632"><span class="id" title="notation">≤</span></a> <a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a><a class="idref" href="Hoare3.html#d14d6a94ef424fa020b7dfc61d76d9ee"><span class="id" title="notation">⦄</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Hoare3.html#hoare_itree_if"><span class="id" title="lemma">hoare_itree_if</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="Hoare3.html#hoare_itree_consequence_pre"><span class="id" title="lemma">hoare_itree_consequence_pre</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="Hoare3.html#hoare_itree_asgn"><span class="id" title="lemma">hoare_itree_asgn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">assertion_auto'</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="Hoare3.html#hoare_itree_consequence_pre"><span class="id" title="lemma">hoare_itree_consequence_pre</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="Hoare3.html#hoare_itree_asgn"><span class="id" title="lemma">hoare_itree_asgn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">assertion_auto'</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab249"></a><h2 class="section">Substitution</h2>

</div>
<div class="code">

<span class="id" title="keyword">Fixpoint</span> <a id="substitute_aexp" class="idref" href="#substitute_aexp"><span class="id" title="definition">substitute_aexp</span></a> (<a id="x:87" class="idref" href="#x:87"><span class="id" title="binder">x</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="ax:88" class="idref" href="#ax:88"><span class="id" title="binder">ax</span></a>:<a class="idref" href="Imp.html#aexp"><span class="id" title="inductive">aexp</span></a>) (<a id="a:89" class="idref" href="#a:89"><span class="id" title="binder">a</span></a>:<a class="idref" href="Imp.html#aexp"><span class="id" title="inductive">aexp</span></a>) : <a class="idref" href="Imp.html#aexp"><span class="id" title="inductive">aexp</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Hoare3.html#a:89"><span class="id" title="variable">a</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#ANum"><span class="id" title="constructor">ANum</span></a> <span class="id" title="var">n</span> ⇒ <a class="idref" href="Hoare3.html#a:89"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#AId"><span class="id" title="constructor">AId</span></a> <span class="id" title="var">y</span> ⇒ <span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb"><span class="id" title="definition">String.eqb</span></a> <span class="id" title="var">y</span> <a class="idref" href="Hoare3.html#x:87"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="Hoare3.html#ax:88"><span class="id" title="variable">ax</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="Hoare3.html#a:89"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">a<sub>1</sub></span> <a class="idref" href="Imp.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> <span class="id" title="var">a<sub>2</sub></span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒ <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Hoare3.html#substitute_aexp:90"><span class="id" title="definition">substitute_aexp</span></a> <a class="idref" href="Hoare3.html#x:87"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#ax:88"><span class="id" title="variable">ax</span></a> <span class="id" title="var">a<sub>1</sub></span><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Hoare3.html#substitute_aexp:90"><span class="id" title="definition">substitute_aexp</span></a> <a class="idref" href="Hoare3.html#x:87"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#ax:88"><span class="id" title="variable">ax</span></a> <span class="id" title="var">a<sub>2</sub></span><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">a<sub>1</sub></span> <a class="idref" href="Imp.html#:com::x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">a<sub>2</sub></span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒ <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Hoare3.html#substitute_aexp:90"><span class="id" title="definition">substitute_aexp</span></a> <a class="idref" href="Hoare3.html#x:87"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#ax:88"><span class="id" title="variable">ax</span></a> <span class="id" title="var">a<sub>1</sub></span><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#:com::x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Hoare3.html#substitute_aexp:90"><span class="id" title="definition">substitute_aexp</span></a> <a class="idref" href="Hoare3.html#x:87"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#ax:88"><span class="id" title="variable">ax</span></a> <span class="id" title="var">a<sub>2</sub></span><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">a<sub>1</sub></span> <a class="idref" href="Imp.html#a73c7b35e67094dc8ae672f3a93da066"><span class="id" title="notation">×</span></a> <span class="id" title="var">a<sub>2</sub></span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒ <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Hoare3.html#substitute_aexp:90"><span class="id" title="definition">substitute_aexp</span></a> <a class="idref" href="Hoare3.html#x:87"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#ax:88"><span class="id" title="variable">ax</span></a> <span class="id" title="var">a<sub>1</sub></span><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#a73c7b35e67094dc8ae672f3a93da066"><span class="id" title="notation">×</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Hoare3.html#substitute_aexp:90"><span class="id" title="definition">substitute_aexp</span></a> <a class="idref" href="Hoare3.html#x:87"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#ax:88"><span class="id" title="variable">ax</span></a> <span class="id" title="var">a<sub>2</sub></span><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="keyword">in</span> (<a class="idref" href="Hoare3.html#substitute_aexp"><span class="id" title="definition">substitute_aexp</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> (<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> 2<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>) (<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> <a class="idref" href="Imp.html#Z"><span class="id" title="definition">Z</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>)).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="aexp_eval_semantics2" class="idref" href="#aexp_eval_semantics2"><span class="id" title="lemma">aexp_eval_semantics2</span></a> : <span class="id" title="keyword">∀</span> <a id="a<sub>1</sub>:92" class="idref" href="#a<sub>1</sub>:92"><span class="id" title="binder">a<sub>1</sub></span></a> <a id="a<sub>2</sub>:93" class="idref" href="#a<sub>2</sub>:93"><span class="id" title="binder">a<sub>2</sub></span></a> <a id="393a609183004821a1b9d395ef5ef97e" class="idref" href="#393a609183004821a1b9d395ef5ef97e"><span class="id" title="binder">σ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="Hoare3.html#393a609183004821a1b9d395ef5ef97e"><span class="id" title="variable">σ</span></a> <a class="idref" href="Hoare3.html#a<sub>1</sub>:92"><span class="id" title="variable">a<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="Hoare3.html#393a609183004821a1b9d395ef5ef97e"><span class="id" title="variable">σ</span></a> <a class="idref" href="Hoare3.html#a<sub>2</sub>:93"><span class="id" title="variable">a<sub>2</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">ℑ</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">a<sub>1</sub></span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟧</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">a</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">σ</span></a> <span class="id" title="notation">≈</span> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">ℑ</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">a<sub>2</sub></span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟧</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">a</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ImpEquiv.html#aexp_equiv"><span class="id" title="definition">aexp_equiv</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="ImpEquiv.html#aexp_pure_aeval"><span class="id" title="lemma">aexp_pure_aeval</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">eutt_Ret</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="substitute_aexp_aeval" class="idref" href="#substitute_aexp_aeval"><span class="id" title="lemma">substitute_aexp_aeval</span></a> : <span class="id" title="keyword">∀</span> (<a id="x:95" class="idref" href="#x:95"><span class="id" title="binder">x</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) <a id="ax:96" class="idref" href="#ax:96"><span class="id" title="binder">ax</span></a> <a id="a:97" class="idref" href="#a:97"><span class="id" title="binder">a</span></a>,<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="cc6b043719e4d47de25e406f4c2e0c<sub>05</sub>" class="idref" href="#cc6b043719e4d47de25e406f4c2e0c<sub>05</sub>"><span class="id" title="binder">σ</span></a> (<a id="EQ:99" class="idref" href="#EQ:99"><span class="id" title="binder">EQ</span></a> : <a class="idref" href="Imp.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="Hoare3.html#cc6b043719e4d47de25e406f4c2e0c<sub>05</sub>"><span class="id" title="variable">σ</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Hoare3.html#x:95"><span class="id" title="variable">x</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="Hoare3.html#cc6b043719e4d47de25e406f4c2e0c<sub>05</sub>"><span class="id" title="variable">σ</span></a> <a class="idref" href="Hoare3.html#ax:96"><span class="id" title="variable">ax</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="Hoare3.html#cc6b043719e4d47de25e406f4c2e0c<sub>05</sub>"><span class="id" title="variable">σ</span></a> <a class="idref" href="Hoare3.html#a:97"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="Hoare3.html#cc6b043719e4d47de25e406f4c2e0c<sub>05</sub>"><span class="id" title="variable">σ</span></a> (<a class="idref" href="Hoare3.html#substitute_aexp"><span class="id" title="definition">substitute_aexp</span></a> <a class="idref" href="Hoare3.html#x:95"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#ax:96"><span class="id" title="variable">ax</span></a> <a class="idref" href="Hoare3.html#a:97"><span class="id" title="variable">a</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">ax</span> <span class="id" title="var">a</span> σ <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> <span class="id" title="var">x<sub>0</sub></span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">EQ</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="substitute_aexp_semantic" class="idref" href="#substitute_aexp_semantic"><span class="id" title="lemma">substitute_aexp_semantic</span></a> : <span class="id" title="keyword">∀</span> (<a id="x:100" class="idref" href="#x:100"><span class="id" title="binder">x</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) <a id="ax:101" class="idref" href="#ax:101"><span class="id" title="binder">ax</span></a> <a id="a:102" class="idref" href="#a:102"><span class="id" title="binder">a</span></a>,<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="7ebcfa9c1e384da68c82f37dc2702491" class="idref" href="#7ebcfa9c1e384da68c82f37dc2702491"><span class="id" title="binder">σ</span></a> (<a id="EQ:104" class="idref" href="#EQ:104"><span class="id" title="binder">EQ</span></a>: <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">ℑ</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">x</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟧</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">a</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">σ</span></a> <span class="id" title="notation">≈</span> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">ℑ</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">ax</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟧</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">a</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">σ</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">ℑ</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">a</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟧</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">a</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">σ</span></a> <span class="id" title="notation">≈</span> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">ℑ</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">substitute_aexp</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">x</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">ax</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">a</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟧</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">a</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">ax</span> <span class="id" title="var">a</span> σ <span class="id" title="var">HEQ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Hoare3.html#aexp_eval_semantics2"><span class="id" title="lemma">aexp_eval_semantics2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Hoare3.html#substitute_aexp_aeval"><span class="id" title="lemma">substitute_aexp_aeval</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Hoare3.html#aexp_eval_semantics2"><span class="id" title="lemma">aexp_eval_semantics2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="bexp_eval_semantics" class="idref" href="#bexp_eval_semantics"><span class="id" title="lemma">bexp_eval_semantics</span></a> : <span class="id" title="keyword">∀</span> <a id="b<sub>1</sub>:105" class="idref" href="#b<sub>1</sub>:105"><span class="id" title="binder">b<sub>1</sub></span></a> <a id="b<sub>2</sub>:106" class="idref" href="#b<sub>2</sub>:106"><span class="id" title="binder">b<sub>2</sub></span></a> <a id="ccfcad0f5f2d68e724a3fa1bd4913fee" class="idref" href="#ccfcad0f5f2d68e724a3fa1bd4913fee"><span class="id" title="binder">σ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#beval"><span class="id" title="definition">beval</span></a> <a class="idref" href="Hoare3.html#ccfcad0f5f2d68e724a3fa1bd4913fee"><span class="id" title="variable">σ</span></a> <a class="idref" href="Hoare3.html#b<sub>1</sub>:105"><span class="id" title="variable">b<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp.html#beval"><span class="id" title="definition">beval</span></a> <a class="idref" href="Hoare3.html#ccfcad0f5f2d68e724a3fa1bd4913fee"><span class="id" title="variable">σ</span></a> <a class="idref" href="Hoare3.html#b<sub>2</sub>:106"><span class="id" title="variable">b<sub>2</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">ℑ</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">b<sub>1</sub></span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟧</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">b</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">σ</span></a> <span class="id" title="notation">≈</span> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">ℑ</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">b<sub>2</sub></span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟧</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">b</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ImpEquiv.html#bexp_equiv"><span class="id" title="definition">bexp_equiv</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="ImpEquiv.html#bexp_pure_beval"><span class="id" title="lemma">bexp_pure_beval</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">eutt_Ret</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Fixpoint</span> <a id="substitute_bexp" class="idref" href="#substitute_bexp"><span class="id" title="definition">substitute_bexp</span></a> (<a id="x:108" class="idref" href="#x:108"><span class="id" title="binder">x</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="ax:109" class="idref" href="#ax:109"><span class="id" title="binder">ax</span></a>:<a class="idref" href="Imp.html#aexp"><span class="id" title="inductive">aexp</span></a>) (<a id="b:110" class="idref" href="#b:110"><span class="id" title="binder">b</span></a>:<a class="idref" href="Imp.html#bexp"><span class="id" title="inductive">bexp</span></a>) : <a class="idref" href="Imp.html#bexp"><span class="id" title="inductive">bexp</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Hoare3.html#b:110"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>      ⇒ <a class="idref" href="Hoare3.html#b:110"><span class="id" title="variable">b</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#:com::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>     ⇒ <a class="idref" href="Hoare3.html#b:110"><span class="id" title="variable">b</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><span class="id" title="var">a<sub>1</sub></span> <a class="idref" href="Imp.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a<sub>2</sub></span><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>   ⇒ <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Hoare3.html#substitute_aexp"><span class="id" title="definition">substitute_aexp</span></a> <a class="idref" href="Hoare3.html#x:108"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#ax:109"><span class="id" title="variable">ax</span></a> <span class="id" title="var">a<sub>1</sub></span><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Hoare3.html#substitute_aexp"><span class="id" title="definition">substitute_aexp</span></a> <a class="idref" href="Hoare3.html#x:108"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#ax:109"><span class="id" title="variable">ax</span></a> <span class="id" title="var">a<sub>2</sub></span><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><span class="id" title="var">a<sub>1</sub></span> <a class="idref" href="Imp.html#:com::x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <span class="id" title="var">a<sub>2</sub></span><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>   ⇒ <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Hoare3.html#substitute_aexp"><span class="id" title="definition">substitute_aexp</span></a> <a class="idref" href="Hoare3.html#x:108"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#ax:109"><span class="id" title="variable">ax</span></a> <span class="id" title="var">a<sub>1</sub></span><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#:com::x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Hoare3.html#substitute_aexp"><span class="id" title="definition">substitute_aexp</span></a> <a class="idref" href="Hoare3.html#x:108"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#ax:109"><span class="id" title="variable">ax</span></a> <span class="id" title="var">a<sub>2</sub></span><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><span class="id" title="var">a<sub>1</sub></span> <a class="idref" href="Imp.html#d43f15edd52d29ae8e0f90730a25ed5c"><span class="id" title="notation">≤</span></a> <span class="id" title="var">a<sub>2</sub></span><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>  ⇒ <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Hoare3.html#substitute_aexp"><span class="id" title="definition">substitute_aexp</span></a> <a class="idref" href="Hoare3.html#x:108"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#ax:109"><span class="id" title="variable">ax</span></a> <span class="id" title="var">a<sub>1</sub></span><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#d43f15edd52d29ae8e0f90730a25ed5c"><span class="id" title="notation">≤</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Hoare3.html#substitute_aexp"><span class="id" title="definition">substitute_aexp</span></a> <a class="idref" href="Hoare3.html#x:108"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#ax:109"><span class="id" title="variable">ax</span></a> <span class="id" title="var">a<sub>2</sub></span><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><span class="id" title="var">a<sub>1</sub></span> <a class="idref" href="Imp.html#:com::x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> <span class="id" title="var">a<sub>2</sub></span><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>   ⇒ <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Hoare3.html#substitute_aexp"><span class="id" title="definition">substitute_aexp</span></a> <a class="idref" href="Hoare3.html#x:108"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#ax:109"><span class="id" title="variable">ax</span></a> <span class="id" title="var">a<sub>1</sub></span><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#:com::x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Hoare3.html#substitute_aexp"><span class="id" title="definition">substitute_aexp</span></a> <a class="idref" href="Hoare3.html#x:108"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#ax:109"><span class="id" title="variable">ax</span></a> <span class="id" title="var">a<sub>2</sub></span><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#dfe50505b2b595242030c436d0d7d15f"><span class="id" title="notation">¬</span></a> <span class="id" title="var">b<sub>1</sub></span><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>      ⇒ <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="Imp.html#dfe50505b2b595242030c436d0d7d15f"><span class="id" title="notation">¬</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Hoare3.html#substitute_bexp:111"><span class="id" title="definition">substitute_bexp</span></a> <a class="idref" href="Hoare3.html#x:108"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#ax:109"><span class="id" title="variable">ax</span></a> <span class="id" title="var">b<sub>1</sub></span><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><span class="id" title="var">b<sub>1</sub></span> <a class="idref" href="Imp.html#:com::x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <span class="id" title="var">b<sub>2</sub></span><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>  ⇒ <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Hoare3.html#substitute_bexp:111"><span class="id" title="definition">substitute_bexp</span></a> <a class="idref" href="Hoare3.html#x:108"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#ax:109"><span class="id" title="variable">ax</span></a> <span class="id" title="var">b<sub>1</sub></span><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#:com::x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Hoare3.html#substitute_bexp:111"><span class="id" title="definition">substitute_bexp</span></a> <a class="idref" href="Hoare3.html#x:108"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#ax:109"><span class="id" title="variable">ax</span></a> <span class="id" title="var">b<sub>2</sub></span><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="substitute_bexp_beval" class="idref" href="#substitute_bexp_beval"><span class="id" title="lemma">substitute_bexp_beval</span></a> : <span class="id" title="keyword">∀</span> (<a id="x:113" class="idref" href="#x:113"><span class="id" title="binder">x</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) <a id="ax:114" class="idref" href="#ax:114"><span class="id" title="binder">ax</span></a> <a id="b:115" class="idref" href="#b:115"><span class="id" title="binder">b</span></a>,<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="03f86bc26ea6bf4494eb49e11860d2a<sub>4</sub>" class="idref" href="#03f86bc26ea6bf4494eb49e11860d2a<sub>4</sub>"><span class="id" title="binder">σ</span></a> (<a id="EQ:117" class="idref" href="#EQ:117"><span class="id" title="binder">EQ</span></a> : <a class="idref" href="Imp.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="Hoare3.html#03f86bc26ea6bf4494eb49e11860d2a<sub>4</sub>"><span class="id" title="variable">σ</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Hoare3.html#x:113"><span class="id" title="variable">x</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="Hoare3.html#03f86bc26ea6bf4494eb49e11860d2a<sub>4</sub>"><span class="id" title="variable">σ</span></a> <a class="idref" href="Hoare3.html#ax:114"><span class="id" title="variable">ax</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#beval"><span class="id" title="definition">beval</span></a> <a class="idref" href="Hoare3.html#03f86bc26ea6bf4494eb49e11860d2a<sub>4</sub>"><span class="id" title="variable">σ</span></a> <a class="idref" href="Hoare3.html#b:115"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp.html#beval"><span class="id" title="definition">beval</span></a> <a class="idref" href="Hoare3.html#03f86bc26ea6bf4494eb49e11860d2a<sub>4</sub>"><span class="id" title="variable">σ</span></a> (<a class="idref" href="Hoare3.html#substitute_bexp"><span class="id" title="definition">substitute_bexp</span></a> <a class="idref" href="Hoare3.html#x:113"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#ax:114"><span class="id" title="variable">ax</span></a> <a class="idref" href="Hoare3.html#b:115"><span class="id" title="variable">b</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">ax</span> <span class="id" title="var">b</span> σ <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Hoare3.html#substitute_aexp_aeval"><span class="id" title="lemma">substitute_aexp_aeval</span></a> <span class="id" title="var">x</span> <span class="id" title="var">ax</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Hoare3.html#substitute_aexp_aeval"><span class="id" title="lemma">substitute_aexp_aeval</span></a> <span class="id" title="var">x</span> <span class="id" title="var">ax</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Hoare3.html#substitute_aexp_aeval"><span class="id" title="lemma">substitute_aexp_aeval</span></a> <span class="id" title="var">x</span> <span class="id" title="var">ax</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Hoare3.html#substitute_aexp_aeval"><span class="id" title="lemma">substitute_aexp_aeval</span></a> <span class="id" title="var">x</span> <span class="id" title="var">ax</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHb</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHb1</span>, <span class="id" title="var">IHb2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="substitute_bexp_semantic" class="idref" href="#substitute_bexp_semantic"><span class="id" title="lemma">substitute_bexp_semantic</span></a> : <span class="id" title="keyword">∀</span> (<a id="x:118" class="idref" href="#x:118"><span class="id" title="binder">x</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) <a id="ax:119" class="idref" href="#ax:119"><span class="id" title="binder">ax</span></a> <a id="b:120" class="idref" href="#b:120"><span class="id" title="binder">b</span></a>,<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="6954d5c2e51d8ac5bcf7341b9ce1d94f" class="idref" href="#6954d5c2e51d8ac5bcf7341b9ce1d94f"><span class="id" title="binder">σ</span></a> (<a id="EQ:122" class="idref" href="#EQ:122"><span class="id" title="binder">EQ</span></a>: <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">ℑ</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">x</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟧</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">a</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">σ</span></a> <span class="id" title="notation">≈</span> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">ℑ</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">ax</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟧</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">a</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">σ</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">ℑ</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">b</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟧</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">b</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">σ</span></a> <span class="id" title="notation">≈</span> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">ℑ</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">substitute_bexp</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">x</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">ax</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">b</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟧</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">b</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">ax</span> <span class="id" title="var">a</span> σ <span class="id" title="var">HEQ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Hoare3.html#bexp_eval_semantics"><span class="id" title="lemma">bexp_eval_semantics</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Hoare3.html#substitute_bexp_beval"><span class="id" title="lemma">substitute_bexp_beval</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Hoare3.html#aexp_eval_semantics2"><span class="id" title="lemma">aexp_eval_semantics2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Fixpoint</span> <a id="contains" class="idref" href="#contains"><span class="id" title="definition">contains</span></a> (<a id="x:123" class="idref" href="#x:123"><span class="id" title="binder">x</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="a:124" class="idref" href="#a:124"><span class="id" title="binder">a</span></a>:<a class="idref" href="Imp.html#aexp"><span class="id" title="inductive">aexp</span></a>) : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Hoare3.html#a:124"><span class="id" title="variable">a</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#ANum"><span class="id" title="constructor">ANum</span></a> <span class="id" title="var">n</span> ⇒ <a class="idref" href="Imp.html#:::'false'"><span class="id" title="notation">false</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#AId"><span class="id" title="constructor">AId</span></a> <span class="id" title="var">y</span> ⇒ <a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb"><span class="id" title="definition">String.eqb</span></a> <span class="id" title="var">y</span> <a class="idref" href="Hoare3.html#x:123"><span class="id" title="variable">x</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">a<sub>1</sub></span> <a class="idref" href="Imp.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> <span class="id" title="var">a<sub>2</sub></span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒ (<a class="idref" href="Hoare3.html#contains:125"><span class="id" title="definition">contains</span></a> <a class="idref" href="Hoare3.html#x:123"><span class="id" title="variable">x</span></a> <span class="id" title="var">a<sub>1</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="Hoare3.html#contains:125"><span class="id" title="definition">contains</span></a> <a class="idref" href="Hoare3.html#x:123"><span class="id" title="variable">x</span></a> <span class="id" title="var">a<sub>2</sub></span>)%<span class="id" title="var">bool</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">a<sub>1</sub></span> <a class="idref" href="Imp.html#:com::x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">a<sub>2</sub></span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒ (<a class="idref" href="Hoare3.html#contains:125"><span class="id" title="definition">contains</span></a> <a class="idref" href="Hoare3.html#x:123"><span class="id" title="variable">x</span></a> <span class="id" title="var">a<sub>1</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="Hoare3.html#contains:125"><span class="id" title="definition">contains</span></a> <a class="idref" href="Hoare3.html#x:123"><span class="id" title="variable">x</span></a> <span class="id" title="var">a<sub>2</sub></span>)%<span class="id" title="var">bool</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">a<sub>1</sub></span> <a class="idref" href="Imp.html#a73c7b35e67094dc8ae672f3a93da066"><span class="id" title="notation">×</span></a> <span class="id" title="var">a<sub>2</sub></span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒ (<a class="idref" href="Hoare3.html#contains:125"><span class="id" title="definition">contains</span></a> <a class="idref" href="Hoare3.html#x:123"><span class="id" title="variable">x</span></a> <span class="id" title="var">a<sub>1</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="Hoare3.html#contains:125"><span class="id" title="definition">contains</span></a> <a class="idref" href="Hoare3.html#x:123"><span class="id" title="variable">x</span></a> <span class="id" title="var">a<sub>2</sub></span>)%<span class="id" title="var">bool</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="contains_false_equiv" class="idref" href="#contains_false_equiv"><span class="id" title="lemma">contains_false_equiv</span></a>: <span class="id" title="keyword">∀</span> (<a id="y:127" class="idref" href="#y:127"><span class="id" title="binder">y</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) <a id="a:128" class="idref" href="#a:128"><span class="id" title="binder">a</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Hoare3.html#contains"><span class="id" title="definition">contains</span></a> <a class="idref" href="Hoare3.html#y:127"><span class="id" title="variable">y</span></a> <a class="idref" href="Hoare3.html#a:128"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp.html#:::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="be7d724cef42ede231da03c6b84e5996" class="idref" href="#be7d724cef42ede231da03c6b84e5996"><span class="id" title="binder">σ</span></a>:<a class="idref" href="Imp.html#state"><span class="id" title="definition">state</span></a>) <a id="n:130" class="idref" href="#n:130"><span class="id" title="binder">n</span></a>, <a class="idref" href="Imp.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="Hoare3.html#be7d724cef42ede231da03c6b84e5996"><span class="id" title="variable">σ</span></a> <a class="idref" href="Hoare3.html#a:128"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp.html#aeval"><span class="id" title="definition">aeval</span></a> ( <a class="idref" href="Hoare3.html#y:127"><span class="id" title="variable">y</span></a> <a class="idref" href="Maps.html#630986d105c0f1782d085b9a306379a<sub>7</sub>"><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span></a> <a class="idref" href="Hoare3.html#n:130"><span class="id" title="variable">n</span></a> <a class="idref" href="Maps.html#630986d105c0f1782d085b9a306379a<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Hoare3.html#be7d724cef42ede231da03c6b84e5996"><span class="id" title="variable">σ</span></a> ) <a class="idref" href="Hoare3.html#a:128"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">HC</span> σ <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">HC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Maps.html#t_update_neq"><span class="id" title="axiom">t_update_neq</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Bool.Bool.html#orb_false_elim"><span class="id" title="lemma">Bool.orb_false_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">HC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HC</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HA<sub>1</sub></span> <span class="id" title="var">HA<sub>2</sub></span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Bool.Bool.html#orb_false_elim"><span class="id" title="lemma">Bool.orb_false_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">HC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HC</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HA<sub>1</sub></span> <span class="id" title="var">HA<sub>2</sub></span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Bool.Bool.html#orb_false_elim"><span class="id" title="lemma">Bool.orb_false_elim</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">HC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HC</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HA<sub>1</sub></span> <span class="id" title="var">HA<sub>2</sub></span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
Because commands are not pure, we can't blindly substitute. 
</div>
<div class="code">

<span class="id" title="keyword">Fixpoint</span> <a id="substitute_com" class="idref" href="#substitute_com"><span class="id" title="definition">substitute_com</span></a> (<a id="x:131" class="idref" href="#x:131"><span class="id" title="binder">x</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="ax:132" class="idref" href="#ax:132"><span class="id" title="binder">ax</span></a>:<a class="idref" href="Imp.html#aexp"><span class="id" title="inductive">aexp</span></a>) (<a id="c:133" class="idref" href="#c:133"><span class="id" title="binder">c</span></a>:<a class="idref" href="Imp.html#com"><span class="id" title="inductive">com</span></a>) : (<a class="idref" href="Imp.html#com"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac<sub>4</sub>"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Hoare3.html#c:133"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Hoare3.html#c:133"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Imp.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">y</span> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">a</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="a':136" class="idref" href="#a':136"><span class="id" title="binder">a'</span></a> := <a class="idref" href="Hoare3.html#substitute_aexp"><span class="id" title="definition">substitute_aexp</span></a> <a class="idref" href="Hoare3.html#x:131"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#ax:132"><span class="id" title="variable">ax</span></a> <span class="id" title="var">a</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">y</span> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="Hoare3.html#a':136"><span class="id" title="variable">a'</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> ((<span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#5886275aa8d678ebe8bc38ad41c652c<sub>0</sub>"><span class="id" title="notation">=?</span></a> <a class="idref" href="Hoare3.html#x:131"><span class="id" title="variable">x</span></a>)%<span class="id" title="var">string</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="Hoare3.html#contains"><span class="id" title="definition">contains</span></a> <span class="id" title="var">y</span> <a class="idref" href="Hoare3.html#ax:132"><span class="id" title="variable">ax</span></a>)%<span class="id" title="var">bool</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">c<sub>1</sub></span> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <span class="id" title="var">c<sub>2</sub></span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">c<sub>1</sub>'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">stop</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="Hoare3.html#substitute_com:134"><span class="id" title="definition">substitute_com</span></a> <a class="idref" href="Hoare3.html#x:131"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#ax:132"><span class="id" title="variable">ax</span></a> <span class="id" title="var">c<sub>1</sub></span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="var">stop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">c<sub>1</sub>'</span> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <span class="id" title="var">c<sub>2</sub></span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">stop</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">c<sub>2</sub>'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">stop</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="Hoare3.html#substitute_com:134"><span class="id" title="definition">substitute_com</span></a> <a class="idref" href="Hoare3.html#x:131"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#ax:132"><span class="id" title="variable">ax</span></a> <span class="id" title="var">c<sub>2</sub></span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">c<sub>1</sub>'</span> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <span class="id" title="var">c<sub>2</sub>'</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">stop</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <span class="id" title="var">b</span> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <span class="id" title="var">c<sub>1</sub></span> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <span class="id" title="var">c<sub>2</sub></span> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">c<sub>1</sub>'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">stop1</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="Hoare3.html#substitute_com:134"><span class="id" title="definition">substitute_com</span></a> <a class="idref" href="Hoare3.html#x:131"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#ax:132"><span class="id" title="variable">ax</span></a> <span class="id" title="var">c<sub>1</sub></span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">c<sub>2</sub>'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">stop2</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="Hoare3.html#substitute_com:134"><span class="id" title="definition">substitute_com</span></a> <a class="idref" href="Hoare3.html#x:131"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#ax:132"><span class="id" title="variable">ax</span></a> <span class="id" title="var">c<sub>2</sub></span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Hoare3.html#substitute_bexp"><span class="id" title="definition">substitute_bexp</span></a> <a class="idref" href="Hoare3.html#x:131"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#ax:132"><span class="id" title="variable">ax</span></a> <span class="id" title="var">b</span><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <span class="id" title="var">c<sub>1</sub>'</span> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <span class="id" title="var">c<sub>2</sub>'</span> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> (<span class="id" title="var">stop1</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <span class="id" title="var">stop2</span>)%<span class="id" title="var">bool</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <span class="id" title="var">b</span> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <span class="id" title="var">c</span> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">c'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">stop</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="Hoare3.html#substitute_com:134"><span class="id" title="definition">substitute_com</span></a> <a class="idref" href="Hoare3.html#x:131"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#ax:132"><span class="id" title="variable">ax</span></a> <a class="idref" href="Hoare3.html#c:133"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="var">stop</span> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <span class="id" title="var">b</span> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="Hoare3.html#c:133"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Imp.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Hoare3.html#substitute_bexp"><span class="id" title="definition">substitute_bexp</span></a> <a class="idref" href="Hoare3.html#x:131"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#ax:132"><span class="id" title="variable">ax</span></a> <span class="id" title="var">b</span><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <span class="id" title="var">c'</span> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Imp.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
</div>

<div class="doc">
Examples of when it is OK (or not) to substitute: 
</div>
<div class="code">
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="keyword">in</span> <a class="idref" href="Hoare3.html#substitute_com"><span class="id" title="definition">substitute_com</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> 0 <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#Z"><span class="id" title="definition">Z</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 3<a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="keyword">in</span> <a class="idref" href="Hoare3.html#substitute_com"><span class="id" title="definition">substitute_com</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> 0 <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 3<a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
</div>

<div class="doc">
Define an invariant that says when we can safely substitute the
expression  &lt;{ ax }&gt; for &lt;{ x }&gt; in a state σ.  
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="subst_invariant" class="idref" href="#subst_invariant"><span class="id" title="definition">subst_invariant</span></a> <a id="x:137" class="idref" href="#x:137"><span class="id" title="binder">x</span></a> <a id="ax:138" class="idref" href="#ax:138"><span class="id" title="binder">ax</span></a> <a id="e515168a4ed37059c2e6cbaf981dc537" class="idref" href="#e515168a4ed37059c2e6cbaf981dc537"><span class="id" title="binder">σ</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Imp.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="Hoare3.html#e515168a4ed37059c2e6cbaf981dc537"><span class="id" title="variable">σ</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Hoare3.html#x:137"><span class="id" title="variable">x</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="Hoare3.html#e515168a4ed37059c2e6cbaf981dc537"><span class="id" title="variable">σ</span></a> <a class="idref" href="Hoare3.html#ax:138"><span class="id" title="variable">ax</span></a>.<br/>
</div>

<div class="doc">
Define the relational post condition for reasoning about the
results of substitution. 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="post_condition" class="idref" href="#post_condition"><span class="id" title="definition">post_condition</span></a> <a id="x:140" class="idref" href="#x:140"><span class="id" title="binder">x</span></a> <a id="ax:141" class="idref" href="#ax:141"><span class="id" title="binder">ax</span></a> <a id="b:142" class="idref" href="#b:142"><span class="id" title="binder">b</span></a> (<a id="df10cf42e516fb5c8df55a8b58cb7d<sub>95</sub>" class="idref" href="#df10cf42e516fb5c8df55a8b58cb7d<sub>95</sub>"><span class="id" title="binder">σ</span></a>:<a class="idref" href="Imp.html#state"><span class="id" title="definition">state</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="110ceb04f0d94037971805e42bd63679" class="idref" href="#110ceb04f0d94037971805e42bd63679"><span class="id" title="binder">σ1</span></a> <a id="b1668652fa0d756907c065a3fd5c1fa<sub>0</sub>" class="idref" href="#b1668652fa0d756907c065a3fd5c1fa<sub>0</sub>"><span class="id" title="binder">σ2</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Hoare3.html#110ceb04f0d94037971805e42bd63679"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Hoare3.html#b1668652fa0d756907c065a3fd5c1fa<sub>0</sub>"><span class="id" title="variable">σ2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="Hoare3.html#b:142"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp.html#:::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Hoare3.html#110ceb04f0d94037971805e42bd63679"><span class="id" title="variable">σ1</span></a> <a class="idref" href="Hoare3.html#x:140"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Hoare3.html#df10cf42e516fb5c8df55a8b58cb7d<sub>95</sub>"><span class="id" title="variable">σ</span></a> <a class="idref" href="Hoare3.html#x:140"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="Imp.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="Hoare3.html#df10cf42e516fb5c8df55a8b58cb7d<sub>95</sub>"><span class="id" title="variable">σ</span></a> <a class="idref" href="Hoare3.html#ax:141"><span class="id" title="variable">ax</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="Hoare3.html#110ceb04f0d94037971805e42bd63679"><span class="id" title="variable">σ1</span></a> <a class="idref" href="Hoare3.html#ax:141"><span class="id" title="variable">ax</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="Hoare3.html#subst_invariant"><span class="id" title="definition">subst_invariant</span></a> <a class="idref" href="Hoare3.html#x:140"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#ax:141"><span class="id" title="variable">ax</span></a> <a class="idref" href="Hoare3.html#110ceb04f0d94037971805e42bd63679"><span class="id" title="variable">σ1</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/><hr class='doublespaceincode'/>
#[<span class="id" title="var">local</span>]<br/>
&nbsp;<span class="id" title="keyword">Instance</span> <a id="post_condition_refl" class="idref" href="#post_condition_refl"><span class="id" title="instance">post_condition_refl</span></a> : <span class="id" title="keyword">∀</span> <a id="x:146" class="idref" href="#x:146"><span class="id" title="binder">x</span></a> <a id="ax:147" class="idref" href="#ax:147"><span class="id" title="binder">ax</span></a> <a id="7b4d6d22c186b7ac935f11fd351d6d8b" class="idref" href="#7b4d6d22c186b7ac935f11fd351d6d8b"><span class="id" title="binder">σ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Classes.RelationClasses.html#Reflexive"><span class="id" title="class">Reflexive</span></a> (<a class="idref" href="Hoare3.html#post_condition"><span class="id" title="definition">post_condition</span></a> <a class="idref" href="Hoare3.html#x:146"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#ax:147"><span class="id" title="variable">ax</span></a> <a class="idref" href="Imp.html#:::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="Hoare3.html#7b4d6d22c186b7ac935f11fd351d6d8b"><span class="id" title="variable">σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Hoare3.html#post_condition"><span class="id" title="definition">post_condition</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="post_condition_mono" class="idref" href="#post_condition_mono"><span class="id" title="lemma">post_condition_mono</span></a> : <span class="id" title="keyword">∀</span> <a id="x:149" class="idref" href="#x:149"><span class="id" title="binder">x</span></a> <a id="ax:150" class="idref" href="#ax:150"><span class="id" title="binder">ax</span></a> <a id="b0d9d0fc02bdc0e438dae79bcde3dc<sub>87</sub>" class="idref" href="#b0d9d0fc02bdc0e438dae79bcde3dc<sub>87</sub>"><span class="id" title="binder">σ</span></a> <a id="st<sub>1</sub>:152" class="idref" href="#st<sub>1</sub>:152"><span class="id" title="binder">st<sub>1</sub></span></a> <a id="st<sub>2</sub>:153" class="idref" href="#st<sub>2</sub>:153"><span class="id" title="binder">st<sub>2</sub></span></a> <a id="b<sub>1</sub>:154" class="idref" href="#b<sub>1</sub>:154"><span class="id" title="binder">b<sub>1</sub></span></a> <a id="b<sub>2</sub>:155" class="idref" href="#b<sub>2</sub>:155"><span class="id" title="binder">b<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Hoare3.html#b<sub>1</sub>:154"><span class="id" title="variable">b<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp.html#:::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Hoare3.html#b<sub>2</sub>:155"><span class="id" title="variable">b<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Hoare3.html#post_condition"><span class="id" title="definition">post_condition</span></a> <a class="idref" href="Hoare3.html#x:149"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#ax:150"><span class="id" title="variable">ax</span></a> <a class="idref" href="Hoare3.html#b<sub>1</sub>:154"><span class="id" title="variable">b<sub>1</sub></span></a> <a class="idref" href="Hoare3.html#b0d9d0fc02bdc0e438dae79bcde3dc<sub>87</sub>"><span class="id" title="variable">σ</span></a> <a class="idref" href="Hoare3.html#st<sub>1</sub>:152"><span class="id" title="variable">st<sub>1</sub></span></a> <a class="idref" href="Hoare3.html#st<sub>2</sub>:153"><span class="id" title="variable">st<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Hoare3.html#post_condition"><span class="id" title="definition">post_condition</span></a> <a class="idref" href="Hoare3.html#x:149"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#ax:150"><span class="id" title="variable">ax</span></a> <a class="idref" href="Hoare3.html#b<sub>2</sub>:155"><span class="id" title="variable">b<sub>2</sub></span></a> <a class="idref" href="Hoare3.html#b0d9d0fc02bdc0e438dae79bcde3dc<sub>87</sub>"><span class="id" title="variable">σ</span></a> <a class="idref" href="Hoare3.html#st<sub>1</sub>:152"><span class="id" title="variable">st<sub>1</sub></span></a> <a class="idref" href="Hoare3.html#st<sub>2</sub>:153"><span class="id" title="variable">st<sub>2</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Hoare3.html#post_condition"><span class="id" title="definition">post_condition</span></a> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">b<sub>1</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>0</sub></span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>0</sub></span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H<sub>2</sub></span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">b<sub>1</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>0</sub></span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>0</sub></span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H<sub>2</sub></span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Hoare3.html#subst_invariant"><span class="id" title="definition">subst_invariant</span></a> <span class="id" title="keyword">in</span> ×. <span class="id" title="tactic">destruct</span> <span class="id" title="var">b<sub>1</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>3</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intuition</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="substitute_com_correct1" class="idref" href="#substitute_com_correct1"><span class="id" title="lemma">substitute_com_correct1</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:156" class="idref" href="#x:156"><span class="id" title="binder">x</span></a> <a id="ax:157" class="idref" href="#ax:157"><span class="id" title="binder">ax</span></a> <a id="c:158" class="idref" href="#c:158"><span class="id" title="binder">c</span></a> <a id="c':159" class="idref" href="#c':159"><span class="id" title="binder">c'</span></a> <a id="b:160" class="idref" href="#b:160"><span class="id" title="binder">b</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="HS:161" class="idref" href="#HS:161"><span class="id" title="binder">HS</span></a>: <a class="idref" href="Hoare3.html#substitute_com"><span class="id" title="definition">substitute_com</span></a> <a class="idref" href="Hoare3.html#x:156"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#ax:157"><span class="id" title="variable">ax</span></a> <a class="idref" href="Hoare3.html#c:158"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Hoare3.html#c':159"><span class="id" title="variable">c'</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Hoare3.html#b:160"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="6d733b1b659b1451b713428138e97350" class="idref" href="#6d733b1b659b1451b713428138e97350"><span class="id" title="binder">σ</span></a> (<a id="P:163" class="idref" href="#P:163"><span class="id" title="binder">P</span></a>: <a class="idref" href="Hoare3.html#subst_invariant"><span class="id" title="definition">subst_invariant</span></a> <a class="idref" href="Hoare3.html#x:156"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#ax:157"><span class="id" title="variable">ax</span></a> <a class="idref" href="Hoare3.html#6d733b1b659b1451b713428138e97350"><span class="id" title="variable">σ</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">eutt</span> (<span class="id" title="record">prod_rel</span> (<a class="idref" href="Hoare3.html#post_condition"><span class="id" title="definition">post_condition</span></a> <a class="idref" href="Hoare3.html#x:156"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#ax:157"><span class="id" title="variable">ax</span></a> <a class="idref" href="Hoare3.html#b:160"><span class="id" title="variable">b</span></a> <a class="idref" href="Hoare3.html#6d733b1b659b1451b713428138e97350"><span class="id" title="variable">σ</span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">ℑ</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟦</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">c</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟧</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">σ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">ℑ</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟦</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">c'</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟧</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">ax</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HS</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HS</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="lemma">eutt_Ret</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Hoare3.html#post_condition"><span class="id" title="definition">post_condition</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="lemma">eutt_Ret</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Hoare3.html#substitute_aexp_aeval"><span class="id" title="lemma">substitute_aexp_aeval</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> <span class="id" title="var">x<sub>0</sub></span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Bool.Bool.html#orb_false_l"><span class="id" title="lemma">Bool.orb_false_l</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Hoare3.html#subst_invariant"><span class="id" title="definition">subst_invariant</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Maps.html#t_update_neq"><span class="id" title="axiom">t_update_neq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="Hoare3.html#contains_false_equiv"><span class="id" title="lemma">contains_false_equiv</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Bool.Bool.html#orb_false_l"><span class="id" title="lemma">Bool.orb_false_l</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Hoare3.html#subst_invariant"><span class="id" title="definition">subst_invariant</span></a> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="Hoare3.html#contains_false_equiv"><span class="id" title="lemma">contains_false_equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="Hoare3.html#contains_false_equiv"><span class="id" title="lemma">contains_false_equiv</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb_neq"><span class="id" title="lemma">eqb_neq</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="Hoare3.html#substitute_com"><span class="id" title="definition">substitute_com</span></a> <span class="id" title="var">x</span> <span class="id" title="var">ax</span> <span class="id" title="var">c<sub>1</sub></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHc1</span> <span class="id" title="var">c</span> <span class="id" title="var">b<sub>0</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> σ <span class="id" title="var">P</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b<sub>0</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">HS</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">eutt_clo_bind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHc1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">u<sub>1</sub></span> <span class="id" title="var">u<sub>2</sub></span> <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">u<sub>1</sub></span>, <span class="id" title="var">u<sub>2</sub></span>, <span class="id" title="var">u</span>, <span class="id" title="var">u<sub>0</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HP</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HM</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HM</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="Hoare3.html#substitute_com"><span class="id" title="definition">substitute_com</span></a> <span class="id" title="var">x</span> <span class="id" title="var">ax</span> <span class="id" title="var">c<sub>2</sub></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">HS</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">eutt_clo_bind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHc1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">u<sub>1</sub></span> <span class="id" title="var">u<sub>2</sub></span> <span class="id" title="var">HP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">u<sub>1</sub></span>, <span class="id" title="var">u<sub>2</sub></span>, <span class="id" title="var">u</span>, <span class="id" title="var">u<sub>0</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HP</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">HM</span> <span class="id" title="var">H</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HM</span> <span class="id" title="var">HE</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HE</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HE</span> <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHc2</span> <span class="id" title="var">c<sub>0</sub></span> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">m<sub>0</sub></span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">eutt_subrel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">apply</span> <span class="id" title="var">IHc2</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Hoare3.html#post_condition"><span class="id" title="definition">post_condition</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>1</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>1</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>, <span class="id" title="var">u</span>, <span class="id" title="var">b<sub>0</sub></span>, <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Hoare3.html#post_condition"><span class="id" title="definition">post_condition</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="Hoare3.html#substitute_com"><span class="id" title="definition">substitute_com</span></a> <span class="id" title="var">x</span> <span class="id" title="var">ax</span> <span class="id" title="var">c<sub>1</sub></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Hoare3.html#substitute_com"><span class="id" title="definition">substitute_com</span></a> <span class="id" title="var">x</span> <span class="id" title="var">ax</span> <span class="id" title="var">c<sub>2</sub></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">HS</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Hoare3.html#substitute_bexp_beval"><span class="id" title="lemma">substitute_bexp_beval</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Imp.html#beval"><span class="id" title="definition">beval</span></a> σ <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">eutt_subrel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHc1</span>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Hoare3.html#post_condition_mono"><span class="id" title="lemma">post_condition_mono</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">eutt_subrel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">apply</span> <span class="id" title="var">IHc2</span>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Hoare3.html#post_condition_mono"><span class="id" title="lemma">post_condition_mono</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="Hoare3.html#substitute_com"><span class="id" title="definition">substitute_com</span></a> <span class="id" title="var">x</span> <span class="id" title="var">ax</span> <span class="id" title="var">c</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b<sub>1</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">HS</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">HS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">HS</span> <span class="id" title="var">H<sub>0</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHc</span> <span class="id" title="var">c<sub>0</sub></span> <a class="idref" href="Imp.html#:::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">eutt_subrel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 : { <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">eutt_interp_state_iter</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">RS</span> := <a class="idref" href="Hoare3.html#post_condition"><span class="id" title="definition">post_condition</span></a> <span class="id" title="var">x</span> <span class="id" title="var">ax</span> <a class="idref" href="Imp.html#:::'false'"><span class="id" title="notation">false</span></a> σ)(<span class="id" title="var">RA</span> := <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>)(<span class="id" title="var">RB</span> := <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Hoare3.html#subst_invariant"><span class="id" title="definition">subst_invariant</span></a> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">norm</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Hoare3.html#substitute_bexp_beval"><span class="id" title="lemma">substitute_bexp_beval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Hoare3.html#post_condition"><span class="id" title="definition">post_condition</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Hoare3.html#subst_invariant"><span class="id" title="definition">subst_invariant</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>3</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Imp.html#beval"><span class="id" title="definition">beval</span></a> <span class="id" title="var">s<sub>2</sub></span> <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">eutt_clo_bind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHc</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">norm</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">u<sub>1</sub></span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">u<sub>2</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">eutt_Ret</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="constructor">prod_morphism</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="projection">fst_rel</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>0</sub></span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>0</sub></span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Hoare3.html#post_condition"><span class="id" title="definition">post_condition</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>0</sub></span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Hoare3.html#post_condition"><span class="id" title="definition">post_condition</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="projection">snd_rel</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>0</sub></span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">cbn</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>0</sub></span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">norm</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">eutt_Ret</span>. <span class="id" title="tactic">apply</span> <span class="id" title="constructor">prod_morphism</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Hoare3.html#post_condition"><span class="id" title="definition">post_condition</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Hoare3.html#post_condition"><span class="id" title="definition">post_condition</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Hoare3.html#subst_invariant"><span class="id" title="definition">subst_invariant</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>3</sub></span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Hoare3.html#subst_invariant"><span class="id" title="definition">subst_invariant</span></a> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Hoare3.html#post_condition"><span class="id" title="definition">post_condition</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>, <span class="id" title="var">b<sub>0</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="constructor">prod_morphism</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">intuition</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intuition</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Fixpoint</span> <a id="com_append" class="idref" href="#com_append"><span class="id" title="definition">com_append</span></a> (<a id="c<sub>1</sub>:164" class="idref" href="#c<sub>1</sub>:164"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:165" class="idref" href="#c<sub>2</sub>:165"><span class="id" title="binder">c<sub>2</sub></span></a> : <a class="idref" href="Imp.html#com"><span class="id" title="inductive">com</span></a>) : <a class="idref" href="Imp.html#com"><span class="id" title="inductive">com</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Hoare3.html#c<sub>1</sub>:164"><span class="id" title="variable">c<sub>1</sub></span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒ <a class="idref" href="Hoare3.html#c<sub>2</sub>:165"><span class="id" title="variable">c<sub>2</sub></span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">c<sub>11</sub></span> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <span class="id" title="var">c<sub>12</sub></span><a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒ <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">c<sub>11</sub></span> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Hoare3.html#com_append:166"><span class="id" title="definition">com_append</span></a> <span class="id" title="var">c<sub>12</sub></span> <a class="idref" href="Hoare3.html#c<sub>2</sub>:165"><span class="id" title="variable">c<sub>2</sub></span></a><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Hoare3.html#c<sub>1</sub>:164"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Hoare3.html#c<sub>2</sub>:165"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="comment">(*&nbsp;TODO:&nbsp;This&nbsp;proof&nbsp;can&nbsp;be&nbsp;cleaned&nbsp;up&nbsp;using&nbsp;ImpEquiv&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="com_append_correct" class="idref" href="#com_append_correct"><span class="id" title="lemma">com_append_correct</span></a> : <span class="id" title="keyword">∀</span> <a id="c<sub>1</sub>:168" class="idref" href="#c<sub>1</sub>:168"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:169" class="idref" href="#c<sub>2</sub>:169"><span class="id" title="binder">c<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Hoare3.html#com_append"><span class="id" title="definition">com_append</span></a> <a class="idref" href="Hoare3.html#c<sub>1</sub>:168"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="Hoare3.html#c<sub>2</sub>:169"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="ImpEquiv.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Hoare3.html#c<sub>1</sub>:168"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Hoare3.html#c<sub>2</sub>:169"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">c<sub>1</sub></span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">c<sub>2</sub></span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ImpEquiv.html#skipL_sound"><span class="id" title="lemma">skipL_sound</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ImpEquiv.html#seqA_sound"><span class="id" title="lemma">seqA_sound</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc1_2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
#[<span class="id" title="var">global</span>]<br/>
&nbsp;<span class="id" title="keyword">Instance</span> <a id="Proper_com_append" class="idref" href="#Proper_com_append"><span class="id" title="instance">Proper_com_append</span></a>: <a class="idref" href="http://coq.inria.fr/library//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="ImpEquiv.html#com_eq"><span class="id" title="definition">com_eq</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="ImpEquiv.html#com_eq"><span class="id" title="definition">com_eq</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="ImpEquiv.html#com_eq"><span class="id" title="definition">com_eq</span></a>) <a class="idref" href="Hoare3.html#com_append"><span class="id" title="definition">com_append</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">c<sub>11</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c<sub>11</sub></span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">c<sub>12</sub></span> <span class="id" title="var">EQ<sub>1</sub></span> <span class="id" title="var">c<sub>21</sub></span> <span class="id" title="var">c<sub>22</sub></span> <span class="id" title="var">EQ<sub>2</sub></span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Hoare3.html#com_append_correct"><span class="id" title="lemma">com_append_correct</span></a>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EQ<sub>1</sub></span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ImpEquiv.html#skipL_sound"><span class="id" title="lemma">skipL_sound</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">EQ<sub>1</sub></span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Hoare3.html#com_append_correct"><span class="id" title="lemma">com_append_correct</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">EQ<sub>2</sub></span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Hoare3.html#com_append_correct"><span class="id" title="lemma">com_append_correct</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Hoare3.html#com_append_correct"><span class="id" title="lemma">com_append_correct</span></a>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EQ<sub>1</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ImpEquiv.html#seqA_sound"><span class="id" title="lemma">seqA_sound</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">EQ<sub>2</sub></span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Hoare3.html#com_append_correct"><span class="id" title="lemma">com_append_correct</span></a>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EQ<sub>1</sub></span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">EQ<sub>2</sub></span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Hoare3.html#com_append_correct"><span class="id" title="lemma">com_append_correct</span></a>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EQ<sub>1</sub></span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">EQ<sub>2</sub></span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Fixpoint</span> <a id="com_assocR" class="idref" href="#com_assocR"><span class="id" title="definition">com_assocR</span></a> <a id="c:170" class="idref" href="#c:170"><span class="id" title="binder">c</span></a> : <a class="idref" href="Imp.html#com"><span class="id" title="inductive">com</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Hoare3.html#c:170"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒ <a class="idref" href="Hoare3.html#c:170"><span class="id" title="variable">c</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">y</span> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">a</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒ <a class="idref" href="Hoare3.html#c:170"><span class="id" title="variable">c</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">c<sub>1</sub></span> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <span class="id" title="var">c<sub>2</sub></span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c<sub>1</sub>':173" class="idref" href="#c<sub>1</sub>':173"><span class="id" title="binder">c<sub>1</sub>'</span></a> := <a class="idref" href="Hoare3.html#com_assocR:171"><span class="id" title="definition">com_assocR</span></a> <span class="id" title="var">c<sub>1</sub></span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c<sub>2</sub>':174" class="idref" href="#c<sub>2</sub>':174"><span class="id" title="binder">c<sub>2</sub>'</span></a> := <a class="idref" href="Hoare3.html#com_assocR:171"><span class="id" title="definition">com_assocR</span></a> <span class="id" title="var">c<sub>2</sub></span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Hoare3.html#com_append"><span class="id" title="definition">com_append</span></a> <a class="idref" href="Hoare3.html#c<sub>1</sub>':173"><span class="id" title="variable">c<sub>1</sub>'</span></a> <a class="idref" href="Hoare3.html#c<sub>2</sub>':174"><span class="id" title="variable">c<sub>2</sub>'</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <span class="id" title="var">b</span> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <span class="id" title="var">c<sub>1</sub></span> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <span class="id" title="var">c<sub>2</sub></span> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c<sub>1</sub>':175" class="idref" href="#c<sub>1</sub>':175"><span class="id" title="binder">c<sub>1</sub>'</span></a> := <a class="idref" href="Hoare3.html#com_assocR:171"><span class="id" title="definition">com_assocR</span></a> <span class="id" title="var">c<sub>1</sub></span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c<sub>2</sub>':176" class="idref" href="#c<sub>2</sub>':176"><span class="id" title="binder">c<sub>2</sub>'</span></a> := <a class="idref" href="Hoare3.html#com_assocR:171"><span class="id" title="definition">com_assocR</span></a> <span class="id" title="var">c<sub>2</sub></span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <span class="id" title="var">b</span> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="Hoare3.html#c<sub>1</sub>':175"><span class="id" title="variable">c<sub>1</sub>'</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="Hoare3.html#c<sub>2</sub>':176"><span class="id" title="variable">c<sub>2</sub>'</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <span class="id" title="var">b</span> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <span class="id" title="var">c</span> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c':177" class="idref" href="#c':177"><span class="id" title="binder">c'</span></a> := <a class="idref" href="Hoare3.html#com_assocR:171"><span class="id" title="definition">com_assocR</span></a> <a class="idref" href="Hoare3.html#c:170"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <span class="id" title="var">b</span> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="Hoare3.html#c':177"><span class="id" title="variable">c'</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="com_assocR_correct" class="idref" href="#com_assocR_correct"><span class="id" title="lemma">com_assocR_correct</span></a> : <span class="id" title="keyword">∀</span> <a id="c:178" class="idref" href="#c:178"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Hoare3.html#c:178"><span class="id" title="variable">c</span></a> <a class="idref" href="ImpEquiv.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a> <a class="idref" href="Hoare3.html#com_assocR"><span class="id" title="definition">com_assocR</span></a> <a class="idref" href="Hoare3.html#c:178"><span class="id" title="variable">c</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHc1</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHc2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Hoare3.html#com_append_correct"><span class="id" title="lemma">com_append_correct</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHc1</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHc2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHc</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Fixpoint</span> <a id="propagate_com" class="idref" href="#propagate_com"><span class="id" title="definition">propagate_com</span></a> (<a id="c:179" class="idref" href="#c:179"><span class="id" title="binder">c</span></a>:<a class="idref" href="Imp.html#com"><span class="id" title="inductive">com</span></a>) : <a class="idref" href="Imp.html#com"><span class="id" title="inductive">com</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Hoare3.html#c:179"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒ <a class="idref" href="Hoare3.html#c:179"><span class="id" title="variable">c</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">y</span> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">a</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒ <a class="idref" href="Hoare3.html#c:179"><span class="id" title="variable">c</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">y</span> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">a</span> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <span class="id" title="var">c<sub>2</sub></span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c<sub>2</sub>':182" class="idref" href="#c<sub>2</sub>':182"><span class="id" title="binder">c<sub>2</sub>'</span></a> := <a class="idref" href="Hoare3.html#propagate_com:180"><span class="id" title="definition">propagate_com</span></a> <span class="id" title="var">c<sub>2</sub></span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Hoare3.html#contains"><span class="id" title="definition">contains</span></a> <span class="id" title="var">y</span> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">y</span> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">a</span> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Hoare3.html#c<sub>2</sub>':182"><span class="id" title="variable">c<sub>2</sub>'</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">y</span> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">a</span><a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a>  <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Imp.html#:com:com_scope:x_x_'..'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Hoare3.html#substitute_com"><span class="id" title="definition">substitute_com</span></a> <span class="id" title="var">y</span> <span class="id" title="var">a</span> <a class="idref" href="Hoare3.html#c<sub>2</sub>':182"><span class="id" title="variable">c<sub>2</sub>'</span></a><a class="idref" href="Imp.html#:com:com_scope:x_x_'..'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">c<sub>1</sub></span> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <span class="id" title="var">c<sub>2</sub></span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c<sub>1</sub>':183" class="idref" href="#c<sub>1</sub>':183"><span class="id" title="binder">c<sub>1</sub>'</span></a> := <a class="idref" href="Hoare3.html#propagate_com:180"><span class="id" title="definition">propagate_com</span></a> <span class="id" title="var">c<sub>1</sub></span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c<sub>2</sub>':184" class="idref" href="#c<sub>2</sub>':184"><span class="id" title="binder">c<sub>2</sub>'</span></a> := <a class="idref" href="Hoare3.html#propagate_com:180"><span class="id" title="definition">propagate_com</span></a> <span class="id" title="var">c<sub>2</sub></span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Hoare3.html#c<sub>1</sub>':183"><span class="id" title="variable">c<sub>1</sub>'</span></a> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Hoare3.html#c<sub>2</sub>':184"><span class="id" title="variable">c<sub>2</sub>'</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <span class="id" title="var">b</span> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <span class="id" title="var">c<sub>1</sub></span> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <span class="id" title="var">c<sub>2</sub></span> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c<sub>1</sub>':185" class="idref" href="#c<sub>1</sub>':185"><span class="id" title="binder">c<sub>1</sub>'</span></a> := <a class="idref" href="Hoare3.html#propagate_com:180"><span class="id" title="definition">propagate_com</span></a> <span class="id" title="var">c<sub>1</sub></span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c<sub>2</sub>':186" class="idref" href="#c<sub>2</sub>':186"><span class="id" title="binder">c<sub>2</sub>'</span></a> := <a class="idref" href="Hoare3.html#propagate_com:180"><span class="id" title="definition">propagate_com</span></a> <span class="id" title="var">c<sub>2</sub></span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a>  <span class="id" title="var">b</span> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="Hoare3.html#c<sub>1</sub>':185"><span class="id" title="variable">c<sub>1</sub>'</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="Hoare3.html#c<sub>2</sub>':186"><span class="id" title="variable">c<sub>2</sub>'</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <span class="id" title="var">b</span> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <span class="id" title="var">c</span> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c':187" class="idref" href="#c':187"><span class="id" title="binder">c'</span></a> := <a class="idref" href="Hoare3.html#propagate_com:180"><span class="id" title="definition">propagate_com</span></a> <a class="idref" href="Hoare3.html#c:179"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <span class="id" title="var">b</span> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="Hoare3.html#c':187"><span class="id" title="variable">c'</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="subst_invariant_good" class="idref" href="#subst_invariant_good"><span class="id" title="lemma">subst_invariant_good</span></a> : <span class="id" title="keyword">∀</span> (<a id="x:188" class="idref" href="#x:188"><span class="id" title="binder">x</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) <a id="a:189" class="idref" href="#a:189"><span class="id" title="binder">a</span></a> <a id="a6e4d683e55bf2b470c0972aeb840aae" class="idref" href="#a6e4d683e55bf2b470c0972aeb840aae"><span class="id" title="binder">σ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Hoare3.html#contains"><span class="id" title="definition">contains</span></a> <a class="idref" href="Hoare3.html#x:188"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#a:189"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp.html#:::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Hoare3.html#subst_invariant"><span class="id" title="definition">subst_invariant</span></a> <a class="idref" href="Hoare3.html#x:188"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#a:189"><span class="id" title="variable">a</span></a> (<a class="idref" href="Hoare3.html#x:188"><span class="id" title="variable">x</span></a> <a class="idref" href="Maps.html#630986d105c0f1782d085b9a306379a<sub>7</sub>"><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span></a> <a class="idref" href="Imp.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="Hoare3.html#a6e4d683e55bf2b470c0972aeb840aae"><span class="id" title="variable">σ</span></a> <a class="idref" href="Hoare3.html#a:189"><span class="id" title="variable">a</span></a><a class="idref" href="Maps.html#630986d105c0f1782d085b9a306379a<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Hoare3.html#a6e4d683e55bf2b470c0972aeb840aae"><span class="id" title="variable">σ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Hoare3.html#subst_invariant"><span class="id" title="definition">subst_invariant</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Hoare3.html#contains_false_equiv"><span class="id" title="lemma">contains_false_equiv</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Maps.html#t_update_eq"><span class="id" title="axiom">t_update_eq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="substitute_com_subst" class="idref" href="#substitute_com_subst"><span class="id" title="lemma">substitute_com_subst</span></a> : <span class="id" title="keyword">∀</span> <a id="c:191" class="idref" href="#c:191"><span class="id" title="binder">c</span></a> <a id="x:192" class="idref" href="#x:192"><span class="id" title="binder">x</span></a> <a id="a:193" class="idref" href="#a:193"><span class="id" title="binder">a</span></a> <a id="d24a3894a3fa91ebd48def69ccde14e<sub>4</sub>" class="idref" href="#d24a3894a3fa91ebd48def69ccde14e<sub>4</sub>"><span class="id" title="binder">σ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Hoare3.html#contains"><span class="id" title="definition">contains</span></a> <a class="idref" href="Hoare3.html#x:192"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#a:193"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp.html#:::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">ℑ</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">c</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟧</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">(</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">x</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">aeval</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">σ</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">a</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">;</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">σ)</span></a> <span class="id" title="notation">≈</span> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">ℑ</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟦</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">fst</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">(</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">substitute_com</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">x</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">a</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">c</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">)</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">⟧</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">(</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">x</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">aeval</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">σ</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">a</span></a><a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">;</span></a> <a class="idref" href="ImpDenotation.html#7e366676838614efda76d1a99485c90a"><span class="id" title="notation">σ)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Hoare3.html#substitute_com"><span class="id" title="definition">substitute_com</span></a> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">HS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Hoare3.html#substitute_com_correct1"><span class="id" title="lemma">substitute_com_correct1</span></a> <span class="id" title="keyword">with</span> (σ := (<span class="id" title="var">x</span> <a class="idref" href="Maps.html#630986d105c0f1782d085b9a306379a<sub>7</sub>"><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span></a> <a class="idref" href="Imp.html#aeval"><span class="id" title="definition">aeval</span></a> σ <span class="id" title="var">a</span><a class="idref" href="Maps.html#630986d105c0f1782d085b9a306379a<sub>7</sub>"><span class="id" title="notation">;</span></a> σ)) <span class="id" title="keyword">in</span> <span class="id" title="var">HS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">eutt_subrel</span>.<br/>
&nbsp;&nbsp;2: { <span class="id" title="tactic">apply</span> <span class="id" title="var">HS</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a<sub>0</sub></span>, <span class="id" title="var">u</span>, <span class="id" title="var">b<sub>0</sub></span>, <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>0</sub></span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>0</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Hoare3.html#post_condition"><span class="id" title="definition">post_condition</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">fst_rel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Hoare3.html#subst_invariant_good"><span class="id" title="lemma">subst_invariant_good</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="propagate_com_sound" class="idref" href="#propagate_com_sound"><span class="id" title="lemma">propagate_com_sound</span></a> : <span class="id" title="keyword">∀</span> <a id="c:195" class="idref" href="#c:195"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Hoare3.html#c:195"><span class="id" title="variable">c</span></a> <a class="idref" href="ImpEquiv.html#07441a5b1aff2e95834856beb1cf4a<sub>14</sub>"><span class="id" title="notation">≊</span></a> <a class="idref" href="ImpEquiv.html#07441a5b1aff2e95834856beb1cf4a<sub>14</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Hoare3.html#propagate_com"><span class="id" title="definition">propagate_com</span></a> <a class="idref" href="Hoare3.html#c:195"><span class="id" title="variable">c</span></a><a class="idref" href="ImpEquiv.html#07441a5b1aff2e95834856beb1cf4a<sub>14</sub>"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c<sub>1</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="Hoare3.html#contains"><span class="id" title="definition">contains</span></a> <span class="id" title="var">x</span> <span class="id" title="var">a</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Classes.RelationClasses.html#transitivity"><span class="id" title="definition">transitivity</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHc2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Hoare3.html#substitute_com_subst"><span class="id" title="lemma">substitute_com_subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHc1</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHc2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHc1</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHc1</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHc</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="example" class="idref" href="#example"><span class="id" title="definition">example</span></a> : <a class="idref" href="Imp.html#com"><span class="id" title="inductive">com</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 4 <a class="idref" href="Imp.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> 5<a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a><a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">((</span></a><a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#:com::x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a>2 <a class="idref" href="Imp.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> 4<a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">))</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a>0 <a class="idref" href="Imp.html#d43f15edd52d29ae8e0f90730a25ed5c"><span class="id" title="notation">≤</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a>4 <a class="idref" href="Imp.html#:com::x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a>2 <a class="idref" href="Imp.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> 1<a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)))</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> 0<a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="keyword">in</span> <a class="idref" href="ImpEquiv.html#fold_constants_com"><span class="id" title="definition">fold_constants_com</span></a> (<a class="idref" href="Hoare3.html#propagate_com"><span class="id" title="definition">propagate_com</span></a> <a class="idref" href="Hoare3.html#example"><span class="id" title="definition">example</span></a>).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Example</span> <a id="correct" class="idref" href="#correct"><span class="id" title="definition">correct</span></a>: <a class="idref" href="Hoare3.html#example"><span class="id" title="definition">example</span></a> <a class="idref" href="ImpEquiv.html#07441a5b1aff2e95834856beb1cf4a<sub>14</sub>"><span class="id" title="notation">≊</span></a> <a class="idref" href="ImpEquiv.html#07441a5b1aff2e95834856beb1cf4a<sub>14</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="ImpEquiv.html#fold_constants_com"><span class="id" title="definition">fold_constants_com</span></a> (<a class="idref" href="Hoare3.html#propagate_com"><span class="id" title="definition">propagate_com</span></a> <a class="idref" href="Hoare3.html#example"><span class="id" title="definition">example</span></a>)<a class="idref" href="ImpEquiv.html#07441a5b1aff2e95834856beb1cf4a<sub>14</sub>"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ImpEquiv.html#fold_constants_com_sound"><span class="id" title="lemma">fold_constants_com_sound</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Hoare3.html#propagate_com_sound"><span class="id" title="lemma">propagate_com_sound</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Fixpoint</span> <a id="loop_unroll_while" class="idref" href="#loop_unroll_while"><span class="id" title="definition">loop_unroll_while</span></a> (<a id="n:196" class="idref" href="#n:196"><span class="id" title="binder">n</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="b:197" class="idref" href="#b:197"><span class="id" title="binder">b</span></a>:<a class="idref" href="Imp.html#bexp"><span class="id" title="inductive">bexp</span></a>) (<a id="c:198" class="idref" href="#c:198"><span class="id" title="binder">c</span></a>:<a class="idref" href="Imp.html#com"><span class="id" title="inductive">com</span></a>) : <a class="idref" href="Imp.html#com"><span class="id" title="inductive">com</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Hoare3.html#n:196"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| 0 ⇒ <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="Hoare3.html#b:197"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="Hoare3.html#c:198"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> ⇒ <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="Hoare3.html#b:197"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="Hoare3.html#c:198"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Hoare3.html#loop_unroll_while:199"><span class="id" title="definition">loop_unroll_while</span></a> <a class="idref" href="Hoare3.html#n:196"><span class="id" title="variable">n</span></a> <a class="idref" href="Hoare3.html#b:197"><span class="id" title="variable">b</span></a> <a class="idref" href="Hoare3.html#c:198"><span class="id" title="variable">c</span></a><a class="idref" href="Imp.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="loop_unroll_sound" class="idref" href="#loop_unroll_sound"><span class="id" title="lemma">loop_unroll_sound</span></a> : <span class="id" title="keyword">∀</span> (<a id="n:201" class="idref" href="#n:201"><span class="id" title="binder">n</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="b:202" class="idref" href="#b:202"><span class="id" title="binder">b</span></a>:<a class="idref" href="Imp.html#bexp"><span class="id" title="inductive">bexp</span></a>) (<a id="c:203" class="idref" href="#c:203"><span class="id" title="binder">c</span></a>:<a class="idref" href="Imp.html#com"><span class="id" title="inductive">com</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="Hoare3.html#b:202"><span class="id" title="variable">b</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="Hoare3.html#c:203"><span class="id" title="variable">c</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#8f9238d4eefe0b5c60a6c98165047666"><span class="id" title="notation">≡</span></a> <a class="idref" href="Hoare3.html#loop_unroll_while"><span class="id" title="definition">loop_unroll_while</span></a> <a class="idref" href="Hoare3.html#n:201"><span class="id" title="variable">n</span></a> <a class="idref" href="Hoare3.html#b:202"><span class="id" title="variable">b</span></a> <a class="idref" href="Hoare3.html#c:203"><span class="id" title="variable">c</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ImpEquiv.html#loop_unroll1_sound_strong"><span class="id" title="lemma">loop_unroll1_sound_strong</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Fixpoint</span> <a id="loop_unroll_com" class="idref" href="#loop_unroll_com"><span class="id" title="definition">loop_unroll_com</span></a> <a id="n:204" class="idref" href="#n:204"><span class="id" title="binder">n</span></a> (<a id="c:205" class="idref" href="#c:205"><span class="id" title="binder">c</span></a>:<a class="idref" href="Imp.html#com"><span class="id" title="inductive">com</span></a>) : <a class="idref" href="Imp.html#com"><span class="id" title="inductive">com</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Hoare3.html#c:205"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒ <a class="idref" href="Hoare3.html#c:205"><span class="id" title="variable">c</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">y</span> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">a</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒ <a class="idref" href="Hoare3.html#c:205"><span class="id" title="variable">c</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">c<sub>1</sub></span> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <span class="id" title="var">c<sub>2</sub></span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c<sub>1</sub>':208" class="idref" href="#c<sub>1</sub>':208"><span class="id" title="binder">c<sub>1</sub>'</span></a> := <a class="idref" href="Hoare3.html#loop_unroll_com:206"><span class="id" title="definition">loop_unroll_com</span></a> <a class="idref" href="Hoare3.html#n:204"><span class="id" title="variable">n</span></a> <span class="id" title="var">c<sub>1</sub></span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c<sub>2</sub>':209" class="idref" href="#c<sub>2</sub>':209"><span class="id" title="binder">c<sub>2</sub>'</span></a> := <a class="idref" href="Hoare3.html#loop_unroll_com:206"><span class="id" title="definition">loop_unroll_com</span></a> <a class="idref" href="Hoare3.html#n:204"><span class="id" title="variable">n</span></a> <span class="id" title="var">c<sub>2</sub></span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Hoare3.html#c<sub>1</sub>':208"><span class="id" title="variable">c<sub>1</sub>'</span></a> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Hoare3.html#c<sub>2</sub>':209"><span class="id" title="variable">c<sub>2</sub>'</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <span class="id" title="var">b</span> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <span class="id" title="var">c<sub>1</sub></span> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <span class="id" title="var">c<sub>2</sub></span> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c<sub>1</sub>':210" class="idref" href="#c<sub>1</sub>':210"><span class="id" title="binder">c<sub>1</sub>'</span></a> := <a class="idref" href="Hoare3.html#loop_unroll_com:206"><span class="id" title="definition">loop_unroll_com</span></a> <a class="idref" href="Hoare3.html#n:204"><span class="id" title="variable">n</span></a> <span class="id" title="var">c<sub>1</sub></span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c<sub>2</sub>':211" class="idref" href="#c<sub>2</sub>':211"><span class="id" title="binder">c<sub>2</sub>'</span></a> := <a class="idref" href="Hoare3.html#loop_unroll_com:206"><span class="id" title="definition">loop_unroll_com</span></a> <a class="idref" href="Hoare3.html#n:204"><span class="id" title="variable">n</span></a> <span class="id" title="var">c<sub>2</sub></span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a>  <span class="id" title="var">b</span> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="Hoare3.html#c<sub>1</sub>':210"><span class="id" title="variable">c<sub>1</sub>'</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="Hoare3.html#c<sub>2</sub>':211"><span class="id" title="variable">c<sub>2</sub>'</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <span class="id" title="var">b</span> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <span class="id" title="var">c</span> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Hoare3.html#loop_unroll_while"><span class="id" title="definition">loop_unroll_while</span></a> <a class="idref" href="Hoare3.html#n:204"><span class="id" title="variable">n</span></a> <span class="id" title="var">b</span> <a class="idref" href="Hoare3.html#c:205"><span class="id" title="variable">c</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="loop_unroll_com_sound" class="idref" href="#loop_unroll_com_sound"><span class="id" title="lemma">loop_unroll_com_sound</span></a> : <span class="id" title="keyword">∀</span> <a id="n:212" class="idref" href="#n:212"><span class="id" title="binder">n</span></a> <a id="c:213" class="idref" href="#c:213"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Hoare3.html#c:213"><span class="id" title="variable">c</span></a> <a class="idref" href="ImpEquiv.html#07441a5b1aff2e95834856beb1cf4a<sub>14</sub>"><span class="id" title="notation">≊</span></a> <a class="idref" href="ImpEquiv.html#07441a5b1aff2e95834856beb1cf4a<sub>14</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Hoare3.html#loop_unroll_com"><span class="id" title="definition">loop_unroll_com</span></a> <a class="idref" href="Hoare3.html#n:212"><span class="id" title="variable">n</span></a> <a class="idref" href="Hoare3.html#c:213"><span class="id" title="variable">c</span></a><a class="idref" href="ImpEquiv.html#07441a5b1aff2e95834856beb1cf4a<sub>14</sub>"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHc1</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHc1</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ImpEquiv.html#com_equiv"><span class="id" title="definition">com_equiv</span></a>. <span class="id" title="tactic">intros</span> σ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ImpEquiv.html#com_eq_subrel_equiv"><span class="id" title="instance">com_eq_subrel_equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Hoare3.html#loop_unroll_sound"><span class="id" title="lemma">loop_unroll_sound</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Fixpoint</span> <a id="iterate_opt" class="idref" href="#iterate_opt"><span class="id" title="definition">iterate_opt</span></a> (<a id="n:214" class="idref" href="#n:214"><span class="id" title="binder">n</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="opt:215" class="idref" href="#opt:215"><span class="id" title="binder">opt</span></a> : <a class="idref" href="Imp.html#com"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Imp.html#com"><span class="id" title="inductive">com</span></a>) <a id="c:216" class="idref" href="#c:216"><span class="id" title="binder">c</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Hoare3.html#n:214"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| 0 ⇒ <a class="idref" href="Hoare3.html#c:216"><span class="id" title="variable">c</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> ⇒ <a class="idref" href="Hoare3.html#iterate_opt:217"><span class="id" title="definition">iterate_opt</span></a> <a class="idref" href="Hoare3.html#n:214"><span class="id" title="variable">n</span></a> <a class="idref" href="Hoare3.html#opt:215"><span class="id" title="variable">opt</span></a> (<a class="idref" href="Hoare3.html#opt:215"><span class="id" title="variable">opt</span></a> <a class="idref" href="Hoare3.html#c:216"><span class="id" title="variable">c</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="iterate_opt_sound" class="idref" href="#iterate_opt_sound"><span class="id" title="lemma">iterate_opt_sound</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:219" class="idref" href="#n:219"><span class="id" title="binder">n</span></a> (<a id="opt:220" class="idref" href="#opt:220"><span class="id" title="binder">opt</span></a> : <a class="idref" href="Imp.html#com"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Imp.html#com"><span class="id" title="inductive">com</span></a>)  (<a id="OPTSOUND:222" class="idref" href="#OPTSOUND:222"><span class="id" title="binder">OPTSOUND</span></a>: <span class="id" title="keyword">∀</span> <a id="c:221" class="idref" href="#c:221"><span class="id" title="binder">c</span></a>, <a class="idref" href="Hoare3.html#c:221"><span class="id" title="variable">c</span></a> <a class="idref" href="ImpEquiv.html#07441a5b1aff2e95834856beb1cf4a<sub>14</sub>"><span class="id" title="notation">≊</span></a> <a class="idref" href="Hoare3.html#opt:220"><span class="id" title="variable">opt</span></a> <a class="idref" href="Hoare3.html#c:221"><span class="id" title="variable">c</span></a>) <a id="c:223" class="idref" href="#c:223"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Hoare3.html#c:223"><span class="id" title="variable">c</span></a> <a class="idref" href="ImpEquiv.html#07441a5b1aff2e95834856beb1cf4a<sub>14</sub>"><span class="id" title="notation">≊</span></a> <a class="idref" href="Hoare3.html#iterate_opt"><span class="id" title="definition">iterate_opt</span></a> <a class="idref" href="Hoare3.html#n:219"><span class="id" title="variable">n</span></a> <a class="idref" href="Hoare3.html#opt:220"><span class="id" title="variable">opt</span></a> <a class="idref" href="Hoare3.html#c:223"><span class="id" title="variable">c</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">opt</span> <span class="id" title="var">OPTSOUND</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">OPTSOUND</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="optimize" class="idref" href="#optimize"><span class="id" title="definition">optimize</span></a> (<a id="n:224" class="idref" href="#n:224"><span class="id" title="binder">n</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="c:225" class="idref" href="#c:225"><span class="id" title="binder">c</span></a>:<a class="idref" href="Imp.html#com"><span class="id" title="inductive">com</span></a>) : <a class="idref" href="Imp.html#com"><span class="id" title="inductive">com</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c':226" class="idref" href="#c':226"><span class="id" title="binder">c'</span></a> := <a class="idref" href="Hoare3.html#com_assocR"><span class="id" title="definition">com_assocR</span></a> (<a class="idref" href="Hoare3.html#loop_unroll_com"><span class="id" title="definition">loop_unroll_com</span></a> <a class="idref" href="Hoare3.html#n:224"><span class="id" title="variable">n</span></a> <a class="idref" href="Hoare3.html#c:225"><span class="id" title="variable">c</span></a>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="Hoare3.html#iterate_opt"><span class="id" title="definition">iterate_opt</span></a> <a class="idref" href="Hoare3.html#n:224"><span class="id" title="variable">n</span></a> (<span class="id" title="keyword">fun</span> <a id="c:227" class="idref" href="#c:227"><span class="id" title="binder">c</span></a> ⇒ <a class="idref" href="ImpEquiv.html#fold_constants_com"><span class="id" title="definition">fold_constants_com</span></a> (<a class="idref" href="Hoare3.html#propagate_com"><span class="id" title="definition">propagate_com</span></a> <a class="idref" href="Hoare3.html#c:227"><span class="id" title="variable">c</span></a>)) <a class="idref" href="Hoare3.html#c':226"><span class="id" title="variable">c'</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="optimize_sound" class="idref" href="#optimize_sound"><span class="id" title="lemma">optimize_sound</span></a> : <span class="id" title="keyword">∀</span> <a id="n:228" class="idref" href="#n:228"><span class="id" title="binder">n</span></a> <a id="c:229" class="idref" href="#c:229"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Hoare3.html#c:229"><span class="id" title="variable">c</span></a> <a class="idref" href="ImpEquiv.html#07441a5b1aff2e95834856beb1cf4a<sub>14</sub>"><span class="id" title="notation">≊</span></a> <a class="idref" href="Hoare3.html#optimize"><span class="id" title="definition">optimize</span></a> <a class="idref" href="Hoare3.html#n:228"><span class="id" title="variable">n</span></a> <a class="idref" href="Hoare3.html#c:229"><span class="id" title="variable">c</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Hoare3.html#optimize"><span class="id" title="definition">optimize</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Hoare3.html#iterate_opt_sound"><span class="id" title="lemma">iterate_opt_sound</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Hoare3.html#com_assocR_correct"><span class="id" title="lemma">com_assocR_correct</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Hoare3.html#loop_unroll_com_sound"><span class="id" title="lemma">loop_unroll_com_sound</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">c<sub>0</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ImpEquiv.html#fold_constants_com_sound"><span class="id" title="lemma">fold_constants_com_sound</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Hoare3.html#propagate_com_sound"><span class="id" title="lemma">propagate_com_sound</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Opaque</span> <a class="idref" href="Hoare3.html#optimize_sound"><span class="id" title="lemma">optimize_sound</span></a>.<br/>
</div>

<div class="doc">
Imp code for <span class="inlinecode"><span class="id" title="var">factorial</span></span> for a specific number: 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="fact_n" class="idref" href="#fact_n"><span class="id" title="definition">fact_n</span></a> <a id="n:230" class="idref" href="#n:230"><span class="id" title="binder">n</span></a> := <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="Hoare3.html#n:230"><span class="id" title="variable">n</span></a> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Imp.html#fact_in_coq"><span class="id" title="definition">fact_in_coq</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="fact_opt" class="idref" href="#fact_opt"><span class="id" title="definition">fact_opt</span></a> <a id="n:231" class="idref" href="#n:231"><span class="id" title="binder">n</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Hoare3.html#optimize"><span class="id" title="definition">optimize</span></a> (<a class="idref" href="Hoare3.html#n:231"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1) (<a class="idref" href="Hoare3.html#fact_n"><span class="id" title="definition">fact_n</span></a> <a class="idref" href="Hoare3.html#n:231"><span class="id" title="variable">n</span></a>).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="fact_opt8" class="idref" href="#fact_opt8"><span class="id" title="definition">fact_opt8</span></a> := <a class="idref" href="Hoare3.html#fact_opt"><span class="id" title="definition">fact_opt</span></a> 8.<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="keyword">in</span> <a class="idref" href="Hoare3.html#com_assocR"><span class="id" title="definition">com_assocR</span></a> <a class="idref" href="Hoare3.html#fact_opt8"><span class="id" title="definition">fact_opt8</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="fact_opt5" class="idref" href="#fact_opt5"><span class="id" title="definition">fact_opt5</span></a> := <a class="idref" href="Hoare3.html#fact_opt"><span class="id" title="definition">fact_opt</span></a> 5.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="keyword">in</span> <a class="idref" href="Hoare3.html#fact_n"><span class="id" title="definition">fact_n</span></a> 5.<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="keyword">in</span> <a class="idref" href="Hoare3.html#fact_opt5"><span class="id" title="definition">fact_opt5</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="fact_opt_correct" class="idref" href="#fact_opt_correct"><span class="id" title="lemma">fact_opt_correct</span></a> : <span class="id" title="keyword">∀</span> (<a id="n:232" class="idref" href="#n:232"><span class="id" title="binder">n</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="Hoare3.html#n:232"><span class="id" title="variable">n</span></a> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Imp.html#fact_in_coq"><span class="id" title="definition">fact_in_coq</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#07441a5b1aff2e95834856beb1cf4a<sub>14</sub>"><span class="id" title="notation">≊</span></a> <a class="idref" href="Hoare3.html#fact_opt"><span class="id" title="definition">fact_opt</span></a> <a class="idref" href="Hoare3.html#n:232"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Imp.html#fact_in_coq"><span class="id" title="definition">fact_in_coq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Hoare3.html#optimize_sound"><span class="id" title="lemma">optimize_sound</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="store_store_elimination_correct" class="idref" href="#store_store_elimination_correct"><span class="id" title="lemma">store_store_elimination_correct</span></a> : <span class="id" title="keyword">∀</span> <a id="x:233" class="idref" href="#x:233"><span class="id" title="binder">x</span></a> <a id="a<sub>1</sub>:234" class="idref" href="#a<sub>1</sub>:234"><span class="id" title="binder">a<sub>1</sub></span></a> <a id="a<sub>2</sub>:235" class="idref" href="#a<sub>2</sub>:235"><span class="id" title="binder">a<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Hoare3.html#contains"><span class="id" title="definition">contains</span></a> <a class="idref" href="Hoare3.html#x:233"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#a<sub>2</sub>:235"><span class="id" title="variable">a<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Hoare3.html#x:233"><span class="id" title="variable">x</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="Hoare3.html#a<sub>1</sub>:234"><span class="id" title="variable">a<sub>1</sub></span></a> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Hoare3.html#x:233"><span class="id" title="variable">x</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="Hoare3.html#a<sub>2</sub>:235"><span class="id" title="variable">a<sub>2</sub></span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#07441a5b1aff2e95834856beb1cf4a<sub>14</sub>"><span class="id" title="notation">≊</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Hoare3.html#x:233"><span class="id" title="variable">x</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="Hoare3.html#a<sub>2</sub>:235"><span class="id" title="variable">a<sub>2</sub></span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">a<sub>1</sub></span> <span class="id" title="var">a<sub>2</sub></span> <span class="id" title="var">H</span> σ.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">eutt_Ret</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="Hoare3.html#contains_false_equiv"><span class="id" title="lemma">contains_false_equiv</span></a> <span class="id" title="var">x</span> <span class="id" title="var">a<sub>2</sub></span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Maps.html#t_update_shadow"><span class="id" title="axiom">t_update_shadow</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="asgn_commutes" class="idref" href="#asgn_commutes"><span class="id" title="lemma">asgn_commutes</span></a> : <span class="id" title="keyword">∀</span> (<a id="x:236" class="idref" href="#x:236"><span class="id" title="binder">x</span></a> <a id="y:237" class="idref" href="#y:237"><span class="id" title="binder">y</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) <a id="a<sub>1</sub>:238" class="idref" href="#a<sub>1</sub>:238"><span class="id" title="binder">a<sub>1</sub></span></a> <a id="a<sub>2</sub>:239" class="idref" href="#a<sub>2</sub>:239"><span class="id" title="binder">a<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Hoare3.html#contains"><span class="id" title="definition">contains</span></a> <a class="idref" href="Hoare3.html#x:236"><span class="id" title="variable">x</span></a> <a class="idref" href="Hoare3.html#a<sub>2</sub>:239"><span class="id" title="variable">a<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Hoare3.html#contains"><span class="id" title="definition">contains</span></a> <a class="idref" href="Hoare3.html#y:237"><span class="id" title="variable">y</span></a> <a class="idref" href="Hoare3.html#a<sub>1</sub>:238"><span class="id" title="variable">a<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Imp.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Hoare3.html#x:236"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="Hoare3.html#y:237"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Hoare3.html#x:236"><span class="id" title="variable">x</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="Hoare3.html#a<sub>1</sub>:238"><span class="id" title="variable">a<sub>1</sub></span></a> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Hoare3.html#y:237"><span class="id" title="variable">y</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="Hoare3.html#a<sub>2</sub>:239"><span class="id" title="variable">a<sub>2</sub></span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="ImpEquiv.html#07441a5b1aff2e95834856beb1cf4a<sub>14</sub>"><span class="id" title="notation">≊</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Hoare3.html#y:237"><span class="id" title="variable">y</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="Hoare3.html#a<sub>2</sub>:239"><span class="id" title="variable">a<sub>2</sub></span></a><a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Hoare3.html#x:236"><span class="id" title="variable">x</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="Hoare3.html#a<sub>1</sub>:238"><span class="id" title="variable">a<sub>1</sub></span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">a<sub>1</sub></span> <span class="id" title="var">a<sub>2</sub></span> <span class="id" title="var">C<sub>1</sub></span> <span class="id" title="var">C<sub>2</sub></span> <span class="id" title="var">NEQ</span> σ.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">norm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">eutt_Ret</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="Hoare3.html#contains_false_equiv"><span class="id" title="lemma">contains_false_equiv</span></a> <span class="id" title="var">x</span> <span class="id" title="var">a<sub>2</sub></span> <span class="id" title="var">C<sub>1</sub></span>) <span class="id" title="keyword">as</span> <span class="id" title="var">EQ<sub>1</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EQ<sub>1</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="Hoare3.html#contains_false_equiv"><span class="id" title="lemma">contains_false_equiv</span></a> <span class="id" title="var">y</span> <span class="id" title="var">a<sub>1</sub></span> <span class="id" title="var">C<sub>2</sub></span>) <span class="id" title="keyword">as</span> <span class="id" title="var">EQ<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EQ<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Maps.html#t_update_permute"><span class="id" title="axiom">t_update_permute</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="keyword">in</span> <a class="idref" href="Hoare3.html#fact_opt5"><span class="id" title="definition">fact_opt5</span></a>.<br/>
</div>

<div class="doc">

<div class="paragraph"> </div>

x1 = a<sub>1</sub> ; x<sub>2</sub> = a<sub>2</sub> ; x<sub>3</sub> = a<sub>3</sub> ; c
x1 = x<sub>3</sub>
x1 = a<sub>1</sub> ; x<sub>2</sub> = a<sub>2</sub> ; x<sub>1</sub> = a<sub>3</sub> ; c   // x<sub>1</sub> &lt;&gt; x<sub>2</sub> /\ not (contains x<sub>1</sub> a<sub>2</sub>)  /\ not (contains x<sub>2</sub> a<sub>3</sub>)
x1 = a<sub>1</sub> ; x<sub>1</sub> = a<sub>3</sub> ; x<sub>2</sub> = a<sub>2</sub> ; c
x1 = a<sub>3</sub> ; x<sub>2</sub> = a<sub>2</sub> ; c             // not contains x<sub>1</sub> a<sub>3</sub>

</div>
<div class="code">

<span class="id" title="keyword">Fixpoint</span> <a id="dead_store_elimination" class="idref" href="#dead_store_elimination"><span class="id" title="definition">dead_store_elimination</span></a> (<a id="c:240" class="idref" href="#c:240"><span class="id" title="binder">c</span></a>:<a class="idref" href="Imp.html#com"><span class="id" title="inductive">com</span></a>) : <a class="idref" href="Imp.html#com"><span class="id" title="inductive">com</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Hoare3.html#c:240"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒ <a class="idref" href="Hoare3.html#c:240"><span class="id" title="variable">c</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">x</span> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">a</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒ <a class="idref" href="Hoare3.html#c:240"><span class="id" title="variable">c</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">x<sub>1</sub></span> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">a<sub>1</sub></span><a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <span class="id" title="var">c<sub>2</sub></span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c<sub>2</sub>':243" class="idref" href="#c<sub>2</sub>':243"><span class="id" title="binder">c<sub>2</sub>'</span></a> := <a class="idref" href="Hoare3.html#dead_store_elimination:241"><span class="id" title="definition">dead_store_elimination</span></a> <span class="id" title="var">c<sub>2</sub></span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Hoare3.html#c<sub>2</sub>':243"><span class="id" title="variable">c<sub>2</sub>'</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">x<sub>2</sub></span> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">a<sub>2</sub></span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb"><span class="id" title="definition">String.eqb</span></a> <span class="id" title="var">x<sub>1</sub></span> <span class="id" title="var">x<sub>2</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="Hoare3.html#contains"><span class="id" title="definition">contains</span></a> <span class="id" title="var">x<sub>1</sub></span> <span class="id" title="var">a<sub>2</sub></span>))%<span class="id" title="var">bool</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">x<sub>2</sub></span> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">a<sub>2</sub></span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">x<sub>1</sub></span> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">a<sub>1</sub></span> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Hoare3.html#c<sub>2</sub>':243"><span class="id" title="variable">c<sub>2</sub>'</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">x<sub>2</sub></span> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">a<sub>2</sub></span> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <span class="id" title="var">c<sub>3</sub>'</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">c<sub>3</sub>'</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">x<sub>3</sub></span> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">a<sub>3</sub></span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb"><span class="id" title="definition">String.eqb</span></a> <span class="id" title="var">x<sub>1</sub></span> <span class="id" title="var">x<sub>3</sub></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb"><span class="id" title="definition">String.eqb</span></a> <span class="id" title="var">x<sub>2</sub></span> <span class="id" title="var">x<sub>3</sub></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="Hoare3.html#contains"><span class="id" title="definition">contains</span></a> <span class="id" title="var">x<sub>3</sub></span> <span class="id" title="var">a<sub>2</sub></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="Hoare3.html#contains"><span class="id" title="definition">contains</span></a> <span class="id" title="var">x<sub>2</sub></span> <span class="id" title="var">a<sub>3</sub></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="Hoare3.html#contains"><span class="id" title="definition">contains</span></a> <span class="id" title="var">x<sub>1</sub></span> <span class="id" title="var">a<sub>3</sub></span>))%<span class="id" title="var">bool</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">x<sub>3</sub></span> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">a<sub>3</sub></span> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <span class="id" title="var">x<sub>2</sub></span> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">a<sub>2</sub></span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">x<sub>1</sub></span> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">a<sub>1</sub></span> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Hoare3.html#c<sub>2</sub>':243"><span class="id" title="variable">c<sub>2</sub>'</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">x<sub>3</sub></span> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">a<sub>3</sub></span> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <span class="id" title="var">c<sub>4</sub>'</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb"><span class="id" title="definition">String.eqb</span></a> <span class="id" title="var">x<sub>1</sub></span> <span class="id" title="var">x<sub>3</sub></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a>  <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb"><span class="id" title="definition">String.eqb</span></a> <span class="id" title="var">x<sub>2</sub></span> <span class="id" title="var">x<sub>3</sub></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="Hoare3.html#contains"><span class="id" title="definition">contains</span></a> <span class="id" title="var">x<sub>3</sub></span> <span class="id" title="var">a<sub>2</sub></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="Hoare3.html#contains"><span class="id" title="definition">contains</span></a> <span class="id" title="var">x<sub>2</sub></span> <span class="id" title="var">a<sub>3</sub></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="Hoare3.html#contains"><span class="id" title="definition">contains</span></a> <span class="id" title="var">x<sub>1</sub></span> <span class="id" title="var">a<sub>3</sub></span>))%<span class="id" title="var">bool</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">x<sub>3</sub></span> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">a<sub>3</sub></span> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <span class="id" title="var">x<sub>2</sub></span> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">a<sub>2</sub></span> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <span class="id" title="var">c<sub>4</sub>'</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="keyword">if</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb"><span class="id" title="definition">String.eqb</span></a> <span class="id" title="var">x<sub>1</sub></span> <span class="id" title="var">x<sub>2</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb"><span class="id" title="definition">String.eqb</span></a> <span class="id" title="var">x<sub>2</sub></span> <span class="id" title="var">x<sub>3</sub></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="Hoare3.html#contains"><span class="id" title="definition">contains</span></a> <span class="id" title="var">x<sub>1</sub></span> <span class="id" title="var">a<sub>2</sub></span>))%<span class="id" title="var">bool</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">x<sub>2</sub></span> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">a<sub>2</sub></span> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <span class="id" title="var">x<sub>3</sub></span> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">a<sub>3</sub></span> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <span class="id" title="var">c<sub>4</sub>'</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">x<sub>1</sub></span> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">a<sub>1</sub></span> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Hoare3.html#c<sub>2</sub>':243"><span class="id" title="variable">c<sub>2</sub>'</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb"><span class="id" title="definition">String.eqb</span></a> <span class="id" title="var">x<sub>1</sub></span> <span class="id" title="var">x<sub>2</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="Hoare3.html#contains"><span class="id" title="definition">contains</span></a> <span class="id" title="var">x<sub>1</sub></span> <span class="id" title="var">a<sub>2</sub></span>))%<span class="id" title="var">bool</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">x<sub>2</sub></span> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">a<sub>2</sub></span> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <span class="id" title="var">c<sub>3</sub>'</span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">x<sub>1</sub></span> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">a<sub>1</sub></span> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Hoare3.html#c<sub>2</sub>':243"><span class="id" title="variable">c<sub>2</sub>'</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">x<sub>1</sub></span> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">a<sub>1</sub></span> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Hoare3.html#c<sub>2</sub>':243"><span class="id" title="variable">c<sub>2</sub>'</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">c<sub>1</sub></span> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <span class="id" title="var">c<sub>2</sub></span> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c<sub>2</sub>':246" class="idref" href="#c<sub>2</sub>':246"><span class="id" title="binder">c<sub>2</sub>'</span></a> := <a class="idref" href="Hoare3.html#dead_store_elimination:241"><span class="id" title="definition">dead_store_elimination</span></a> <span class="id" title="var">c<sub>2</sub></span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">c<sub>1</sub></span> <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Hoare3.html#c<sub>2</sub>':246"><span class="id" title="variable">c<sub>2</sub>'</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <span class="id" title="var">b</span> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <span class="id" title="var">c<sub>1</sub></span> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <span class="id" title="var">c<sub>2</sub></span> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c<sub>1</sub>':247" class="idref" href="#c<sub>1</sub>':247"><span class="id" title="binder">c<sub>1</sub>'</span></a> := <a class="idref" href="Hoare3.html#dead_store_elimination:241"><span class="id" title="definition">dead_store_elimination</span></a> <span class="id" title="var">c<sub>1</sub></span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c<sub>2</sub>':248" class="idref" href="#c<sub>2</sub>':248"><span class="id" title="binder">c<sub>2</sub>'</span></a> := <a class="idref" href="Hoare3.html#dead_store_elimination:241"><span class="id" title="definition">dead_store_elimination</span></a> <span class="id" title="var">c<sub>2</sub></span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a>  <span class="id" title="var">b</span> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="Hoare3.html#c<sub>1</sub>':247"><span class="id" title="variable">c<sub>1</sub>'</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="Hoare3.html#c<sub>2</sub>':248"><span class="id" title="variable">c<sub>2</sub>'</span></a> <a class="idref" href="Imp.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <span class="id" title="var">b</span> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <span class="id" title="var">c</span> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c':249" class="idref" href="#c':249"><span class="id" title="binder">c'</span></a> := <a class="idref" href="Hoare3.html#dead_store_elimination:241"><span class="id" title="definition">dead_store_elimination</span></a> <a class="idref" href="Hoare3.html#c:240"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <span class="id" title="var">b</span> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="Hoare3.html#c':249"><span class="id" title="variable">c'</span></a> <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="keyword">in</span> (<a class="idref" href="Hoare3.html#dead_store_elimination"><span class="id" title="definition">dead_store_elimination</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 0 <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 1 <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 2 <a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>).<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="keyword">in</span> (<a class="idref" href="Hoare3.html#dead_store_elimination"><span class="id" title="definition">dead_store_elimination</span></a> (<a class="idref" href="Hoare3.html#com_assocR"><span class="id" title="definition">com_assocR</span></a> <a class="idref" href="Hoare3.html#fact_opt5"><span class="id" title="definition">fact_opt5</span></a>)).<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="keyword">in</span> (<a class="idref" href="Hoare3.html#dead_store_elimination"><span class="id" title="definition">dead_store_elimination</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 120<a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Imp.html#Z"><span class="id" title="definition">Z</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 0<a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>).<br/>
<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="keyword">in</span> (<a class="idref" href="Hoare3.html#dead_store_elimination"><span class="id" title="definition">dead_store_elimination</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a><a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 0<a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 120<a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Imp.html#Z"><span class="id" title="definition">Z</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 0<a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Imp.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="dead_store_elimination_correct" class="idref" href="#dead_store_elimination_correct"><span class="id" title="lemma">dead_store_elimination_correct</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="c:250" class="idref" href="#c:250"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Hoare3.html#c:250"><span class="id" title="variable">c</span></a> <a class="idref" href="ImpEquiv.html#07441a5b1aff2e95834856beb1cf4a<sub>14</sub>"><span class="id" title="notation">≊</span></a> <a class="idref" href="ImpEquiv.html#07441a5b1aff2e95834856beb1cf4a<sub>14</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="Hoare3.html#dead_store_elimination"><span class="id" title="definition">dead_store_elimination</span></a> <a class="idref" href="Hoare3.html#c:250"><span class="id" title="variable">c</span></a><a class="idref" href="ImpEquiv.html#07441a5b1aff2e95834856beb1cf4a<sub>14</sub>"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">c<sub>1</sub></span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHc2</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="Hoare3.html#dead_store_elimination"><span class="id" title="definition">dead_store_elimination</span></a> <span class="id" title="var">c<sub>2</sub></span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHc2</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">x<sub>0</sub></span>); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Hoare3.html#contains"><span class="id" title="definition">contains</span></a> <span class="id" title="var">x<sub>0</sub></span> <span class="id" title="var">a<sub>0</sub></span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">HC</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: { <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Hoare3.html#store_store_elimination_correct"><span class="id" title="lemma">store_store_elimination_correct</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">c<sub>1</sub></span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHc2</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c<sub>3</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">x<sub>0</sub></span>); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Hoare3.html#contains"><span class="id" title="definition">contains</span></a> <span class="id" title="var">x<sub>0</sub></span> <span class="id" title="var">a<sub>0</sub></span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">HC</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ImpEquiv.html#seqA_sound"><span class="id" title="lemma">seqA_sound</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Hoare3.html#store_store_elimination_correct"><span class="id" title="lemma">store_store_elimination_correct</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">x<sub>1</sub></span>); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> <span class="id" title="var">x<sub>0</sub></span> <span class="id" title="var">x<sub>1</sub></span>); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: { <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Hoare3.html#contains"><span class="id" title="definition">contains</span></a> <span class="id" title="var">x<sub>1</sub></span> <span class="id" title="var">a<sub>0</sub></span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">HC<sub>1</sub></span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: { <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Hoare3.html#contains"><span class="id" title="definition">contains</span></a> <span class="id" title="var">x<sub>0</sub></span> <span class="id" title="var">a<sub>1</sub></span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">HC<sub>2</sub></span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: { <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Hoare3.html#contains"><span class="id" title="definition">contains</span></a> <span class="id" title="var">x<sub>1</sub></span> <span class="id" title="var">a<sub>1</sub></span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">HC<sub>3</sub></span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: { <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Hoare3.html#asgn_commutes"><span class="id" title="lemma">asgn_commutes</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ImpEquiv.html#seqA_sound"><span class="id" title="lemma">seqA_sound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Hoare3.html#store_store_elimination_correct"><span class="id" title="lemma">store_store_elimination_correct</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">destruct</span> <span class="id" title="var">c3_1</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">x<sub>0</sub></span>); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 : { <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Hoare3.html#contains"><span class="id" title="definition">contains</span></a> <span class="id" title="var">x<sub>0</sub></span> <span class="id" title="var">a<sub>0</sub></span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">HC<sub>1</sub></span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1 : { <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ImpEquiv.html#seqA_sound"><span class="id" title="lemma">seqA_sound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Hoare3.html#store_store_elimination_correct"><span class="id" title="lemma">store_store_elimination_correct</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">x<sub>1</sub></span>); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: { <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> <span class="id" title="var">x<sub>0</sub></span> <span class="id" title="var">x<sub>1</sub></span>); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> <span class="id" title="var">x<sub>1</sub></span> <span class="id" title="var">x<sub>1</sub></span>); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="var">contradiction</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Hoare3.html#contains"><span class="id" title="definition">contains</span></a> <span class="id" title="var">x<sub>1</sub></span> <span class="id" title="var">a<sub>0</sub></span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">HC</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> <span class="id" title="var">x<sub>1</sub></span> <span class="id" title="var">x<sub>0</sub></span>); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Hoare3.html#contains"><span class="id" title="definition">contains</span></a> <span class="id" title="var">x<sub>0</sub></span> <span class="id" title="var">a</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">HC<sub>1</sub></span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Hoare3.html#contains"><span class="id" title="definition">contains</span></a> <span class="id" title="var">x<sub>0</sub></span> <span class="id" title="var">a<sub>1</sub></span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">HC<sub>1</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> <span class="id" title="var">x<sub>1</sub></span> <span class="id" title="var">x<sub>0</sub></span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Hoare3.html#contains"><span class="id" title="definition">contains</span></a> <span class="id" title="var">x<sub>1</sub></span> <span class="id" title="var">a<sub>1</sub></span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">HC<sub>2</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> <span class="id" title="var">x<sub>1</sub></span> <span class="id" title="var">x<sub>0</sub></span>); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ImpEquiv.html#seqA_sound"><span class="id" title="lemma">seqA_sound</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">IHc2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Hoare3.html#asgn_commutes"><span class="id" title="lemma">asgn_commutes</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">IHc2</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ImpEquiv.html#seqA_sound"><span class="id" title="lemma">seqA_sound</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">IHc2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ImpEquiv.html#seqA_sound"><span class="id" title="lemma">seqA_sound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Hoare3.html#store_store_elimination_correct"><span class="id" title="lemma">store_store_elimination_correct</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">x<sub>0</sub></span>); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> <span class="id" title="var">x<sub>0</sub></span> <span class="id" title="var">x<sub>1</sub></span>); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Hoare3.html#contains"><span class="id" title="definition">contains</span></a> <span class="id" title="var">x<sub>0</sub></span> <span class="id" title="var">a<sub>0</sub></span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">HC</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ImpEquiv.html#seqA_sound"><span class="id" title="lemma">seqA_sound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Hoare3.html#store_store_elimination_correct"><span class="id" title="lemma">store_store_elimination_correct</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">x<sub>0</sub></span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Hoare3.html#contains"><span class="id" title="definition">contains</span></a> <span class="id" title="var">x<sub>0</sub></span> <span class="id" title="var">a<sub>0</sub></span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">HC</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ImpEquiv.html#seqA_sound"><span class="id" title="lemma">seqA_sound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Hoare3.html#store_store_elimination_correct"><span class="id" title="lemma">store_store_elimination_correct</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">x<sub>0</sub></span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Hoare3.html#contains"><span class="id" title="definition">contains</span></a> <span class="id" title="var">x<sub>0</sub></span> <span class="id" title="var">a<sub>0</sub></span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">HC</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ImpEquiv.html#seqA_sound"><span class="id" title="lemma">seqA_sound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Hoare3.html#store_store_elimination_correct"><span class="id" title="lemma">store_store_elimination_correct</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">x<sub>0</sub></span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Hoare3.html#contains"><span class="id" title="definition">contains</span></a> <span class="id" title="var">x<sub>0</sub></span> <span class="id" title="var">a<sub>0</sub></span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">HC</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ImpEquiv.html#seqA_sound"><span class="id" title="lemma">seqA_sound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Hoare3.html#store_store_elimination_correct"><span class="id" title="lemma">store_store_elimination_correct</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">x<sub>0</sub></span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Hoare3.html#contains"><span class="id" title="definition">contains</span></a> <span class="id" title="var">x<sub>0</sub></span> <span class="id" title="var">a<sub>0</sub></span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">HC</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ImpEquiv.html#seqA_sound"><span class="id" title="lemma">seqA_sound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Hoare3.html#store_store_elimination_correct"><span class="id" title="lemma">store_store_elimination_correct</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">x<sub>0</sub></span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Hoare3.html#contains"><span class="id" title="definition">contains</span></a> <span class="id" title="var">x<sub>0</sub></span> <span class="id" title="var">a<sub>0</sub></span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">HC</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ImpEquiv.html#seqA_sound"><span class="id" title="lemma">seqA_sound</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Hoare3.html#store_store_elimination_correct"><span class="id" title="lemma">store_store_elimination_correct</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHc1</span>, &lt;- <span class="id" title="var">IHc2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHc</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
Example: using verified optimizations to prove an
equivalence between Imp programs. 
</div>
<div class="code">

<span class="id" title="keyword">Example</span> <a id="opt_fact_sound" class="idref" href="#opt_fact_sound"><span class="id" title="definition">opt_fact_sound</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 5<a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#Z"><span class="id" title="definition">Z</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a><a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 1<a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="Imp.html#Z"><span class="id" title="definition">Z</span></a> <a class="idref" href="Imp.html#:com::x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> 0 <a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#a73c7b35e67094dc8ae672f3a93da066"><span class="id" title="notation">×</span></a> <a class="idref" href="Imp.html#Z"><span class="id" title="definition">Z</span></a><a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#Z"><span class="id" title="definition">Z</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="Imp.html#Z"><span class="id" title="definition">Z</span></a> <a class="idref" href="Imp.html#:com::x_'-'_x"><span class="id" title="notation">-</span></a> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Imp.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpEquiv.html#07441a5b1aff2e95834856beb1cf4a<sub>14</sub>"><span class="id" title="notation">≊</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="Imp.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 5<a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Imp.html#Z"><span class="id" title="definition">Z</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 0<a class="idref" href="Imp.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="Imp.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="Imp.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 120 <a class="idref" href="Imp.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Hoare3.html#optimize_sound"><span class="id" title="lemma">optimize_sound</span></a> 6).<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Hoare3.html#dead_store_elimination_correct"><span class="id" title="lemma">dead_store_elimination_correct</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ImpEquiv.html#skipR_sound"><span class="id" title="lemma">skipR_sound</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="comment">(*&nbsp;2024-06-10&nbsp;19:33&nbsp;*)</span><br/>
</div>
</div>

<div id="footer">
<hr/><a href="coqindex.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>